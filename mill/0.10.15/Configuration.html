<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Configuring your Project :: The Mill Build Tool</title>
    <link rel="canonical" href="https://mill-build.org/mill/0.10.15/Configuration.html">
    <link rel="prev" href="Out_Dir.html">
    <link rel="next" href="Library_Dependencies.html">
    <meta name="generator" content="Antora 3.1.12">
    <link rel="stylesheet" href="../../_/css/site.css">
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-1C582ZJR85"></script>
    <script>function gtag(){dataLayer.push(arguments)};window.dataLayer=window.dataLayer||[];gtag('js',new Date());gtag('config','G-1C582ZJR85')</script>
<link rel="icon" href="../../_/favicon.png" type="image/x-icon">
  </head>
  <body class="article">
<header class="header">
  <style>
  /* auto-hyphenation is super ugly */
  *{
    hyphens: manual !important;
  }

  /* Reduce font size from 17px to something reasonable */
  .doc {
   font-size: 16px !important;
  }
  .doc pre {
   font-size: 14px !important;
  }
  /* Shrink unreasonably large top bar */
  nav.navbar{
    height: 2.5rem;
  }
  body.article{
    padding-top: 2.5rem;
  }
  div.nav-container{
    top: 2.5rem;
  }
  div.toolbar{
    top: 2.5rem;
  }
  aside.nav{
    top: 2.5rem;
    height: calc(100vh - 2.5rem);
  }
  </style>
  <script>
  gtag('config', 'AW-16649289906');

  document.addEventListener('DOMContentLoaded', function() {
  const links = document.querySelectorAll('a');
    links.forEach(link => {
      if (link.textContent.trim().toLowerCase() === 'download') {
        link.addEventListener('click', function(event) {
          console.log("download link clicked")
          gtag('event', 'conversion', {'send_to': 'AW-16649289906/rsphCKfVq8QZELKBgIM-'});
        });
      }
    });
  });
  </script>
  <nav class="navbar">
    <div class="navbar-brand">
      <!-- TODO: add mill icon -->
      <a class="navbar-item" href="https://mill-build.org"><img src="../../_/logo-white.svg" height="20" />&nbsp;The Mill Build Tool</a>
      <div class="navbar-item search">
        <input id="search-input" type="text" placeholder="Search the docs">
      </div>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="https://github.com/com-lihaoyi/mill">GitHub</a>
        <a class="navbar-item" href="https://mill-build.org/blog/index.html">Blog</a>
        <a class="navbar-item" href="https://mill-build.org/api/latest/mill.html">API</a>
        <a class="navbar-item" href="https://github.com/com-lihaoyi/mill/issues">Issues</a>
        <a class="navbar-item" href="https://github.com/com-lihaoyi/mill/discussions">Discuss</a>


            <!--
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Documentation</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#"></a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Plugins</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Service A</a>
            <a class="navbar-item" href="#">Service B</a>
            <a class="navbar-item" href="#">Service C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Resources</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Resource A</a>
            <a class="navbar-item" href="#">Resource B</a>
            <a class="navbar-item" href="#">Resource C</a>
          </div>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div>
        -->
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="mill" data-version="0.10.15">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
<ul class="nav-list">

  <li class="nav-item" data-depth="0">
<ul class="nav-list">

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Intro_to_Mill.html">Introduction to Mill</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Installation.html">Installation</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Getting_Started.html">Getting Started</a>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <a class="nav-link" href="IDE_Support.html">IDE Support</a>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <a class="nav-link" href="Out_Dir.html">The Output Directory</a>
  </li>

  <li class="nav-item is-current-page is-active" data-depth="1">
    <a class="nav-link" href="Configuration.html">Configuring your Project</a>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <a class="nav-link" href="Library_Dependencies.html">Library Dependencies in Mill</a>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <a class="nav-link" href="Common_Project_Layouts.html">Common Project Layouts</a>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <a class="nav-link" href="Tasks.html">Tasks</a>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <a class="nav-link" href="Task_Context_API.html">Task Context API</a>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <a class="nav-link" href="Modules.html">Modules</a>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <a class="nav-link" href="Cross_Builds.html">Cross Builds</a>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <a class="nav-link" href="Extending_Mill.html">Extending Mill</a>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <a class="nav-link" href="Using_Plugins.html">Using Plugins</a>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <a class="nav-link" href="Mill_Internals.html">Mill Internals</a>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="Contrib_Plugins.html">Contrib Plugins</a>
<ul class="nav-list">

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Plugin_Artifactory.html">Artifactory</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Plugin_Bintray.html">Bintray</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Plugin_Bloop.html">Bloop</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="Plugin_BuildInfo.html">BuildInfo</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="Plugin_BSP.html">BSP - Build Server Protocol</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="Plugin_Codeartifact.html">Codeartifact</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="Plugin_Docker.html">Docker</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="Plugin_Flyway.html">Flyway</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="Plugin_Gitlab.html">Gitlab</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="Plugin_Play.html">Play Framework</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="Plugin_Proguard.html">Proguard</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="Plugin_ScalaPB.html">ScalaPB</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="Plugin_Scoverage.html">Scoverage</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="TestNG_TestFramework.html">TestNG</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="Plugin_Twirl.html">Twirl</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="Plugin_VersionFile.html">Version file</a>
  </li>
</ul>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <a class="nav-link" href="Thirdparty_Plugins.html">Third-Party Plugins</a>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="External_References.html">External References</a>
<ul class="nav-list">

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="External_References.html#_ammonite">Ammonite</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="External_References.html#_coursier">Coursier</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="External_References.html#_os_lib">OS-Lib</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Mill Documentation</span>
    <span class="version">0.10.15</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <div class="title"><a href="../index.html">Mill Documentation</a></div>
      <ul class="versions">
        <li class="version">
          <a href="../main-branch/index.html">main-branch</a>
        </li>
        <li class="version">
          <a href="../dev-1.1.0-RC2-78-d9bc9a/index.html">dev-1.1.0-RC2-78-d9bc9a</a>
        </li>
        <li class="version is-latest">
          <a href="../index.html">1.1.0-RC2</a>
        </li>
        <li class="version">
          <a href="../1.0.x/index.html">1.0.6</a>
        </li>
        <li class="version">
          <a href="../0.12.x/index.html">0.12.16</a>
        </li>
        <li class="version">
          <a href="../0.11.x/index.html">0.11.13</a>
        </li>
        <li class="version is-current">
          <a href="index.html">0.10.15</a>
        </li>
        <li class="version">
          <a href="../0.9.12/index.html">0.9.12</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../blog/index.html">The Mill Build Engineering Blog</a></div>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">

<div class="toolbar" role="navigation" style="position: fixed; top: 2.5rem; height: 2rem; left: 0px;">
<button class="nav-toggle"></button>
</div>
<div class="toolbar" style="position: fixed; top: 2.5rem; height: 1.5rem; right: 0px; ">
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Configuring your Project</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>You can configure your Mill build in a number of ways:</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_compilation_execution_flags"><a class="anchor" href="#_compilation_execution_flags"></a>Compilation &amp; Execution Flags</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="title"><code>build.sc</code></div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-scala hljs" data-lang="scala">import mill._, scalalib._

object foo extends ScalaModule {
  def scalaVersion = "2.13.12"

  def scalacOptions = Seq("-Ydelambdafy:inline")

  def forkArgs = Seq("-Xmx4g")

  def forkEnv = Map("HELLO_MY_ENV_VAR" -&gt; "WORLD")
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can pass flags to the Scala compiler via <code>scalacOptions</code>. By default,
<code>foo.run</code> runs the compiled code in a subprocess, and you can pass in JVM flags
via <code>forkArgs</code> or environment-variables via <code>forkEnv</code>.</p>
</div>
<div class="paragraph">
<p>You can also run your code via</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">mill foo.runLocal</code></pre>
</div>
</div>
<div class="paragraph">
<p>Which runs it in-process within an isolated classloader. This may be faster
since you avoid the JVM startup, but does not support <code>forkArgs</code> or <code>forkEnv</code>.</p>
</div>
<div class="paragraph">
<p>If you want to pass main-method arguments to <code>run</code> or <code>runLocal</code>, simply pass
them after the <code>foo.run</code>/<code>foo.runLocal</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">mill foo.run arg1 arg2 arg3
mill foo.runLocal arg1 arg2 arg3</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_adding_ivy_dependencies"><a class="anchor" href="#_adding_ivy_dependencies"></a>Adding Ivy Dependencies</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="title"><code>build.sc</code></div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-scala hljs" data-lang="scala">import mill._, scalalib._

object foo extends ScalaModule {
  def scalaVersion = "2.12.4"
  def ivyDeps = Agg(
    ivy"com.lihaoyi::upickle:0.5.1",
    ivy"com.lihaoyi::pprint:0.5.2",
    ivy"com.lihaoyi::fansi:0.2.4",
    ivy"${scalaOrganization()}:scala-reflect:${scalaVersion()}"
  )
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can define the <code>ivyDeps</code> field to add ivy dependencies to your module. The
<code>ivy"com.lihaoyi::upickle:0.5.1"</code> syntax (with <code>::</code>) represents Scala
dependencies; for Java dependencies you would use a single <code>:</code> e.g.
<code>"ivy"com.lihaoyi:upickle:0.5.1"</code>. If you have dependencies cross-published
against the full Scala version (eg. <code>2.12.4</code> instead of just <code>2.12</code>),
you can use <code>:::</code> as in <code>ivy"org.scalamacros:::paradise:2.1.1"</code>.</p>
</div>
<div class="paragraph">
<p>To select the test-jars from a dependency use the following syntax:
<code>ivy"org.apache.spark::spark-sql:2.4.0;classifier=tests</code>.</p>
</div>
<div class="paragraph">
<p>Please consult the <a href="Library_Dependencies.html" class="xref page">Library Dependencies in Mill</a> section for even more details.</p>
</div>
<div class="sect2">
<h3 id="_repository_configuration"><a class="anchor" href="#_repository_configuration"></a>Repository configuration</h3>
<div class="paragraph">
<p>By default, these are resolved from maven central, but you can add your own
resolvers by overriding the <code>repositoriesTask</code> task in the module:</p>
</div>
<div class="listingblock">
<div class="title"><code>build.sc</code></div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-scala hljs" data-lang="scala">import coursier.maven.MavenRepository

def repositoriesTask = T.task { super.repositoriesTask() ++ Seq(
  MavenRepository("https://oss.sonatype.org/content/repositories/releases")
) }</code></pre>
</div>
</div>
<div class="paragraph">
<p>To add custom resolvers to the initial bootstrap of the build, you can create a
custom <code>ZincWorkerModule</code>, and override the <code>zincWorker</code> method in your
<code>ScalaModule</code> by pointing it to that custom object:</p>
</div>
<div class="listingblock">
<div class="title"><code>build.sc</code></div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-scala hljs" data-lang="scala">import coursier.maven.MavenRepository

object CustomZincWorkerModule extends ZincWorkerModule with CoursierModule {
  def repositoriesTask() = T.task { super.repositoriesTask() ++ Seq(
    MavenRepository("https://oss.sonatype.org/content/repositories/releases")
  ) }
}

object YourBuild extends ScalaModule {
  def zincWorker = CustomZincWorkerModule
  // ... rest of your build definitions
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_runtime_and_compile_time_dependencies"><a class="anchor" href="#_runtime_and_compile_time_dependencies"></a>Runtime and compile-time dependencies</h3>
<div class="paragraph">
<p>If you want to use additional dependencies at runtime or override dependencies and their versions at runtime, you can do so with <code>runIvyDeps</code>.</p>
</div>
<div class="listingblock">
<div class="title"><code>build.sc</code>: Declaring runtime dependencies</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-scala hljs" data-lang="scala">import mill._, scalalib._

object foo extends JavaModule {
  def runIvyDeps = Agg(
    ivy"ch.qos.logback:logback-classic:1.2.7",
    ivy"com.h2database:h2:2.0.202"
  )
}</code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p><em>Mill has no <code>test</code>-scoped dependencies!</em></p>
</div>
<div class="paragraph">
<p>You might be used to test-scoped dependencies from other build tools like Maven, Gradle or sbt.
As test modules in Mill are just regular modules, there is no special need for a dedicated test-scope.
You can use <code>ivyDeps</code> and <code>runIvyDeps</code> to declare dependencies in test modules.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You can also declare compile-time-only dependencies with <code>compileIvyDeps</code>.
These are present in the compile classpath, but will not propagated to the transitive dependencies.</p>
</div>
<div class="listingblock">
<div class="title"><code>build.sc</code>: Declaring compile-time-only dependencies</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-scala hljs" data-lang="scala">import mill._, scalalib._

object foo extends JavaModule {
  def compileIvyDeps = Agg(
    ivy"javax.servlet:sevlet-api:2.5"
  )
}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Compile-time dependencies are translated to <code>provided</code>-scoped dependencies when publish to Maven or Ivy-Repositories.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_keeping_up_to_date_with_scala_steward"><a class="anchor" href="#_keeping_up_to_date_with_scala_steward"></a>Keeping up-to-date with Scala Steward</h3>
<div class="paragraph">
<p>It&#8217;s always a good idea to keep your dependencies up-to-date.</p>
</div>
<div class="paragraph">
<p>If your project is hosted on GitHub, GitLab, or Bitbucket, you can use <a href="https://github.com/scala-steward-org/scala-steward">Scala Steward</a> to automatically open a pull request to update your dependencies whenever there is a newer version available.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Scala Steward can also keep your <a href="Installation.html#_automatic_mill_updates" class="xref page">Mill version up-to-date</a>.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_adding_a_test_suite"><a class="anchor" href="#_adding_a_test_suite"></a>Adding a Test Suite</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="title"><code>build.sc</code></div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-scala hljs" data-lang="scala">import mill._, scalalib._

object foo extends ScalaModule {
  def scalaVersion = "2.13.12"

  object test extends Tests {
    def ivyDeps = Agg(ivy"com.lihaoyi::utest:0.8.2")
    def testFramework = "utest.runner.Framework"
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>For convenience, you can also use one of the predefined test frameworks:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>TestModule.Junit4</code></p>
</li>
<li>
<p><code>TestModule.Junit5</code></p>
</li>
<li>
<p><code>TestModule.TestNg</code></p>
</li>
<li>
<p><code>TestModule.Munit</code></p>
</li>
<li>
<p><code>TestModule.ScalaTest</code></p>
</li>
<li>
<p><code>TestModule.Specs2</code></p>
</li>
<li>
<p><code>TestModule.Utest</code></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title"><code>build.sc</code>: <code>ScalaModule</code> with UTest tests using the predefined <code>TestModule.Utest</code></div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-scala hljs" data-lang="scala">import mill._, scalalib._

object foo extends ScalaModule {
  def scalaVersion = "2.13.12"

  object test extends ScalaTests with TestModule.Utest {
    def ivyDeps = Agg(ivy"com.lihaoyi::utest:0.8.2")
  }
}</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/com-lihaoyi/mill/releases/download/0.10.15/0.10.15-example-3.zip">Example 3</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You can define a test suite by creating a nested module extending <code>ScalaTests</code>, and
specifying the ivy coordinates and name of your test framework. This expects the
tests to be laid out as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>build.sc
foo/
    src/
        Example.scala
    resources/
        ...
    test/
        src/
            ExampleTest.scala
        resources/
            ...
out/
    foo/
        ...
        test/
            ...</pre>
</div>
</div>
<div class="paragraph">
<p>The above example can be run via</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">mill foo.test</code></pre>
</div>
</div>
<div class="paragraph">
<p>By default, tests are run in a subprocess, and <code>forkArg</code> and <code>forkEnv</code> can be
overridden to pass JVM flags &amp; environment variables. You can also use</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">mill foo.test.testLocal</code></pre>
</div>
</div>
<div class="paragraph">
<p>To run tests in-process in an isolated classloader.</p>
</div>
<div class="paragraph">
<p>If you want to pass any arguments to the test framework, simply put them after
<code>foo.test</code> in the command line. e.g. <a href="https://github.com/com-lihaoyi/utest">uTest</a>
lets you pass in a selector to decide which test to run, which in Mill would be:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">mill foo.test foo.MyTestSuite.testCaseName</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can define multiple test suites if you want, e.g.:</p>
</div>
<div class="listingblock">
<div class="title"><code>build.sc</code></div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-scala hljs" data-lang="scala">import mill._, scalalib._

object foo extends ScalaModule {
  def scalaVersion = "2.13.12"

  object test extends ScalaTests with TestModule.Utest {
    def ivyDeps = Agg(ivy"com.lihaoyi::utest:0.8.2")
  }
  object integration extends ScalaTests with TestModule.Utest {
    def ivyDeps = Agg(ivy"com.lihaoyi::utest:0.8.2")
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Each of which will expect their sources to be in their respective <code>foo/test</code> and
<code>foo/integration</code> folder.</p>
</div>
<div class="paragraph">
<p><code>ScalaTests</code> modules are <code>ScalaModule</code>s like any other, and all the same
configuration options apply.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_custom_test_frameworks"><a class="anchor" href="#_custom_test_frameworks"></a>Custom Test Frameworks</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Integrating with test frameworks like Scalatest or specs2 is simply a matter of adding it to <code>ivyDeps</code> and specifying the <code>testFramework</code> you want to use.</p>
</div>
<div class="paragraph">
<p>Scalatest example:</p>
</div>
<div class="listingblock">
<div class="title"><code>build.sc</code></div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-scala hljs" data-lang="scala">import mill._, scalalib._

object foo extends ScalaModule {
  def scalaVersion = "2.13.12"

  object test extends Tests with TestModule.ScalaTest {
    def ivyDeps = Agg(ivy"org.scalatest::scalatest:3.0.4")
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Specs2 example:</p>
</div>
<div class="listingblock">
<div class="title"><code>build.sc</code></div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-scala hljs" data-lang="scala">import mill._, scalalib._

object foo extends ScalaModule {
  def scalaVersion = "2.13.12"

  object test extends Tests with TestModule.Specs2 {
    def ivyDeps = Agg(ivy"org.specs2::specs2-core:4.6.0")
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>After that, you can follow the instructions in <a href="#_adding_a_test_suite">Adding a Test Suite</a>, and use <code>mill foo.test</code> as usual, or pass args to the test suite via <code>mill foo.test arg1 arg2 arg3</code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_scala_compiler_plugins"><a class="anchor" href="#_scala_compiler_plugins"></a>Scala Compiler Plugins</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="title"><code>build.sc</code></div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-scala hljs" data-lang="scala">import mill._, scalalib._

object foo extends ScalaModule {
  def scalaVersion = "2.13.12"

  def compileIvyDeps = Agg(ivy"com.lihaoyi:::acyclic:0.1.7")
  def scalacOptions = Seq("-P:acyclic:force")
  def scalacPluginIvyDeps = Agg(ivy"com.lihaoyi:::acyclic:0.1.7")
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can use Scala compiler plugins by setting <code>scalacPluginIvyDeps</code>. The above
example also adds the plugin to <code>compileIvyDeps</code>, since that plugin&#8217;s artifact
is needed on the compilation classpath (though not at runtime).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Remember that compiler plugins are published against the full Scala
version (eg. 2.13.8 instead of just 2.13), so when including them make sure to
use the  <code>:::</code> syntax shown above in the example.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_generating_api_documentation"><a class="anchor" href="#_generating_api_documentation"></a>Generating API Documentation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To generate API documenation you can use the <code>docJar</code> task on the module you&#8217;d
like to create the documenation for. For example, given a module called
<code>example</code> you could do:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">mill example.docJar</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will result in your <code>javaDoc</code> being created in
<code>out/app/docJar.dest/javadoc</code>.</p>
</div>
<div class="paragraph">
<p>For both Scala and Java modules there may be extra options that you&#8217;d like to
pass specifically to either <code>javadoc</code> or <code>scaladoc</code>. You can pass these with
<code>javadocOptions</code> and <code>scalaDocOptions</code> respectively.</p>
</div>
<div class="listingblock">
<div class="title"><code>build.sc</code></div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-scala hljs" data-lang="scala">import mill._, scalalib._

object example extends ScalaModule {
  def scalaVersion = "3.1.3"

  def scalaDocOptions = Seq(
    "-siteroot",
    "mydocs",
    "-no-link-warnings"
  )
}</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="_scaladoc_3_site_generation"><a class="anchor" href="#_scaladoc_3_site_generation"></a>Scaladoc 3 Site Generation</h3>
<div class="paragraph">
<p>When using Scala 3 you&#8217;re also able to use Scaladoc to generate a full static
site next to your API documenation. This can include general documenation for
your project and even a blog. While you can find the full documenation for this
in the <a href="https://docs.scala-lang.org/scala3/guides/scaladoc/index.html">Scala 3
docs</a>, below you&#8217;ll find some useful information to help you generate this with
Mill.</p>
</div>
<div class="paragraph">
<p>By default, Mill will consider the <em>site root</em> as it&#8217;s called in
<a href="https://docs.scala-lang.org/scala3/guides/scaladoc/static-site.html">Scala 3
docs</a>, to be the value of <code>docResources()</code>. It will look there for your
<code>_docs/</code> and your <code>_blog/</code> directory if any exist. Let&#8217;s pretend we have a
project called <code>example</code> defined like this:</p>
</div>
<div class="listingblock">
<div class="title"><code>build.sc</code></div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-scala hljs" data-lang="scala">import mill._, scalalib._

object example extends ScalaModule {
  def scalaVersion = "3.1.3"
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Your project structure for this would look something like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>.
├── build.sc
├── example
│  ├── docs
│  │  ├── _blog
│  │  │  ├── _posts
│  │  │  │  └── 2022-08-14-hello-world.md
│  │  │  └── index.md
│  │  └── _docs
│  │     ├── getting-started.md
│  │     ├── index.html
│  │     └── index.md
│  └── src
│     └── example
│        └── Hello.scala</pre>
</div>
</div>
<div class="paragraph">
<p>After generating your docs with <code>mill example.docJar</code> you&#8217;ll find by opening
your <code>out/app/docJar.dest/javadoc/index.html</code> locally in your browser you&#8217;ll
have a full static site including your API docs, your blog, and your
documenation!</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_reformatting_your_code"><a class="anchor" href="#_reformatting_your_code"></a>Reformatting your code</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Mill supports code formatting via <a href="https://scalameta.org/scalafmt/">scalafmt</a> out of the box.</p>
</div>
<div class="paragraph">
<p>To have a formatting per-module you need to make your module extend <code>mill.scalalib.scalafmt.ScalafmtModule</code>:</p>
</div>
<div class="listingblock">
<div class="title"><code>build.sc</code></div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-scala hljs" data-lang="scala">import mill._, scalalib._, scalafmt._

object foo extends ScalaModule with ScalafmtModule {
  def scalaVersion = "2.13.12"
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now you can reformat code with <code>mill foo.reformat</code> command, or only check for misformatted files with <code>mill foo.checkFormat</code>.</p>
</div>
<div class="paragraph">
<p>You can also reformat your project&#8217;s code globally with <code>mill mill.scalalib.scalafmt.ScalafmtModule/reformatAll __.sources</code> command,
or only check the code&#8217;s format with <code>mill mill.scalalib.scalafmt.ScalafmtModule/checkFormatAll __.sources</code>.
It will reformat all sources that matches <code>__.sources</code> query.</p>
</div>
<div class="paragraph">
<p>If you add a <code>.scalafmt.conf</code> file at the root of you project, it will be used
to configure formatting. It can contain a <code>version</code> key to specify the scalafmt
version used to format your code. See the
<a href="https://scalameta.org/scalafmt/docs/configuration.html">scalafmt configuration documentation</a>
for details.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_common_configuration"><a class="anchor" href="#_common_configuration"></a>Common Configuration</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="title"><code>build.sc</code></div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-scala hljs" data-lang="scala">import mill._, scalalib._

trait CommonModule extends ScalaModule {
  def scalaVersion = "2.13.12"
}

object foo extends CommonModule
object bar extends CommonModule {
  def moduleDeps = Seq(foo)
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can extract out configuration common to multiple modules into a <code>trait</code> that
those modules extend. This is useful for providing convenience &amp; ensuring
consistent configuration: every module often has the same scala-version, uses
the same testing framework, etc. and all that can be extracted out into the
<code>trait</code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_global_configuration"><a class="anchor" href="#_global_configuration"></a>Global configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Mill builds on ammonite which allows you to
<a href="http://ammonite.io/#ScriptPredef">define global configuration</a>. Depending on
how you start mill, one of two files will be loaded. For the build REPL
(<code>--repl</code> or <code>-i</code> without specifying a target), <code>~/.mill/ammonite/predef.sc</code>
will be loaded, and for builds from the command line the file
<code>~/.mill/ammonite/predefScript.sc</code> will be included. You might want to create
a symlink from one to the other to avoid duplication.</p>
</div>
<div class="paragraph">
<p>Example <code>~/.mill/ammonite/predef.sc</code></p>
</div>
<div class="listingblock">
<div class="title"><code>~/.mill/ammonite/predef.sc</code></div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-scala hljs" data-lang="scala">val nexusUser = "myuser"
val nexusPassword = "mysecret"</code></pre>
</div>
</div>
<div class="paragraph">
<p>Everything declared in the above file will be available to any build you run.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-scala hljs" data-lang="scala">  def repositories = super.repositories ++ Seq(
    // login and pass are globally configured
    MavenRepository("https://nexus.mycompany.com/repository/maven-releases", authentication = Some(coursier.core.Authentication(nexusUser, nexusPassword)))
  )</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_custom_tasks"><a class="anchor" href="#_custom_tasks"></a>Custom Tasks</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="title"><code>build.sc</code></div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-scala hljs" data-lang="scala">import mill._, scalalib._

object foo extends ScalaModule {
  def scalaVersion = "2.13.12"
}

def lineCount = T {

  foo.sources().flatMap(ref =&gt; os.walk(ref.path)).filter(os.isFile).flatMap(os.read.lines).size
}

def printLineCount() = T.command {
  println(lineCount())
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can define new cached Targets using the <code>T {&#8230;&#8203;}</code> syntax, depending on
existing Targets e.g. <code>foo.sources</code> via the <code>foo.sources()</code> syntax to extract
their current value, as shown in <code>lineCount</code> above. The return-type of a Target
has to be JSON-serializable (using
<a href="https://github.com/lihaoyi/upickle">uPickle</a>) and the Target is cached when
first run until its inputs change (in this case, if someone edits the
<code>foo.sources</code> files which live in <code>foo/src</code>. Cached Targets cannot take
parameters.</p>
</div>
<div class="paragraph">
<p>You can print the value of your custom target using <code>show</code>, e.g.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">mill show lineCount</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can define new un-cached Commands using the <code>T.command {&#8230;&#8203;}</code> syntax. These
are un-cached and re-evaluate every time you run them, but can take parameters.
Their return type needs to be JSON-writable as well, or <code>(): Unit</code> if you want
to return nothing.</p>
</div>
<div class="paragraph">
<p>Your custom targets can depend on each other using the <code>def bar = T {&#8230;&#8203; foo()
&#8230;&#8203;}</code> syntax, and you can create arbitrarily long chains of dependent targets.
Mill will handle the re-evaluation and caching of the targets' output for you,
and will provide you a <code>T.dest</code> folder for you to use as scratch space or
to store files you want to return.</p>
</div>
<div class="paragraph">
<p>Custom targets and commands can contain arbitrary code. Whether you want to
download files (e.g. using <code>mill.modules.Util.download</code>), shell-out to Webpack
to compile some Javascript, generate sources to feed into a compiler, or create
some custom jar/zip assembly with the files you want (e.g. using
<code>mill.modules.Jvm.createJar</code>), all of these can simply be custom targets with
your code running in the <code>T {&#8230;&#8203;}</code> block.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_custom_modules"><a class="anchor" href="#_custom_modules"></a>Custom Modules</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="title"><code>build.sc</code></div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-scala hljs" data-lang="scala">import mill._, scalalib._

object qux extends Module {
  object foo extends ScalaModule {
    def scalaVersion = "2.13.12"
  }
  object bar extends ScalaModule {
    def moduleDeps = Seq(foo)
    def scalaVersion = "2.13.12"
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Not every Module needs to be a <code>ScalaModule</code>; sometimes you just want to group
things together for neatness. In the above example, you can run <code>foo</code> and <code>bar</code>
namespaced inside <code>qux</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">mill qux.foo.compile
mill qux.bar.run</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can also define your own module traits, with their own set of custom tasks,
to represent other things e.g. Javascript bundles, docker image building,:</p>
</div>
<div class="listingblock">
<div class="title"><code>build.sc</code></div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-scala hljs" data-lang="scala">trait MySpecialModule extends Module {
  ...
}
object foo extends MySpecialModule
object bar extends MySpecialModule</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_moduletask_names"><a class="anchor" href="#_moduletask_names"></a>Module/Task Names</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="title"><code>build.sc</code></div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-scala hljs" data-lang="scala">import mill._
import mill.scalalib._

object `hyphenated-module` extends Module {
  def `hyphenated-target` = T{
    println("This is a hyphenated target in a hyphenated module.")
  }
}

object unhyphenatedModule extends Module {
  def unhyphenated_target = T{
    println("This is an unhyphenated target in an unhyphenated module.")
  }
  def unhyphenated_target2 = T{
    println("This is the second unhyphenated target in an unhyphenated module.")
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Mill modules and tasks may be composed of the following character types:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Alphanumeric (A-Z, a-z, and 0-9)</p>
</li>
<li>
<p>Underscore (<code>_</code>)</p>
</li>
<li>
<p>Hyphen (<code>-</code>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Due to Scala naming restrictions, module and task names with hyphens must be surrounded by back-ticks (<code>`</code>).</p>
</div>
<div class="paragraph">
<p>Using hyphenated names at the command line is unaffected by these restrictions.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">mill hyphenated-module.hyphenated-target
mill unhyphenatedModule.unhyphenated_target
mill unhyphenatedModule.unhyphenated_target2</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_overriding_tasks"><a class="anchor" href="#_overriding_tasks"></a>Overriding Tasks</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="title"><code>build.sc</code></div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-scala hljs" data-lang="scala">import mill._, scalalib._

object foo extends ScalaModule {
  def scalaVersion = "2.13.12"
  def compile = T {
    println("Compiling...")
    super.compile()
  }
  def run(args: String*) = T.command {
    println("Running..." + args.mkString(" "))
    super.run(args:_*)
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can re-define targets and commands to override them, and use <code>super</code> if you
want to refer to the originally defined task. The above example shows how to
override <code>compile</code> and <code>run</code> to add additional logging messages, but you can
also override <code>ScalaModule#generatedSources</code> to feed generated code to your
compiler, <code>ScalaModule#prependShellScript</code> to make your assemblies executable,
or <code>ScalaModule#console</code> to use the Ammonite REPL instead of the normal Scala
REPL.</p>
</div>
<div class="paragraph">
<p>In Mill builds the <code>override</code> keyword is optional.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_unmanaged_jars"><a class="anchor" href="#_unmanaged_jars"></a>Unmanaged Jars</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="title"><code>build.sc</code></div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-scala hljs" data-lang="scala">import mill._, scalalib._

object foo extends ScalaModule {
  def scalaVersion = "2.13.12"
  def unmanagedClasspath = T {
    if (!os.exists(millSourcePath / "lib")) Agg()
    else Agg.from(os.list(millSourcePath / "lib").map(PathRef(_)))
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can override <code>unmanagedClasspath</code> to point it at any jars you place on the
filesystem, e.g. in the above snippet any jars that happen to live in the
<code>foo/lib/</code> folder.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_defining_a_main_class"><a class="anchor" href="#_defining_a_main_class"></a>Defining a Main Class</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="title"><code>build.sc</code></div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-scala hljs" data-lang="scala">import mill._, scalalib._

object foo extends ScalaModule {
  def scalaVersion = "2.13.12"
  def mainClass = Some("foo.bar.Baz")
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Mill&#8217;s <code>foo.run</code> by default will discover which main class to run from your
compilation output, but if there is more than one or the main class comes from
some library you can explicitly specify which one to use. This also adds the
main class to your <code>foo.jar</code> and <code>foo.assembly</code> jars.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_mergeexcluderelocate_files_from_assembly"><a class="anchor" href="#_mergeexcluderelocate_files_from_assembly"></a>Merge/exclude/relocate files from assembly</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When you make a runnable jar of your project with <code>assembly</code> command,
you may want to exclude some files from a final jar (like signature files, and manifest files from library jars),
and merge duplicated files (for instance <code>reference.conf</code> files from library dependencies).</p>
</div>
<div class="paragraph">
<p>By default mill excludes all <code>*.sf</code>, <code>*.dsa</code>, <code>*.rsa</code>, and <code>META-INF/MANIFEST.MF</code> files from assembly, and concatenates all <code>reference.conf</code> files.
You can also define your own merge/exclude rules.</p>
</div>
<div class="listingblock">
<div class="title"><code>build.sc</code></div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-scala hljs" data-lang="scala">import mill._, scalalib._
import mill.modules.Assembly._

object foo extends ScalaModule {
  def scalaVersion = "2.13.12"
  def assemblyRules = Seq(
    Rule.Append("application.conf"), // all application.conf files will be concatenated into single file
    Rule.AppendPattern(".*\\.conf"), // all *.conf files will be concatenated into single file
    Rule.ExcludePattern(".*\\.temp"), // all *.temp files will be excluded from a final jar
    Rule.Relocate("shapeless.**", "shade.shapless.@1") // the `shapeless` package will be shaded under the `shade` package
  )
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_downloading_non_maven_jars"><a class="anchor" href="#_downloading_non_maven_jars"></a>Downloading Non-Maven Jars</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="title"><code>build.sc</code></div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-scala hljs" data-lang="scala">import mill._, scalalib._

object foo extends ScalaModule {
  def scalaVersion = "2.13.12"
  def unmanagedClasspath = Agg(
    mill.modules.Util.download(
      "https://github.com/williamfiset/FastJavaIO/releases/download/v1.0/fastjavaio.jar",
      os.rel / "fastjavaio.jar"
    )
  )
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can also override <code>unmanagedClasspath</code> to point it at jars that you want to
download from arbitrary URLs. Note that targets like <code>unmanagedClasspath</code> are
cached, so your jar is downloaded only once and re-used indefinitely after that.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_using_the_ammonite_repl_scala_console"><a class="anchor" href="#_using_the_ammonite_repl_scala_console"></a>Using the Ammonite Repl / Scala console</h2>
<div class="sectionbody">
<div class="paragraph">
<p>All <code>ScalaModule</code>s have a <code>console</code> and a <code>repl</code> target, to start a Scala console or an Ammonite Repl.</p>
</div>
<div class="paragraph">
<p>To use the latter, you can (and sometimes need to) customize the Ammonite version to work with your selected Scala version.
The default Ammonite version is the one, which is used by Mill internally (Mill&#8217;s <code>build.sc</code> is an Ammonite script, after all).
But depending on the Scala version you are using, there is probably no matching Ammonite release available.
In order to start the repl, you have to specify a different available Ammonite version.</p>
</div>
<div class="listingblock">
<div class="title">Example: Overriding <code>ammoniteVersion</code> to select a release compatible to the <code>scalaVersion</code></div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-scala hljs" data-lang="scala">import mill._. scalalib._

object foo extends ScalaModule {
  def scalaVersion = "2.12.6"
  def ammoniteVersion = "2.4.0"
}</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p><em>Why is Ammonite tied to the exact Scala version?</em></p>
</div>
<div class="paragraph">
<p>This is because Ammonite depends on the Scala compiler.
In contrast to the Scala library, compiler releases do not guarantee any binary compatibility between releases.
As a consequence, Ammonite needs full Scala version specific releases.</p>
</div>
<div class="paragraph">
<p>The older your used Mill version or the newer the Scala version you want to use, the higher is the risk that the default Ammonite version will not match.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="Out_Dir.html">The Output Directory</a></span>
  <span class="next"><a href="Library_Dependencies.html">Library Dependencies in Mill</a></span>
</nav>
</article>
  </div>
</main>
</div>
<script id="site-script" src="../../_/js/site.js" data-ui-root-path="../../_"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
<script src="../../_/js/vendor/lunr.js"></script>
<script src="../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../.." data-snippet-length="100" data-stylesheet="../../_/css/search.css"></script>
<script async src="../../search-index.js"></script>
  </body>
</html>
