<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html lang="en"><head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Twirl :: The Mill Build Tool</title>
    <link rel="canonical" href="https://mill-build.org/mill/contrib/twirllib.html" />
    <link rel="prev" href="TestNG_TestFramework.html" />
    <link rel="next" href="Plugin_VersionFile.html" />
    <meta name="generator" content="Antora 3.1.9" />
    <link rel="stylesheet" href="../../_/css/site.css" />
    <script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-1C582ZJR85"></script>
    <script>function gtag(){dataLayer.push(arguments)};window.dataLayer=window.dataLayer||[];gtag('js',new Date());gtag('config','G-1C582ZJR85')</script>
<link rel="icon" href="../../_/favicon.png" type="image/x-icon" />
  
  <style>
  /* auto-hyphenation is super ugly */
  *{
    hyphens: manual !important;
  }

  /* Reduce font size from 17px to something reasonable */
  .doc {
   font-size: 16px !important;
  }
  .doc pre {
   font-size: 14px !important;
  }
  /* Shrink unreasonably large top bar */
  nav.navbar{
    height: 2.5rem;
  }
  body.article{
    padding-top: 2.5rem;
  }
  div.nav-container{
    top: 2.5rem;
  }
  div.toolbar{
    top: 2.5rem;
  }
  aside.nav{
    top: 2.5rem;
    height: calc(100vh - 2.5rem);
  }
  </style></head><body class="article">
  
<header class="header">
  
  <script>
  gtag('config', 'AW-16649289906');

  document.addEventListener('DOMContentLoaded', function() {
  const links = document.querySelectorAll('a');
    links.forEach(link => {
      if (link.textContent.trim().toLowerCase() === 'download') {
        link.addEventListener('click', function(event) {
          console.log("download link clicked")
          gtag('event', 'conversion', {'send_to': 'AW-16649289906/rsphCKfVq8QZELKBgIM-'});
        });
      }
    });
  });
  </script>
  <nav class="navbar">
    <div class="navbar-brand">
      <!-- TODO: add mill icon -->
      <a class="navbar-item" href="https://mill-build.org"><img src="../../_/logo-white.svg" height="20" />Â The Mill Build Tool</a>
      <div class="navbar-item search">
        <input id="search-input" type="text" placeholder="Search the docs" />
      </div>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="https://github.com/com-lihaoyi/mill">GitHub</a>
        <a class="navbar-item" href="https://mill-build.org/blog/index.html">Blog</a>
        <a class="navbar-item" href="https://mill-build.org/api/latest/index.html">API</a>
        <a class="navbar-item" href="https://github.com/com-lihaoyi/mill/issues">Issues</a>
        <a class="navbar-item" href="https://github.com/com-lihaoyi/mill/discussions">Discuss</a>


            <!--
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Documentation</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#"></a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Plugins</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Service A</a>
            <a class="navbar-item" href="#">Service B</a>
            <a class="navbar-item" href="#">Service C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Resources</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Resource A</a>
            <a class="navbar-item" href="#">Resource B</a>
            <a class="navbar-item" href="#">Resource C</a>
          </div>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div>
        -->
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="mill" data-version="0.10.15">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
<ul class="nav-list">

  <li class="nav-item" data-depth="0">
<ul class="nav-list">

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Intro_to_Mill.html">Introduction to Mill</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Installation.html">Installation</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Getting_Started.html">Getting Started</a>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <a class="nav-link" href="IDE_Support.html">IDE Support</a>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <a class="nav-link" href="Out_Dir.html">The Output Directory</a>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <a class="nav-link" href="Configuration.html">Configuring your Project</a>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <a class="nav-link" href="Library_Dependencies.html">Library Dependencies in Mill</a>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <a class="nav-link" href="Common_Project_Layouts.html">Common Project Layouts</a>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <a class="nav-link" href="Tasks.html">Tasks</a>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <a class="nav-link" href="Task_Context_API.html">Task Context API</a>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <a class="nav-link" href="Modules.html">Modules</a>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <a class="nav-link" href="Cross_Builds.html">Cross Builds</a>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <a class="nav-link" href="Extending_Mill.html">Extending Mill</a>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <a class="nav-link" href="Using_Plugins.html">Using Plugins</a>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <a class="nav-link" href="Mill_Internals.html">Mill Internals</a>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="Contrib_Plugins.html">Contrib Plugins</a>
<ul class="nav-list">

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Plugin_Artifactory.html">Artifactory</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Plugin_Bintray.html">Bintray</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Plugin_Bloop.html">Bloop</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="Plugin_BuildInfo.html">BuildInfo</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="Plugin_BSP.html">BSP - Build Server Protocol</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="Plugin_Codeartifact.html">Codeartifact</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="Plugin_Docker.html">Docker</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="Plugin_Flyway.html">Flyway</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="Plugin_Gitlab.html">Gitlab</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="Plugin_Play.html">Play Framework</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="Plugin_Proguard.html">Proguard</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="Plugin_ScalaPB.html">ScalaPB</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="Plugin_Scoverage.html">Scoverage</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="TestNG_TestFramework.html">TestNG</a>
  </li>

  <li class="nav-item is-current-page is-active" data-depth="2">
    <a class="nav-link" href="Plugin_Twirl.html">Twirl</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="Plugin_VersionFile.html">Version file</a>
  </li>
</ul>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <a class="nav-link" href="Thirdparty_Plugins.html">Third-Party Plugins</a>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="External_References.html">External References</a>
<ul class="nav-list">

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="External_References.html#_ammonite">Ammonite</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="External_References.html#_coursier">Coursier</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="External_References.html#_os_lib">OS-Lib</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Mill Documentation</span>
    <span class="version">0.10.15</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <div class="title"><a href="../index.html">Mill Documentation</a></div>
      <ul class="versions">
        <li class="version">
          <a href="../main-branch/index.html">main-branch</a>
        </li>
        <li class="version">
          <a href="../dev-1.0.0-M1-47-d9f97d/index.html">dev-1.0.0-M1-47-d9f97d</a>
        </li>
        <li class="version is-latest">
          <a href="../index.html">0.12.14</a>
        </li>
        <li class="version">
          <a href="../0.11.x/index.html">0.11.13</a>
        </li>
        <li class="version is-current">
          <a href="index.html">0.10.15</a>
        </li>
        <li class="version">
          <a href="../0.9.12/index.html">0.9.12</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../blog/index.html">The Mill Build Engineering Blog</a></div>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">

<div class="toolbar" role="navigation" style="position: fixed; top: 2.5rem; height: 2rem; left: 0px;">
<button class="nav-toggle"></button>
</div>
<div class="toolbar" style="position: fixed; top: 2.5rem; height: 1.5rem; right: 0px;">
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Twirl</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Twirl templates support.</p>
</div>
<div class="paragraph">
<p>To declare a module that needs to compile twirl templates you must extend the <code>mill.twirllib.TwirlModule</code> trait when defining your module.
Also note that twirl templates get compiled into scala code, so you also need to extend <code>ScalaModule</code>.</p>
</div>
<div class="listingblock">
<div class="title"><code>build.sc</code></div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-scala hljs" data-lang="scala">import mill.scalalib._

import $ivy.`com.lihaoyi::mill-contrib-twirllib:`,  mill.twirllib._

object app extends ScalaModule with TwirlModule {
// ...
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_details"><a class="anchor" href="#_details"></a>Details</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following filesystem layout is expected:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-text hljs" data-lang="text">build.sc
app/
  views/
    view1.scala.html
    view2.scala.html</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>TwirlModule</code> adds the <code>compileTwirl</code> task to the module:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh">mill app.compileTwirl</code></pre>
</div>
</div>
<div class="paragraph">
<p>(it will be automatically run whenever you compile your module)</p>
</div>
<div class="paragraph">
<p>This task will compile <code><strong>.scala.html</strong></code> templates (and others, like <code>.scala.txt</code>) into the <code>out/app/compileTwirl/dest</code>
directory. This directory must be added to the generated sources of the module to be compiled and made accessible from the rest of the code:</p>
</div>
<div class="listingblock">
<div class="title"><code>build.sc</code></div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-scala hljs" data-lang="scala">import mill.scalalib._

import $ivy.`com.lihaoyi::mill-contrib-twirllib:`,  mill.twirllib._

object app extends ScalaModule with TwirlModule {
  def twirlVersion = &quot;1.5.1&quot;
  def generatedSources = T{ Seq(compileTwirl().classes) }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_twirl_configuration_options"><a class="anchor" href="#_twirl_configuration_options"></a>Twirl configuration options</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_def_twirlversion_tstring"><a class="anchor" href="#_def_twirlversion_tstring"></a>def twirlVersion: T[String]</h3>
<div class="paragraph">
<p>Mandatory - the version of the Twirl compiler to use.</p>
</div>
</div>
<div class="sect2">
<h3 id="_def_twirlscalaversion_tstring"><a class="anchor" href="#_def_twirlscalaversion_tstring"></a>def twirlScalaVersion: T[String]</h3>
<div class="paragraph">
<p>Mandatory - the Scala version matching the <code>twirlVersion</code>. Older Twirl versions (before 1.4.2) only supported Scala 2.12.</p>
</div>
</div>
<div class="sect2">
<h3 id="_def_twirlimports_tseqstring"><a class="anchor" href="#_def_twirlimports_tseqstring"></a>def twirlImports: T[Seq[String]]</h3>
<div class="paragraph">
<p>The imports that will be added by the twirl compiler to the top of all templates, defaults to <a href="https://github.com/playframework/twirl/blob/1.5.0/compiler/src/main/scala/play/twirl/compiler/TwirlCompiler.scala#L166-L173">twirlâs default imports</a>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-scala hljs" data-lang="scala">Seq(
  &quot;_root_.play.twirl.api.TwirlFeatureImports._&quot;,
  &quot;_root_.play.twirl.api.TwirlHelperImports._&quot;,
  &quot;_root_.play.twirl.api.Html&quot;,
  &quot;_root_.play.twirl.api.JavaScript&quot;,
  &quot;_root_.play.twirl.api.Txt&quot;,
  &quot;_root_.play.twirl.api.Xml&quot;
)</code></pre>
</div>
</div>
<div class="paragraph">
<p>To add additional imports to all of the twirl templates, override <code>twirlImports</code> in your build:</p>
</div>
<div class="listingblock">
<div class="title"><code>build.sc</code></div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-scala hljs" data-lang="scala">import mill.scalalib._

import $ivy.`com.lihaoyi::mill-contrib-twirllib:`,  mill.twirllib._

object app extends ScalaModule with TwirlModule {
  def twirlVersion = &quot;1.5.1&quot;
  def twirlScalaVersion = &quot;2.13.8&quot;
  override def twirlImports = super.twirlImports() ++ Seq(&quot;my.additional.stuff._&quot;, &quot;my.other.stuff._&quot;)
  def generatedSources = T{ Seq(compileTwirl().classes) }
}

// out.template.scala
@import _root_.play.twirl.api.TwirlFeatureImports._
// ...
@import _root_.play.twirl.api.Xml
@import my.additional.stuff._
@import my.other.stuff._</code></pre>
</div>
</div>
<div class="paragraph">
<p>To exclude the default imports, simply override <code>twirlImports</code> without calling <code>super</code>:</p>
</div>
<div class="listingblock">
<div class="title"><code>build.sc</code></div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-scala hljs" data-lang="scala">object app extends ScalaModule with TwirlModule {
  // ...
  override def twirlImports = Seq(&quot;my.stuff._&quot;)
}

// out.template.scala
@import my.stuff._</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_def_twirlformats_mapstring_string"><a class="anchor" href="#_def_twirlformats_mapstring_string"></a>def twirlFormats: Map[String, String]</h3>
<div class="paragraph">
<p>A mapping of file extensions to class names that will be compiled by twirl, e.g. <code>Map(&quot;html&quot; -&gt; &quot;play.twirl.api.HtmlFormat&quot;)</code>.
By default <code>html</code>, <code>xml</code>, <code>js</code>, and <code>txt</code> files will be compiled using the corresponding <a href="https://github.com/playframework/twirl/blob/1.5.0/api/shared/src/main/scala/play/twirl/api/Formats.scala">twirl format</a>.</p>
</div>
<div class="paragraph">
<p>To add additional formats, override <code>twirlFormats</code> in your build:</p>
</div>
<div class="listingblock">
<div class="title"><code>build.sc</code></div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-scala hljs" data-lang="scala">import mill.scalalib._

import $ivy.`com.lihaoyi::mill-contrib-twirllib:`,  mill.twirllib._

object app extends ScalaModule with TwirlModule {
  def twirlVersion = &quot;1.5.1&quot;
  override def twirlFormats = super.twirlFormats() + Map(&quot;svg&quot; -&gt; &quot;play.twirl.api.HtmlFormat&quot;)
  def generatedSources = T{ Seq(compileTwirl().classes) }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_def_twirlconstructorannotations_seqstring_nil"><a class="anchor" href="#_def_twirlconstructorannotations_seqstring_nil"></a>def twirlConstructorAnnotations: Seq[String] = Nil</h3>
<div class="paragraph">
<p>Annotations added to the generated classes' constructors (note it only applies to templates with <code>@this(â¦â)</code> constructors).</p>
</div>
</div>
<div class="sect2">
<h3 id="_def_twirlcodec_codecproperties_sourceencoding"><a class="anchor" href="#_def_twirlcodec_codecproperties_sourceencoding"></a>def twirlCodec = Codec(Properties.sourceEncoding)</h3>
<div class="paragraph">
<p>The codec used to generate the files (the default is the same sbt plugin uses).</p>
</div>
</div>
<div class="sect2">
<h3 id="_def_twirlinclusivedot_boolean_false"><a class="anchor" href="#_def_twirlinclusivedot_boolean_false"></a>def twirlInclusiveDot: Boolean = false</h3>
<div class="paragraph">
<p>Whether the twirl parser should parse with an inclusive dot.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_example"><a class="anchor" href="#_example"></a>Example</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Thereâs an <a href="https://github.com/lihaoyi/cask/tree/master/example/twirl">example project</a></p>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="TestNG_TestFramework.html">TestNG</a></span>
  <span class="next"><a href="Plugin_VersionFile.html">Version file</a></span>
</nav>
</article>
  </div>
</main>
</div>
<script id="site-script" src="../../_/js/site.js" data-ui-root-path="../../_"></script>
<script async="async" src="../../_/js/vendor/highlight.js"></script>
<script src="../../_/js/vendor/lunr.js"></script>
<script src="../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../.." data-snippet-length="100" data-stylesheet="../../_/css/search.css"></script>
<script async="async" src="../../search-index.js"></script>
  
</body></html>