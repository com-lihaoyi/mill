<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Comparing Mill vs Maven: Declarative Builds :: The Mill Build Tool</title>
    <link rel="canonical" href="https://mill-build.org/mill/comparisons/maven.html">
    <link rel="prev" href="../kotlinlib/script.html">
    <link rel="next" href="gradle.html">
    <meta name="generator" content="Antora 3.1.12">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-1C582ZJR85"></script>
    <script>function gtag(){dataLayer.push(arguments)};window.dataLayer=window.dataLayer||[];gtag('js',new Date());gtag('config','G-1C582ZJR85')</script>
<link rel="icon" href="../../../_/favicon.png" type="image/x-icon">
  </head>
  <body class="article">
<header class="header">
  <style>
  /* auto-hyphenation is super ugly */
  *{
    hyphens: manual !important;
  }

  /* Reduce font size from 17px to something reasonable */
  .doc {
   font-size: 16px !important;
  }
  .doc pre {
   font-size: 14px !important;
  }
  /* Shrink unreasonably large top bar */
  nav.navbar{
    height: 2.5rem;
  }
  body.article{
    padding-top: 2.5rem;
  }
  div.nav-container{
    top: 2.5rem;
  }
  div.toolbar{
    top: 2.5rem;
  }
  aside.nav{
    top: 2.5rem;
    height: calc(100vh - 2.5rem);
  }
  </style>
  <script>
  gtag('config', 'AW-16649289906');

  document.addEventListener('DOMContentLoaded', function() {
  const links = document.querySelectorAll('a');
    links.forEach(link => {
      if (link.textContent.trim().toLowerCase() === 'download') {
        link.addEventListener('click', function(event) {
          console.log("download link clicked")
          gtag('event', 'conversion', {'send_to': 'AW-16649289906/rsphCKfVq8QZELKBgIM-'});
        });
      }
    });
  });
  </script>
  <nav class="navbar">
    <div class="navbar-brand">
      <!-- TODO: add mill icon -->
      <a class="navbar-item" href="https://mill-build.org"><img src="../../../_/logo-white.svg" height="20" />&nbsp;The Mill Build Tool</a>
      <div class="navbar-item search">
        <input id="search-input" type="text" placeholder="Search the docs">
      </div>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="https://github.com/com-lihaoyi/mill">GitHub</a>
        <a class="navbar-item" href="https://mill-build.org/blog/index.html">Blog</a>
        <a class="navbar-item" href="https://mill-build.org/api/latest/mill.html">API</a>
        <a class="navbar-item" href="https://github.com/com-lihaoyi/mill/issues">Issues</a>
        <a class="navbar-item" href="https://github.com/com-lihaoyi/mill/discussions">Discuss</a>


            <!--
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Documentation</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#"></a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Plugins</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Service A</a>
            <a class="navbar-item" href="#">Service B</a>
            <a class="navbar-item" href="#">Service C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Resources</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Resource A</a>
            <a class="navbar-item" href="#">Resource B</a>
            <a class="navbar-item" href="#">Resource C</a>
          </div>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div>
        -->
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="mill" data-version="dev-1.1.0-RC4-30-8c053f">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
<ul class="nav-list">

  <li class="nav-item" data-depth="0">
<ul class="nav-list">

  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../javalib/intro.html">Building Java with Mill</a>
<ul class="nav-list">

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../javalib/module-config.html">Java Module Configuration</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../javalib/dependencies.html">Java Library Dependencies</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../javalib/testing.html">Testing Java Projects</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../javalib/linting.html">Linting Java Projects</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../javalib/packaging.html">Packaging Java Projects</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../javalib/publishing.html">Publishing Java Projects</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../javalib/build-examples.html">Java Build Examples</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../javalib/web-examples.html">Java Web Project Examples</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../javalib/spring-boot.html">Spring Boot Projects</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../javalib/script.html">Java Single-File Scripts</a>
  </li>
</ul>
  </li>

  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../scalalib/intro.html">Building Scala with Mill</a>
<ul class="nav-list">

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../scalalib/module-config.html">Scala Module Configuration</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../scalalib/dependencies.html">Scala Library Dependencies</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../scalalib/testing.html">Testing Scala Projects</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../scalalib/linting.html">Linting Scala Projects</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../scalalib/packaging.html">Packaging Scala Projects</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../scalalib/publishing.html">Publishing Scala Projects</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../scalalib/build-examples.html">Scala Build Examples</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../scalalib/web-examples.html">Scala Web Project Examples</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../scalalib/native-examples.html">Scala Native Examples</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../scalalib/spark.html">Spark Examples</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../scalalib/script.html">Scala Single-File Scripts</a>
  </li>
</ul>
  </li>

  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../kotlinlib/intro.html">Building Kotlin with Mill</a>
<ul class="nav-list">

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../kotlinlib/module-config.html">Kotlin Module Configuration</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../kotlinlib/dependencies.html">Kotlin Library Dependencies</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../kotlinlib/testing.html">Testing Kotlin Projects</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../kotlinlib/linting.html">Linting Kotlin Projects</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../kotlinlib/packaging.html">Packaging Kotlin Projects</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../kotlinlib/publishing.html">Publishing Kotlin Projects</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../kotlinlib/web-examples.html">Kotlin Web Project Examples</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../kotlinlib/script.html">Kotlin Single-File Scripts</a>
  </li>
</ul>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Why Mill?</span>
<ul class="nav-list">

  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="maven.html">Comparing Mill vs Maven: Declarative Builds</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="gradle.html">Comparing Mill vs Gradle: Programmable Builds</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="performance.html">Mill Build Performance</a>
  </li>
</ul>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">The Mill CLI</span>
<ul class="nav-list">

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cli/installation-ide.html">Installation &amp; IDE Setup</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cli/flags.html">Mill Command-Line Flags</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cli/builtin-commands.html">Built-in Commands</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../cli/query-syntax.html">Task Query Syntax</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../cli/build-header.html">Build Header Config</a>
  </li>
</ul>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../migrating/migrating.html">Migrating to Mill</a>
<ul class="nav-list">

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../migrating/auto-migrating.html">Automated Migration Tools</a>
  </li>
</ul>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Mill Fundamentals</span>
<ul class="nav-list">

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../fundamentals/tasks.html">Tasks</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../fundamentals/modules.html">Modules</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../fundamentals/out-dir.html">The Output Directory</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../fundamentals/library-deps.html">Library Dependencies in Mill</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../fundamentals/cross-builds.html">Cross Builds</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../fundamentals/bundled-libraries.html">Bundled Libraries</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../fundamentals/configuring-jvm-versions.html">Managing JVM Versions</a>
  </li>
</ul>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../large/large.html">Large Builds and Monorepos</a>
<ul class="nav-list">

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../large/selective-execution.html">Selective Test Execution</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../large/multi-file-builds.html">Multi-File Builds</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../large/multi-language-builds.html">Multi-Language Builds</a>
  </li>
</ul>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Extending Mill</span>
<ul class="nav-list">

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../extending/import-mvn-plugins.html">Import Libraries and Plugins</a>
  </li>

  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../extending/contrib-plugins.html">Contrib Plugins</a>
<ul class="nav-list">

  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../contrib/artifactory.html">Artifactory</a>
  </li>

  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../contrib/buildinfo.html">BuildInfo</a>
  </li>

  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../contrib/codeartifact.html">Codeartifact</a>
  </li>

  <li class="nav-item is-active" data-depth="3">
    <a class="nav-link" href="../contrib/docker.html">Docker</a>
  </li>

  <li class="nav-item is-active" data-depth="3">
    <a class="nav-link" href="../contrib/flyway.html">Flyway</a>
  </li>

  <li class="nav-item is-active" data-depth="3">
    <a class="nav-link" href="../contrib/gitlab.html">Gitlab</a>
  </li>

  <li class="nav-item is-active" data-depth="3">
    <a class="nav-link" href="../contrib/jmh.html">JMH</a>
  </li>

  <li class="nav-item is-active" data-depth="3">
    <a class="nav-link" href="../contrib/playlib.html">Play Framework</a>
  </li>

  <li class="nav-item is-active" data-depth="3">
    <a class="nav-link" href="../contrib/proguard.html">Proguard</a>
  </li>

  <li class="nav-item is-active" data-depth="3">
    <a class="nav-link" href="../contrib/scalapblib.html">ScalaPB</a>
  </li>

  <li class="nav-item is-active" data-depth="3">
    <a class="nav-link" href="../contrib/scoverage.html">Scoverage</a>
  </li>

  <li class="nav-item is-active" data-depth="3">
    <a class="nav-link" href="../contrib/sbom.html">Software Bill of Materials (SBOM)</a>
  </li>

  <li class="nav-item is-active" data-depth="3">
    <a class="nav-link" href="../contrib/sonatypecentral.html">Sonatype Central (Plugin Moved to Scalalib)</a>
  </li>

  <li class="nav-item is-active" data-depth="3">
    <a class="nav-link" href="../contrib/testng.html">TestNG</a>
  </li>

  <li class="nav-item is-active" data-depth="3">
    <a class="nav-link" href="../contrib/twirllib.html">Twirl</a>
  </li>

  <li class="nav-item is-active" data-depth="3">
    <a class="nav-link" href="../contrib/versionfile.html">Version file</a>
  </li>
</ul>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../extending/thirdparty-plugins.html">Third-Party Plugins</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../extending/running-jvm-code.html">Running Dynamic JVM Code</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../extending/writing-plugins.html">Writing Mill Plugins</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../extending/meta-build.html">The Mill Meta-Build</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../extending/example-typescript-support.html">Example: Typescript Support</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../extending/example-python-support.html">Example: Python Support</a>
  </li>
</ul>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Experimental Platform Support</span>
<ul class="nav-list">

  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Building Android Apps</span>
<ul class="nav-list">

  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../android/android-initial-setup.html">Android Initial Setup</a>
  </li>

  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../android/android-release.html">Android Release Guide</a>
  </li>

  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../android/ide.html">Android IDE Support</a>
  </li>

  <li class="nav-item is-active" data-depth="3">
    <a class="nav-link" href="../android/java.html">Android Java Projects</a>
  </li>

  <li class="nav-item is-active" data-depth="3">
    <a class="nav-link" href="../android/kotlin.html">Android Kotlin Projects</a>
  </li>

  <li class="nav-item is-active" data-depth="3">
    <a class="nav-link" href="../android/android-linting.html">Linting Android Projects</a>
  </li>

  <li class="nav-item is-active" data-depth="3">
    <a class="nav-link" href="../android/compose-samples.html">Android Jetpack Compose</a>
  </li>

  <li class="nav-item is-active" data-depth="3">
    <a class="nav-link" href="../android/hilt-sample.html">Android Hilt Sample</a>
  </li>

  <li class="nav-item is-active" data-depth="3">
    <a class="nav-link" href="../android/android-native-example.html">Android Native Example</a>
  </li>
</ul>
  </li>

  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../pythonlib/intro.html">Building Python with Mill</a>
<ul class="nav-list">

  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../pythonlib/module-config.html">Python Module Configuration</a>
  </li>

  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../pythonlib/dependencies.html">Python Library Dependencies</a>
  </li>

  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../pythonlib/linting.html">Linting Python Projects</a>
  </li>

  <li class="nav-item is-active" data-depth="3">
    <a class="nav-link" href="../pythonlib/testing.html">Testing Python Projects</a>
  </li>

  <li class="nav-item is-active" data-depth="3">
    <a class="nav-link" href="../pythonlib/publishing.html">Python Packaging &amp; Publishing</a>
  </li>

  <li class="nav-item is-active" data-depth="3">
    <a class="nav-link" href="../pythonlib/web-examples.html">Python Web Project Examples</a>
  </li>
</ul>
  </li>

  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../javascriptlib/intro.html">Building Javascript with Mill</a>
<ul class="nav-list">

  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../javascriptlib/dependencies.html">Typescript Library Dependencies</a>
  </li>

  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../javascriptlib/module-config.html">Typescript Module Configuration</a>
  </li>

  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../javascriptlib/testing.html">Testing Typescript Projects</a>
  </li>

  <li class="nav-item is-active" data-depth="3">
    <a class="nav-link" href="../javascriptlib/linting.html">Linting Typescript Projects</a>
  </li>

  <li class="nav-item is-active" data-depth="3">
    <a class="nav-link" href="../javascriptlib/publishing.html">Typescript Packaging &amp; Publishing</a>
  </li>

  <li class="nav-item is-active" data-depth="3">
    <a class="nav-link" href="../javascriptlib/build-examples.html">JavaScript Build Examples</a>
  </li>
</ul>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../groovylib/intro.html">Building Groovy with Mill</a>
  </li>
</ul>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Mill In Depth</span>
<ul class="nav-list">

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../depth/evaluation-model.html">The Mill Evaluation Model</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../depth/caching.html">Caching in Mill</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../depth/parallelism.html">Parallelism in Mill</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../depth/process-architecture.html">The Mill Process Architecture</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../depth/sandboxing.html">Mill Sandboxing</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../depth/design-principles.html">Mill Design Principles</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../depth/why-scala.html">Why does Mill use Scala?</a>
  </li>
</ul>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Reference</span>
<ul class="nav-list">

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://mill-build.org/api/latest/mill.html">Mill API Reference</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://github.com/com-lihaoyi/mill/blob/main/changelog.adoc">Changelog</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../reference/talks-blog-posts.html">Talks &amp; Blog Posts</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Mill Documentation</span>
    <span class="version">dev-1.1.0-RC4-30-8c053f</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <div class="title"><a href="../../index.html">Mill Documentation</a></div>
      <ul class="versions">
        <li class="version">
          <a href="../../main-branch/index.html">main-branch</a>
        </li>
        <li class="version is-current">
          <a href="../index.html">dev-1.1.0-RC4-30-8c053f</a>
        </li>
        <li class="version is-latest">
          <a href="../../index.html">1.1.0-RC4</a>
        </li>
        <li class="version">
          <a href="../../1.0.x/index.html">1.0.6</a>
        </li>
        <li class="version">
          <a href="../../0.12.x/index.html">0.12.17</a>
        </li>
        <li class="version">
          <a href="../../0.11.x/index.html">0.11.13</a>
        </li>
        <li class="version">
          <a href="../../0.10.15/index.html">0.10.15</a>
        </li>
        <li class="version">
          <a href="../../0.9.12/index.html">0.9.12</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../blog/index.html">The Mill Build Engineering Blog</a></div>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">

<div class="toolbar" role="navigation" style="position: fixed; top: 2.5rem; height: 2rem; left: 0px;">
<button class="nav-toggle"></button>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Comparing Mill vs Maven: Declarative Builds</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>The <a href="#">Maven</a> build tool is famous for pioneering the idea of
<em>"Declarative Builds"</em>: that you should only need to specify what your project needs,
and the build tool should be able to get everything downloaded and cached and working on
your behalf. However, although that is an excellent ideal to strive towards, in practice
there are many ways where using Maven can be annoyingly tedious.</p>
</div>
<div class="paragraph">
<p>This page discusses some of the key ways that the Mill build tool learns from Maven, and
also how Mill tries to improve upon some of its rough edges. This lets Mill provide a user
experience that improves upon what Maven can provide to developers, letting the simplicity
of <em>"Declarative Builds"</em> really shine through.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_where_maven_falls_short"><a class="anchor" href="#_where_maven_falls_short"></a>Where Maven Falls Short</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Consider a small Java program such as the one below:</p>
</div>
<div class="paragraph">
<p><code>HtmlScraper.java</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">import org.jsoup.Jsoup;
import java.util.*;

public class HtmlScraper {
  static List&lt;String&gt; fetchLinks(String title) throws Exception {
    var url = "https://en.wikipedia.org/wiki/" + title;
    var doc = Jsoup.connect(url).header("User-Agent", "My Scraper").get();
    var links = new ArrayList&lt;String&gt;();
    for (var a : doc.select("main p a")) {
      var href = a.attr("href");
      if (href.startsWith("/wiki/")) links.add(href.substring(6));
    }
    return links;
  }

  public static void main(String[] args) throws Exception {
    if (args.length &lt; 2) throw new Exception("HtmlScraper.java &lt;start&gt; &lt;depth&gt;");
    var seen = new HashSet&lt;&gt;(Set.of(args[0]));
    var current = new HashSet&lt;&gt;(Set.of(args[0]));
    for (int i = 0; i &lt; Integer.parseInt(args[1]); i++) {
      var next = new HashSet&lt;String&gt;();
      for (String article : current) {
        for (String link : fetchLinks(article)) {
          if (seen.add(link)) next.add(link);
        }
      }
      current = next;
    }
    for (String s : seen) System.out.println(s);
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This program is a single-file Java application that uses the <a href="https://jsoup.org/">Jsoup</a>
third-party library to scrape links from a Wikipedia page, and then uses that in turn to
do a breadth-first search on the graph of Wikipedia articles and links. This is
representative of the many small programs that get written in practice:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Students doing a homework assignment</p>
</li>
<li>
<p>Developers trying to automate a common workflow</p>
</li>
<li>
<p>Someone trying to reproduce and minimize a bug in a library so that it can be reported</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This is a simple program that any programmer should be able to write without difficulty.
In theory, there should be no reason for developers not to write small automation scripts
and utilities in Java rather than Python or Bash: it&#8217;s an easy widely-used language with
an excellent runtime and a rich ecosystem with high-quality libraries (such as Jsoup above).
But in practice, setting up your single-file Java program to actually be <em>run</em> proves
quite a hurdle. This article will discuss why.</p>
</div>
<div class="sect2">
<h3 id="_installing_java"><a class="anchor" href="#_installing_java"></a>Installing Java</h3>
<div class="paragraph">
<p>To run your Java program, you first might need to install Java. This may seem obvious and
straightforward, but in practice it can turn out to be surprisingly tricky.
Consider this discussion on <a href="https://news.ycombinator.com/item?id=46037261">Installing Java in 2025</a>:</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>+1 sdkman! is awesome. I&#8217;ve been using sdkman! for a decade to manage Java installations. Doesn&#8217;t seem to work on freebsd though, which I have to use freebsd&#8217;s pkg instead.</p>
</div>
<div class="paragraph">
<p>Avoid Oracle&#8217;s builds unless you need them for compliance reasons</p>
</div>
<div class="paragraph">
<p>If you are on Linux or mac, getting your sdk via your favorite package manager is fine for casual use. Just be aware that this might not necessarily work with all software projects you want to work on. If that matters to you, that&#8217;s what sdkman is for.</p>
</div>
<div class="paragraph">
<p>On macOS I wrote my own 9-line Zsh function that lists the JDKs available and sets JAVA_HOME.</p>
</div>
<div class="paragraph">
<p>On Windows, the only sane way to install Java seems to be scoop.sh or chocolatey</p>
</div>
<div class="paragraph">
<p>I just don&#8217;t see the point in installing a version manager specifically for the JDK.</p>
</div>
<div class="paragraph">
<p>I would say as well as using SDKMan, you should use Jenv shell plugin to easily manage your JDK versions across projects</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Even among experienced developers, it is clear there is no consensus on how Java should be
installed: it varies between JDK distributions, between operating systems, and between different
users' personal preference. Although a new Java developer might not need to understand the breadth
and depth of Java installation methods to get something working, there&#8217;s a non-trivial number of
decisions that need to be made and a non-trivial number of ways things can go wrong.</p>
</div>
<div class="paragraph">
<p>Maybe you got things working on your Mac-OSX laptop, but can you ensure the project works when
run on your colleague&#8217;s Windows-11 desktop machine, or your Linux backend servers? And can you
keep things working as versions need to be upgraded, or you have multiple projects requiring
differing versions of Java? Just "installing Java" turns out to be quite a tricky thing to
get right!</p>
</div>
</div>
<div class="sect2">
<h3 id="_setting_up_your_pom_xml"><a class="anchor" href="#_setting_up_your_pom_xml"></a>Setting up your pom.xml</h3>
<div class="paragraph">
<p>If our simple Java program had no third-party dependencies, then we could just run it
from the command-line via:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-console hljs" data-lang="console">&gt; java HtmlScraper.java</code></pre>
</div>
</div>
<div class="paragraph">
<p>However, the program <em>does</em> use a third-party dependency - Jsoup - and so running it is no
longer so simple: we now need a build tool! The most common build tool in the Java ecosystem
is Maven, and so you may want to set up a Maven <code>pom.xml</code> for the project.</p>
</div>
<div class="paragraph">
<p><strong>CONSIDER: are you able to write out the <code>pom.xml</code> for this project
without copy-paste cargo-culting something from Stackoverflow or similar?</strong></p>
</div>
<div class="paragraph">
<p>In practice, even experienced developers are not able to write <code>pom.xml</code>s by hand. They&#8217;re
simply too verbose with too much irrelevant boilerplate that you don&#8217;t actually care about. Here&#8217;s
an example <code>pom.xml</code> for the above project:</p>
</div>
<div class="paragraph">
<p><code>pom.xml</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;
  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
  &lt;groupId&gt;example&lt;/groupId&gt;
  &lt;artifactId&gt;html-scraper&lt;/artifactId&gt;
  &lt;version&gt;1.0&lt;/version&gt;
  &lt;dependencies&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.jsoup&lt;/groupId&gt;
      &lt;artifactId&gt;jsoup&lt;/artifactId&gt;
      &lt;version&gt;1.17.2&lt;/version&gt;
    &lt;/dependency&gt;
  &lt;/dependencies&gt;
  &lt;build&gt;
    &lt;plugins&gt;
      &lt;plugin&gt;
        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;
        &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;
        &lt;version&gt;3.2.0&lt;/version&gt;
        &lt;configuration&gt;
          &lt;mainClass&gt;HtmlScraper&lt;/mainClass&gt;
        &lt;/configuration&gt;
      &lt;/plugin&gt;
    &lt;/plugins&gt;
  &lt;/build&gt;
&lt;/project&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Although copy-pasting something from Stackoverflow (or from an existing project, from ChatGPT,
from Gemini, etc.) does get things working in the short term, longer term the boilerplate does
have costs that may not be immediately obvious:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>When you need to <em>update</em> the <code>pom.xml</code> later, splicing together multiple copy-pasted blobs
of XML can be a lot more error-prone than copy-pasting things the first time</p>
</li>
<li>
<p>Although modern AI assistants like ChatGPT or Gemini are able to modify the code on your behalf,
they sometimes make mistakes or hallucinate. Will you be able to catch these errors in the
reams of boilerplate?</p>
</li>
<li>
<p>When the build tool is misbehaving because something is misconfigured, and your AI assistant
isn&#8217;t able to diagnose the problem (maybe they&#8217;re the one who made the mistake in the first place!),
would you be able to debug it and figure out how to fix things?</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>But let&#8217;s assume we have our <code>pom.xml</code> written, we next need to install Maven to use it:</p>
</div>
</div>
<div class="sect2">
<h3 id="_installing_maven"><a class="anchor" href="#_installing_maven"></a>Installing Maven</h3>
<div class="paragraph">
<p>Next we need to install Maven. From the <a href="https://maven.apache.org/install.html">Maven docs</a>, there
are a bunch of different commands needed for different operating systems or Linux distributions.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-console hljs" data-lang="console">&gt; brew install maven
&gt; sdk install maven
&gt; sudo port install maven
&gt; sudo apt install maven
&gt; sudo dnf install maven
&gt; sudo yum install maven
&gt; choco install maven
&gt; scoop install maven</code></pre>
</div>
</div>
<div class="paragraph">
<p>This itself isn&#8217;t a huge problem, but even after installing Maven on your machine, there are
questions remaining:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Did we install the <em>right version</em> of Maven? Not every project builds on every version of Maven,
and the same command above may install a different version of Maven on different operating system
versions. Figuring out what Maven version our project needs and figuring out the command-line
syntax to make our specific package manage install it can be a challenge</p>
</li>
<li>
<p>To solve the right-maven-version problem, many projects these days use
<a href="https://maven.apache.org/tools/wrapper/maven-wrapper-plugin/usage.html">./mvnw bootstrap scripts</a>
as a best practice. Should you be using that instead? And if you do, you&#8217;d still find people
using <code>mvn</code> rather than <code>./mvnw</code> out of muscle memory and getting confusing errors</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Similar to the challenges of <a href="#_installing_java">Installing Java</a>, installing Maven <em>once</em> isn&#8217;t hard, but
installing Maven consistently on your Mac laptop, or your colleague&#8217;s Windows desktop, and
on your Linux CI machines can be quite tricky! And trickier still is maintaining these
installations as the different development environments inevitable evolve over time.</p>
</div>
</div>
<div class="sect2">
<h3 id="_running_your_java_program"><a class="anchor" href="#_running_your_java_program"></a>Running your Java program</h3>
<div class="paragraph">
<p>Finally, now that we have our <code>HtmlScraper.java</code> written, <code>java</code> installed, our <code>pom.xml</code>
set up, and <code>mvn</code> (or <code>./mvnw</code>) installed, we need to run our Java application.</p>
</div>
<div class="paragraph">
<p><strong>CONSIDER: can you remember the command to run this Java application from the command line?</strong></p>
</div>
<div class="paragraph">
<p>It&#8217;s not</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-console hljs" data-lang="console">&gt; mvn run Java 1</code></pre>
</div>
</div>
<div class="paragraph">
<p>Neither is it</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-console hljs" data-lang="console">&gt; mvn HtmlScraper.java Java 1</code></pre>
</div>
</div>
<div class="paragraph">
<p>Or</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-console hljs" data-lang="console">&gt; mvn run HtmlScraper.java Java 1</code></pre>
</div>
</div>
<div class="paragraph">
<p>Rather, the correct invocation is:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-console hljs" data-lang="console">&gt; mvn exec:java -Dexec.args="Java 1"
Ptolemy
Bali
Greater_Sunda_Islands
Rama
Sulaiman_al-Tajir
Endemism
Gajah_Mada
Yingya_Shenglan
Mahabharata
Cirebon
Ethnic_groups_in_Indonesia
...</code></pre>
</div>
</div>
<div class="paragraph">
<p>Maven experts should be able to write this out from memory without issues, but it
is surprisingly involved for someone who just wants to run a single <code>HtmlScraper.java</code>
file containing their code! Many experienced Java developers probably can&#8217;t do this
without looking it up first.</p>
</div>
</div>
<div class="sect2">
<h3 id="_whither_declarative_builds"><a class="anchor" href="#_whither_declarative_builds"></a>Whither Declarative Builds?</h3>
<div class="paragraph">
<p>Although Maven is the first "declarative" build tool, in practice it has a lot of
friction that has nothing to do with its declarative nature, which gets in the
way of the smooth user experience a declarative build tool should be able to provide.
From installing Java and Maven to setting up the verbose <code>pom.xml</code> and the unusual
command-line invocation syntax, none of this is rocket science. But it adds enough
friction to our <code>HtmlScraper.java</code> that people prefer to write their small programs
in Python, Javascript.</p>
</div>
<div class="paragraph">
<p>This is not for any fault of Java <em>the language</em>: while Java is a bit more verbose
than Python or Bash, it is fine for writing this particular <code>HtmlScraper.java</code> program.
Java may even be preferable when the time comes to add parallelism
and concurrency and other features that may be harder to implement in Python or Bash.
The problem here is really that Java <em>build tools</em>: <code>HtmlScraper.java</code> is simple enough
anyone could write it, but making sure <code>HtmlScraper.java</code> runs consistently on any
machine you put it on can be surprisingly difficult.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_mills_simpler_declarative_builds"><a class="anchor" href="#_mills_simpler_declarative_builds"></a>Mill&#8217;s Simpler Declarative Builds</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Because all of the issues above are with Java&#8217;s <em>tooling</em> rather than the <em>language itself</em>,
the Mill build tool is able to streamline these things considerably.</p>
</div>
<div class="sect2">
<h3 id="_mill_bootstrap_scripts"><a class="anchor" href="#_mill_bootstrap_scripts"></a>Mill Bootstrap Scripts</h3>
<div class="paragraph">
<p>Mill is primarily installed via a <code>./mill</code>
<a href="../cli/installation-ide.html#_bootstrap_scripts" class="xref page">bootstrap script</a>, similar to
<code>./mvnw</code> or <code>./gradlew</code> scripts common with those build tools. Although it may look
similar to what Maven or Gradle provide, Mill&#8217;s approach
has several advantages that may not be obvious at a glance:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>./mill</code> is the <em>standard way</em> to install Mill. Any Mill project you check out should
be runnable via <code>./mill</code> without needing to first figure out how the project expects
you to set up your machine.</p>
</li>
<li>
<p>The <code>./mill</code> bootstrap script downloads and caches not just Mill itself, but
also <em>the Java runtime needed to run your project</em>. In general, Mill projects do not
need Java to be pre-installed at all, and can build and run on any clean Windows, Mac,
or Linux machine without prior setup</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Mill does not rely on a pre-installed Java runtime by default, and instead manages its
own JVM by downloaded and caching it on-demand. This defaults to <code>zulu:21</code>,
or you can explicitly configure it in your <code>build.mill.yaml</code> file via:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">jvmId: 24
jvmId: zulu:24
jvmId: temurin:24</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can easily try out different Java versions by changing the <code>jvmId</code> config key,
and any Mill project can set <code>jvmId</code> to specify a consistent JVM version that is used
regardless of where the project is being built. You can also have different
projects or even different modules within the same project using different <code>jvmId</code>s,
and Mill will download/cache/use them without you needing to worry about collisions.</p>
</div>
<div class="paragraph">
<p>With Mill, the Java version you
use is managed declaratively: just like how Maven lets you declaratively configure the libraries
that a project needs such as <code>org.jsoup:jsoup:1.17.2</code>, Mill lets you declaratively configure
the <code>jvmId</code> the project needs and then handles any downloading and caching of those JVMs
automatically for you.</p>
</div>
<div class="paragraph">
<p>Thus the <code>./mill</code> bootstrap script is able to fix both the challenges
<a href="#_installing_java">Installing Java</a> as well as <a href="#_installing_maven">Installing Maven</a>.
You don&#8217;t need to install Maven, you don&#8217;t need to install <a href="https://sdkman.io/">SdkMan</a> or
<a href="https://www.jenv.be/">JEnv</a>, you don&#8217;t even need to install Mill! Any Mill project you check
out should be buildable and runnable using the <code>./mill</code> bootstrap script without needing
any prior installation, so you can immediately begin working on your project rather than
fiddling with setup commands.</p>
</div>
</div>
<div class="sect2">
<h3 id="_mill_build_configuration"><a class="anchor" href="#_mill_build_configuration"></a>Mill Build Configuration</h3>
<div class="paragraph">
<p>Mill&#8217;s <code>build.mill.yaml</code> <a href="../javalib/intro.html#_declarative_configuration" class="xref page">declarative configuration
files</a> are much simpler than the Maven <code>pom.xml</code>s you may be used to writing. For example, for
the <code>HtmlScraper.java</code> file shown above, the minimal configuration file looks like this:</p>
</div>
<div class="paragraph">
<p><code>build.mill.yaml</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">extends: JavaModule
mvnDeps:
- org.jsoup:jsoup:1.7.2</code></pre>
</div>
</div>
<div class="paragraph">
<p>In this file,</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>extends</code> tells us what class of modules this is, e.g.
<code>mill.javalib.JavaModule</code>, <code>mill.kotlinlib.KotlinModule</code>, <code>mill.scalalib.ScalaModule</code>,</p>
</li>
<li>
<p>The other keys such as <code>mvnDeps</code> tell us configuration on that module we want to override</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Mill follows Mavens principle of <em>Convention over Configuration</em>: although there are a lot
of possible configuration options (<code>mvnDeps</code>, <code>moduleDeps</code>, <code>repositories</code>,
<code>javacOptions</code>, etc.) the  <code>build.mill.yaml</code> file only needs to contain
the keys the user needs to customize. This greatly simplifies the common case where
the user is mostly fine with the default configuration and avoids much of the
complexity of <a href="#_setting_up_your_pom_xml">Setting up your pom.xml</a>.</p>
</div>
<div class="paragraph">
<p>In general, Mill&#8217;s <code>build.mill.yaml</code> config files are concise enough you don&#8217;t need to
copy-paste reams of boilerplate to set them up, or skim through reams of boilerplate to
read and understand and maintain them. They contain only the configuration that you care
about, with every key listed and documented in the Mill API documentation for that particular
module:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://mill-build.org/api/latest/mill/javalib/JavaModule.html#mvnDeps-0">mill.javalib.JavaModule</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If you want to configure the <code>jvmId</code>, <code>repositories</code>, <code>javacOptions</code>, or any of the other
normal build tool settings you can, but if you don&#8217;t need to configure them Mill makes
it super easy to get started with reasonable defaults for everything.</p>
</div>
</div>
<div class="sect2">
<h3 id="_running_programs_with_mill"><a class="anchor" href="#_running_programs_with_mill"></a>Running Programs with Mill</h3>
<div class="paragraph">
<p>When the time comes to running your program, with Mill it is simply:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-console hljs" data-lang="console">&gt; ./mill run Java 1
Ptolemy
Bali
Greater_Sunda_Islands
Rama
Sulaiman_al-Tajir
Endemism
Gajah_Mada
Yingya_Shenglan
Mahabharata
Cirebon
Ethnic_groups_in_Indonesia
...</code></pre>
</div>
</div>
<div class="paragraph">
<p>This command-line syntax follows closely the syntax used in other runtimes:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-console hljs" data-lang="console">&gt; python foo.py &lt;arg2&gt; &lt;arg2&gt;
&gt; bash foo.sh &lt;arg2&gt; &lt;arg2&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>mvn</code>'s command line syntax to run your Java code isn&#8217;t a blocker, but it is yet another
small hurdle on top of the many other small hurdles. In contrast, Mill tries to follow the
common command-line conventions used by most other programming languages and CLI tools, so
that anyone who picks up a Mill project coming from other languages or ecosystems will feel
right at home.</p>
</div>
</div>
<div class="sect2">
<h3 id="_java_single_file_scripts_in_mill"><a class="anchor" href="#_java_single_file_scripts_in_mill"></a>Java Single-File Scripts in Mill</h3>
<div class="paragraph">
<p>Apart from Mill modules defined via a <code>build.mill.yaml</code>, Mill also allows you to write
single-file "scripts" with their build configuration defined in a build header comment. For
example, the <code>HtmlScraper.java</code> file above can be annotated with a <code>//|</code> build header comment
as shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">//| mvnDeps:
//| - org.jsoup:jsoup:1.7.2
import org.jsoup.Jsoup;
import java.util.*;
public class HtmlScraper {
  static List&lt;String&gt; fetchLinks(String title) throws IOException {
    var url = "https://en.wikipedia.org/wiki/" + title;
    var doc = Jsoup.connect(url).header("User-Agent", "My Scraper").get();
    var links = new ArrayList&lt;String&gt;();
    for (var a : doc.select("main p a")) {
      var href = a.attr("href");
      if (href.startsWith("/wiki/")) links.add(href.substring(6));
    }
    return links;
  }
  public static void main(String[] args) throws Exception {
    if (args.length &lt; 2) throw new Exception("HtmlScraper.java &lt;start&gt; &lt;depth&gt;");
    var seen = new HashSet&lt;&gt;(Set.of(args[0]));
    var current = new HashSet&lt;&gt;(Set.of(args[0]));
    for (int i = 0; i &lt; Integer.parseInt(args[1]); i++) {
      var next = new HashSet&lt;String&gt;();
      for (String article : current) {
        for (String link : fetchLinks(article)) {
          if (seen.add(link)) next.add(link);
        }
      }
      current = next;
    }
    for (String s : seen) System.out.println(s);
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Mill single-file script modules can be run from the command line just like any Python or Bash
script, via:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-console hljs" data-lang="console">&gt; ./mill HtmlScraper.java Java 1
Ptolemy
Bali
Greater_Sunda_Islands
Rama
Sulaiman_al-Tajir
Endemism
Gajah_Mada
Yingya_Shenglan
Mahabharata
Cirebon
Ethnic_groups_in_Indonesia
...</code></pre>
</div>
</div>
<div class="paragraph">
<p>Mill scripts further simplifies the usage of Mill for small programs. Like Maven, Mill
single-file scripts are fully declarative:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Any build configuration is set in the <code>//|</code> build header comment to specify what the file needs</p>
</li>
<li>
<p>Any downloading of dependencies or compilation of the <code>.java</code> file is scheduled, parallelized
and cached automatically</p>
</li>
<li>
<p>You have full power to configure the script however you like: <code>jvmId</code>, <code>repositories</code>,
<code>javacOptions</code>, etc.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>But unlike Maven, Mill is able to streamline the process of taking your <code>.java</code> file
and running it, such that the underlying simplicity of its declarative configuration
really shines through in the user experience.</p>
</div>
<div class="paragraph">
<p>While Mill&#8217;s <code>build.mill.yaml</code> are already pretty easy to use, for small programs
Mill&#8217;s single-file scripts with a <code>//|</code> build header are even easier to start with.
And when the program does grow in size and complexity, more advanced use cases such
as multi-module projects or custom build logic are well supported.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_conclusion_mill_vs_maven"><a class="anchor" href="#_conclusion_mill_vs_maven"></a>Conclusion: Mill vs Maven</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Maven invented the idea of <em>"declarative builds"</em>, which was a big step forward in
a build-tool landscape dominated by tools like <a href="https://www.gnu.org/software/bash/">Bash</a>
or <a href="https://ant.apache.org/">Ant</a>. However, despite being declarative, Maven&#8217;s rough edges
make getting started with Java troublesome and error-prone:
from installing a Java runtime (the "right" way), to installing Maven (the "right" way),
to cargo-cult copy-pasting a <code>pom.xml</code> and associated commands to run your program from the
command-line.</p>
</div>
<div class="paragraph">
<p>None of these issues are blockers, but each of them is a hurdle enough to make
someone re-consider whether they want to write their code in Java. Some may persevere
and get things working, others will wrap all this messiness in their own collection of
bash scripts and automation, and still others will end up deciding to write their
small program in Python or Bash instead of Java.</p>
</div>
<div class="paragraph">
<p>Mill tries to learn from all the best-practices of Maven, but polishes the rough edges
to provide a much smoother experience working with declarative builds. From the
zero-setup installation process and declarative <code>jvmId</code> management,
to the concise <code>build.mill.yaml</code> format and familiar command-line syntax, to
support for single-file programs. Mill lets the key ideas of declarative shine
through to provide an experience writing and running your Java programs that is every
bit as smooth as running a Python or Bash script from the command line.</p>
</div>
<div class="paragraph">
<p>If you have ever worked with a Maven build you found it clunky to configure and clunky to use,
do give Mill a try!</p>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="../kotlinlib/script.html">Kotlin Single-File Scripts</a></span>
  <span class="next"><a href="gradle.html">Comparing Mill vs Gradle: Programmable Builds</a></span>
</nav>
</article>
  </div>
</main>
</div>
<script id="site-script" src="../../../_/js/site.js" data-ui-root-path="../../../_"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
<script src="../../../_/js/vendor/lunr.js"></script>
<script src="../../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../../.." data-snippet-length="100" data-stylesheet="../../../_/css/search.css"></script>
<script async src="../../../search-index.js"></script>
  </body>
</html>
