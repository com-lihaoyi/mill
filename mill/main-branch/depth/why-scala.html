<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html lang="en"><head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Why does Mill use Scala? :: The Mill Build Tool</title>
    <link rel="canonical" href="https://mill-build.org/mill/depth/why-scala.html" />
    <link rel="prev" href="design-principles.html" />
    <link rel="next" href="../reference/talks-blog-posts.html" />
    <meta name="generator" content="Antora 3.1.9" />
    <link rel="stylesheet" href="../../../_/css/site.css" />
    <script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-1C582ZJR85"></script>
    <script>function gtag(){dataLayer.push(arguments)};window.dataLayer=window.dataLayer||[];gtag('js',new Date());gtag('config','G-1C582ZJR85')</script>
<link rel="icon" href="../../../_/favicon.png" type="image/x-icon" />
  
  <style>
  /* auto-hyphenation is super ugly */
  *{
    hyphens: manual !important;
  }

  /* Reduce font size from 17px to something reasonable */
  .doc {
   font-size: 16px !important;
  }
  .doc pre {
   font-size: 14px !important;
  }
  /* Shrink unreasonably large top bar */
  nav.navbar{
    height: 2.5rem;
  }
  body.article{
    padding-top: 2.5rem;
  }
  div.nav-container{
    top: 2.5rem;
  }
  div.toolbar{
    top: 2.5rem;
  }
  aside.nav{
    top: 2.5rem;
    height: calc(100vh - 2.5rem);
  }
  </style></head><body class="article">
  
<header class="header">
  
  <script>
  gtag('config', 'AW-16649289906');

  document.addEventListener('DOMContentLoaded', function() {
  const links = document.querySelectorAll('a');
    links.forEach(link => {
      if (link.textContent.trim().toLowerCase() === 'download') {
        link.addEventListener('click', function(event) {
          console.log("download link clicked")
          gtag('event', 'conversion', {'send_to': 'AW-16649289906/rsphCKfVq8QZELKBgIM-'});
        });
      }
    });
  });
  </script>
  <nav class="navbar">
    <div class="navbar-brand">
      <!-- TODO: add mill icon -->
      <a class="navbar-item" href="https://mill-build.org"><img src="../../../_/logo-white.svg" height="20" />Â The Mill Build Tool</a>
      <div class="navbar-item search">
        <input id="search-input" type="text" placeholder="Search the docs" />
      </div>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="https://github.com/com-lihaoyi/mill">GitHub</a>
        <a class="navbar-item" href="https://mill-build.org/blog/index.html">Blog</a>
        <a class="navbar-item" href="https://mill-build.org/api/latest/index.html">API</a>
        <a class="navbar-item" href="https://github.com/com-lihaoyi/mill/issues">Issues</a>
        <a class="navbar-item" href="https://github.com/com-lihaoyi/mill/discussions">Discuss</a>


            <!--
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Documentation</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#"></a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Plugins</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Service A</a>
            <a class="navbar-item" href="#">Service B</a>
            <a class="navbar-item" href="#">Service C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Resources</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Resource A</a>
            <a class="navbar-item" href="#">Resource B</a>
            <a class="navbar-item" href="#">Resource C</a>
          </div>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div>
        -->
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="mill" data-version="main-branch">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
<ul class="nav-list">

  <li class="nav-item" data-depth="0">
<ul class="nav-list">

  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../javalib/intro.html">Building Java with Mill</a>
<ul class="nav-list">

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../javalib/module-config.html">Java Module Configuration</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../javalib/dependencies.html">Java Library Dependencies</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../javalib/testing.html">Testing Java Projects</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../javalib/linting.html">Linting Java Projects</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../javalib/publishing.html">Java Packaging &amp; Publishing</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../javalib/build-examples.html">Java Build Examples</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../javalib/web-examples.html">Java Web Project Examples</a>
  </li>
</ul>
  </li>

  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../scalalib/intro.html">Building Scala with Mill</a>
<ul class="nav-list">

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../scalalib/module-config.html">Scala Module Configuration</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../scalalib/dependencies.html">Scala Library Dependencies</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../scalalib/testing.html">Testing Scala Projects</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../scalalib/linting.html">Linting Scala Projects</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../scalalib/publishing.html">Scala Packaging &amp; Publishing</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../scalalib/build-examples.html">Scala Build Examples</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../scalalib/web-examples.html">Scala Web Project Examples</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../scalalib/native-examples.html">Scala Native Examples</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../scalalib/spark.html">Spark Examples</a>
  </li>
</ul>
  </li>

  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../kotlinlib/intro.html">Building Kotlin with Mill</a>
<ul class="nav-list">

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../kotlinlib/module-config.html">Kotlin Module Configuration</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../kotlinlib/dependencies.html">Kotlin Library Dependencies</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../kotlinlib/testing.html">Testing Kotlin Projects</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../kotlinlib/linting.html">Linting Kotlin Projects</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../kotlinlib/publishing.html">Kotlin Packaging &amp; Publishing</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../kotlinlib/web-examples.html">Kotlin Web Project Examples</a>
  </li>
</ul>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Experimental Platform Support</span>
<ul class="nav-list">

  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../pythonlib/intro.html">Building Python with Mill</a>
<ul class="nav-list">

  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../pythonlib/module-config.html">Python Module Configuration</a>
  </li>

  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../pythonlib/dependencies.html">Python Library Dependencies</a>
  </li>

  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../pythonlib/linting.html">Linting Python Projects</a>
  </li>

  <li class="nav-item is-active" data-depth="3">
    <a class="nav-link" href="../pythonlib/testing.html">Testing Python Projects</a>
  </li>

  <li class="nav-item is-active" data-depth="3">
    <a class="nav-link" href="../pythonlib/publishing.html">Python Packaging &amp; Publishing</a>
  </li>

  <li class="nav-item is-active" data-depth="3">
    <span class="nav-text">xref:pythonlib/web-examples.adoc</span>
  </li>
</ul>
  </li>

  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../javascriptlib/intro.html">Building Javascript with Mill</a>
<ul class="nav-list">

  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../javascriptlib/dependencies.html">Typescript Library Dependencies</a>
  </li>

  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../javascriptlib/module-config.html">Typescript Module Configuration</a>
  </li>

  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../javascriptlib/testing.html">Testing Typescript Projects</a>
  </li>

  <li class="nav-item is-active" data-depth="3">
    <a class="nav-link" href="../javascriptlib/linting.html">Linting Typescript Projects</a>
  </li>

  <li class="nav-item is-active" data-depth="3">
    <a class="nav-link" href="../javascriptlib/publishing.html">Typescript Packaging &amp; Publishing</a>
  </li>

  <li class="nav-item is-active" data-depth="3">
    <a class="nav-link" href="../javascriptlib/build-examples.html">JavaScript Build Examples</a>
  </li>
</ul>
  </li>

  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Building Android Apps</span>
<ul class="nav-list">

  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../android/java.html">Android Java Projects</a>
  </li>

  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../android/kotlin.html">Android Kotlin Projects</a>
  </li>

  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../android/android-linting.html">Linting Android Projects</a>
  </li>
</ul>
  </li>
</ul>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../comparisons/why-mill.html">Why Use Mill?</a>
<ul class="nav-list">

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../comparisons/maven.html">Case Study: Mill vs Maven</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../comparisons/gradle.html">Case Study: Mill vs Gradle</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../comparisons/sbt.html">Case Study: Mill vs <code>sbt</code></a>
  </li>
</ul>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">The Mill CLI</span>
<ul class="nav-list">

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cli/installation-ide.html">Installation &amp; IDE Setup</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cli/flags.html">Mill Command-Line Flags</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cli/builtin-commands.html">Built-in Commands</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../cli/query-syntax.html">Task Query Syntax</a>
  </li>
</ul>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../migrating/migrating.html">Migrating to Mill</a>
<ul class="nav-list">

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../migrating/maven.html">Migrating From Maven to Mill</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../migrating/gradle.html">Migrating From Gradle to Mill</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../migrating/sbt.html">Migrating From <code>sbt</code> to Mill</a>
  </li>
</ul>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Mill Fundamentals</span>
<ul class="nav-list">

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../fundamentals/tasks.html">Tasks</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../fundamentals/modules.html">Modules</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../fundamentals/out-dir.html">The Output Directory</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../fundamentals/library-deps.html">Library Dependencies in Mill</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../fundamentals/cross-builds.html">Cross Builds</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../fundamentals/bundled-libraries.html">Bundled Libraries</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../fundamentals/configuring-jvm-versions.html">Configuring JVM Versions</a>
  </li>
</ul>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Extending Mill</span>
<ul class="nav-list">

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../extending/import-mvn-plugins.html">Import Libraries and Plugins</a>
  </li>

  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../extending/contrib-plugins.html">Contrib Plugins</a>
<ul class="nav-list">

  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../contrib/artifactory.html">Artifactory</a>
  </li>

  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../contrib/bintray.html">Bintray</a>
  </li>

  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../contrib/buildinfo.html">BuildInfo</a>
  </li>

  <li class="nav-item is-active" data-depth="3">
    <a class="nav-link" href="../contrib/codeartifact.html">Codeartifact</a>
  </li>

  <li class="nav-item is-active" data-depth="3">
    <a class="nav-link" href="../contrib/docker.html">Docker</a>
  </li>

  <li class="nav-item is-active" data-depth="3">
    <a class="nav-link" href="../contrib/flyway.html">Flyway</a>
  </li>

  <li class="nav-item is-active" data-depth="3">
    <a class="nav-link" href="../contrib/gitlab.html">Gitlab</a>
  </li>

  <li class="nav-item is-active" data-depth="3">
    <a class="nav-link" href="../contrib/jmh.html">JMH</a>
  </li>

  <li class="nav-item is-active" data-depth="3">
    <a class="nav-link" href="../contrib/playlib.html">Play Framework</a>
  </li>

  <li class="nav-item is-active" data-depth="3">
    <a class="nav-link" href="../contrib/proguard.html">Proguard</a>
  </li>

  <li class="nav-item is-active" data-depth="3">
    <a class="nav-link" href="../contrib/scalapblib.html">ScalaPB</a>
  </li>

  <li class="nav-item is-active" data-depth="3">
    <a class="nav-link" href="../contrib/scoverage.html">Scoverage</a>
  </li>

  <li class="nav-item is-active" data-depth="3">
    <a class="nav-link" href="../contrib/sonatypecentral.html">Sonatype Central (Plugin Moved to Scalalib)</a>
  </li>

  <li class="nav-item is-active" data-depth="3">
    <a class="nav-link" href="../contrib/testng.html">TestNG</a>
  </li>

  <li class="nav-item is-active" data-depth="3">
    <a class="nav-link" href="../contrib/twirllib.html">Twirl</a>
  </li>

  <li class="nav-item is-active" data-depth="3">
    <a class="nav-link" href="../contrib/versionfile.html">Version file</a>
  </li>
</ul>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../extending/thirdparty-plugins.html">Third-Party Plugins</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../extending/running-jvm-code.html">Running Dynamic JVM Code</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../extending/writing-plugins.html">Writing Mill Plugins</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../extending/meta-build.html">The Mill Meta-Build</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../extending/example-typescript-support.html">Example: Typescript Support</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../extending/example-python-support.html">Example: Python Support</a>
  </li>
</ul>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../large/large.html">Large Builds and Monorepos</a>
<ul class="nav-list">

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../large/selective-execution.html">Selective Test Execution</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../large/multi-file-builds.html">Multi-File Builds</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../large/multi-language-builds.html">Multi-Language Builds</a>
  </li>
</ul>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Mill In Depth</span>
<ul class="nav-list">

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="evaluation-model.html">The Mill Evaluation Model</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="caching.html">Caching in Mill</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="parallelism.html">Parallelism in Mill</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="process-architecture.html">The Mill Process Architecture</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="sandboxing.html">Mill Sandboxing</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="design-principles.html">Mill Design Principles</a>
  </li>

  <li class="nav-item is-current-page is-active" data-depth="2">
    <a class="nav-link" href="why-scala.html">Why does Mill use Scala?</a>
  </li>
</ul>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Reference</span>
<ul class="nav-list">

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://mill-build.org/api/latest/mill/index.html">Mill Scaladoc</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://github.com/com-lihaoyi/mill/blob/main/changelog.adoc">Changelog</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../reference/talks-blog-posts.html">Talks &amp; Blog Posts</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Mill Documentation</span>
    <span class="version">main-branch</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <div class="title"><a href="../../index.html">Mill Documentation</a></div>
      <ul class="versions">
        <li class="version is-current">
          <a href="../index.html">main-branch</a>
        </li>
        <li class="version">
          <a href="../../dev-1.0.0-M1-34-d4c9a4/index.html">dev-1.0.0-M1-34-d4c9a4</a>
        </li>
        <li class="version is-latest">
          <a href="../../index.html">0.12.13</a>
        </li>
        <li class="version">
          <a href="../../0.11.x/index.html">0.11.13</a>
        </li>
        <li class="version">
          <a href="../../0.10.15/index.html">0.10.15</a>
        </li>
        <li class="version">
          <a href="../../0.9.12/index.html">0.9.12</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../blog/index.html">The Mill Build Engineering Blog</a></div>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">

<div class="toolbar" role="navigation" style="position: fixed; top: 2.5rem; height: 2rem; left: 0px;">
<button class="nav-toggle"></button>
</div>
<div class="toolbar" style="position: fixed; top: 2.5rem; height: 1.5rem; right: 0px;">
<div class="edit-this-page"><a href="https://github.com/com-lihaoyi/mill/edit/main/docs/modules/ROOT/pages/depth/why-scala.adoc">Edit this Page</a></div>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Why does Mill use Scala?</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>One question that comes up a lot among Mill users is why use Scala as the language
to configure your build? Why not YAML, XML, TOML, Bash, Groovy, Python, Java, or any of the
other hundred programming and configuration languages in widespread use today? Scala
is definitely a niche language, but it also has some unique properties that make it
especially suitable to be used for configuring the build system of a small or large project.</p>
</div>
<div class="paragraph">
<p>For the purposes of this page, we will break down this topic into three top-level questions: why
Mill uses a <em>general-purpose programming language</em>, why Mill uses
the <em>Scala</em> Language, and why Mill wants to run on the <em>Java Virtual Machine</em></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_why_a_general_purpose_language"><a class="anchor" href="#_why_a_general_purpose_language"></a>Why a General Purpose Language?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>While Mill uses a general-purpose programming language (Scala), many build tools use
restricted config languages instead, or their own custom tool-specific languages. Why
that is the case is an interesting discussion.</p>
</div>
<div class="sect2">
<h3 id="_why_not_config_languages"><a class="anchor" href="#_why_not_config_languages"></a>Why Not Config Languages?</h3>
<div class="paragraph">
<p>Many build tools use restricted config languages rather than a general-purpose language:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;" />
<col style="width: 50%;" />
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Language</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tool</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://en.wikipedia.org/wiki/XML">XML</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://maven.apache.org/">Maven</a>, <a href="https://en.wikipedia.org/wiki/MSBuild">MSBuild</a>, <a href="https://ant.apache.org/">Ant</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://toml.io/en/">TOML</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://packaging.python.org/en/latest/guides/writing-pyproject-toml/">pyproject.toml</a>, <a href="https://doc.rust-lang.org/cargo/guide/">Cargo</a>, <a href="https://python-poetry.org/">Poetry</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://en.wikipedia.org/wiki/JSON">JSON</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://docs.npmjs.com/cli/v10/configuring-npm/package-json/">NPM</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://en.wikipedia.org/wiki/YAML">YAML</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://bleep.build/docs/">Bleep</a></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>At a first glance, using a restricted language is tempting: restricted languages <em>are</em>
simpler than general purpose languages, with less complexity. However, build systems
are often fundamentally complex systems, especially as codebases or organizations grow.
Often projects find themselves with custom build system requirements that do not fit nicely
into these &quot;simple metadata formats&quot;:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Code generation: <a href="https://protobuf.dev/">protobuf</a>, <a href="https://www.openapis.org/">OpenAPI/Swagger</a>, <a href="https://stackoverflow.com/questions/26217488/what-is-vendoring">vendoring code</a>, etc.</p>
</li>
<li>
<p>Resource generation: static resource pipelines, version metadata, <a href="https://www.cisa.gov/sbom">SBOM</a>s, etc.</p>
</li>
<li>
<p>Deployment workflows: <a href="https://www.docker.com/">docker</a>, <a href="https://kubernetes.io/">kubernetes</a>, <a href="https://aws.amazon.com/">AWS</a>, etc.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>While most &quot;common&quot; workflows in &quot;common&quot; build tools will have <em>some</em> built in support
or plugin, it may not do exactly what you need, the plugin may be unmaintained, or you
may hit some requirement unique to your business.
When using a restricted config language to configure your build, and you hit one of these
unusual requirements, there are usually four outcomes:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Find some third-party &quot;plugin&quot; (and these build systems always have plugins!) written
in a general-purpose language to use in your XML/TOML/JSON file, or write your own plugin
if none of the off-the-shelve plugins exactly match your requirements (which is very likely!)</p>
</li>
<li>
<p>Have your build tool delegate the logic to some &quot;run bash script&quot; step, and implement your
custom logic in the bash script that the build tool wraps</p>
</li>
<li>
<p>Take the build tool and wrap <em>it</em> in a bash script, that implements the custom logic and
configures the build tool dynamically on the fly by generating XML/TOML/JSON files or
passing environment variables or properties</p>
</li>
<li>
<p>Extend your XML/TOML/JSON config language with general-purpose programming language
features: conditionals, variables, functions, etc. (see <a href="https://docs.github.com/en/actions/writing-workflows/choosing-what-your-workflow-does/evaluate-expressions-in-workflows-and-actions">Github Config Expressions</a>,
<a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/intrinsic-function-reference.html">AWS Cloudformation Functions</a>,
<a href="https://helm.sh/docs/chart_best_practices/templates/">Helm Chart Templating</a>)</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Anyone who has been in industry for some time has likely seen all of these outcomes at various
companies and in various codebases. The fundamental issue is that <em>build systems are inherently
complex</em>, and if your built tool <em>language</em> does not accommodate that complexity, the complexity
ends up leaking elsewhere outside the purview of the build tool.</p>
</div>
<div class="paragraph">
<p>Millâs choice of using a general purpose language does mean more complexity in the core
language or build tool, but it also allows you to <em>move complexity into the build tool</em>
rather than having it live in third-party plugins, ad-hoc bash scripts, or weird pseudo-languages
embedded in your config. A general-purpose language likely has better IDE integration,
tooling, safety, performance, and ecosystem support than bash scripts or
embedded-pseudo-config-languages, and if your build system complexity has to live <em>somewhere</em>,
itâs better to write it in a general-purpose language where it can be properly managed,
as long as a suitable general-purpose language can be found.</p>
</div>
</div>
<div class="sect2">
<h3 id="_why_not_a_custom_language"><a class="anchor" href="#_why_not_a_custom_language"></a>Why Not A Custom Language?</h3>
<div class="paragraph">
<p>Many build tools do use custom languages:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://cmake.org/">CMake</a></p>
</li>
<li>
<p><a href="https://www.gnu.org/software/autoconf/">Autoconf</a></p>
</li>
<li>
<p><a href="https://earthly.dev/">Earthly</a></p>
</li>
<li>
<p><a href="https://www.gnu.org/software/make/">Make</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The basic issue with custom languages is that although they may in theory match your
build tool requirements perfectly, they lack in all other areas that a widely-used
general-purpose language does well:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>IDE support in all popular IDEs and editors</p>
</li>
<li>
<p>Library ecosystem of publicly available helpers and plugins</p>
</li>
<li>
<p>Package publishing and distribution infrastructure</p>
</li>
<li>
<p>Tooling: debuggers, profilers</p>
</li>
<li>
<p><em>Quality</em> of the language itself: things like type systems, basic syntax, standard library,
error messages, etc.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A custom tool-specific language implemented in a few person-months will definitely be
much less polished in all these areas that a widely-used general-purpose language that
has been gradually improved upon for a decade or two. While in theory a custom language could
catch up with enough staffing to implement all these features, in practice even projects
like <a href="https://www.gnu.org/software/make/">Make</a> that are used for decades fall behind niche
general-purpose languages when it comes to the supporting ecosystem above. As an example,
how do you publish a re-usable makefile that others can depend on and adjust to fit their
requirements? And how is the IDE experience of navigating around large <code>Makefiles</code>?</p>
</div>
<div class="paragraph">
<p>Using a general-purpose language to configure a build tool provides all these things
out of the box. Provided, again, that a suitable language can be found!</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_why_the_scala_language"><a class="anchor" href="#_why_the_scala_language"></a>Why the Scala Language?</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_conciseness"><a class="anchor" href="#_conciseness"></a>Conciseness</h3>
<div class="paragraph">
<p>A build language has to be concise; although Java and C are popular and widely used,
you rarely see people writing their build logic in Java or C
(with <a href="https://rife2.com/bld">some exceptions</a>), and even XML is pretty rare these days
(with <a href="https://maven.apache.org/">Maven</a> being the notable exception). Programming and Configuration language
verbosity is a spectrum, and the languages used to configure the build are typically
in the less-verbose end of the spectrum:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;" />
<col style="width: 50%;" />
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Language</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tool</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://www.python.org/">Python</a> (or <a href="https://github.com/bazelbuild/starlark">StarLark</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://bazel.build/">Bazel</a>, <a href="https://www.pantsbuild.org/">Pants</a>, <a href="https://buck.build/">Buck</a>, <a href="https://scons.org/">Scons</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://groovy-lang.org/">Groovy</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://gradle.org/">Gradle</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://www.ruby-lang.org/en/">Ruby</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/ruby/rake">Rake</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://en.wikipedia.org/wiki/JavaScript">Javascript</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://en.wikipedia.org/wiki/Grunt_(software)">Grunt</a>, <a href="https://en.wikipedia.org/wiki/Gulp.js">Gulp</a>, etc.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>While some tools go even more concise (e.g. Bash, Make, etc.), typically this
Python/Groovy/Ruby/TOML/YAML level of conciseness is where most build tools end up.</p>
</div>
<div class="paragraph">
<p>Given that, Scala fits right in: it is neither too verbose (like Java/C++/XML), nor is
it as terse as the syntaxes of Bash or Make. Millâs bundled libraries like
<a href="https://github.com/com-lihaoyi/requests-scala">Requests-Scala</a> or
<a href="https://github.com/com-lihaoyi/os-lib">OS-Lib</a>, they would not look out of place in any
Python or Ruby codebase. Scalaâs balance between conciseness and verbosity is
more or less what we want when configuring a build.</p>
</div>
</div>
<div class="sect2">
<h3 id="_static_typing"><a class="anchor" href="#_static_typing"></a>Static Typing</h3>
<div class="paragraph">
<p>Scala is a statically typed language. That has many consequences: good performance,
powerful linting frameworks (e.g. <a href="https://scalacenter.github.io/scalafix/">Scalafix</a>),
good toolability, and protection against many classes of &quot;dumb bugs&quot;.</p>
</div>
<div class="paragraph">
<p>For a build tool like Mill, perhaps what matters most is:
<em>toolability</em> and <em>protection against dumb bugs</em>.</p>
</div>
<div class="paragraph">
<p>Most developers using a build tool are
not build tool experts, and have no desire to become build tool experts. They will
forever be cargo-culting examples they find online, copy-pasting from other parts of the
codebase, or blindly fumbling their customizations. It is in this
context that Millâs static typing really shines: what such &quot;perpetual beginners&quot; need
most is help understanding/navigating the build logic, and help checking their
proposed changes for dumb mistakes. And there will be dumb mistakes, because most
people are not and will never be build-tool experts or enthusiasts</p>
</div>
<div class="paragraph">
<p>To that end, Millâs static typing gives it a big advantage here. Itâs IDE support
is much better <a href="../comparisons/maven.html" class="xref page">compared to Maven</a> or
<a href="../comparisons/maven.html" class="xref page">compared to Gradle</a>, and that is largely due to the
way Scalaâs static types give the IDE more to work with than more dynamic languages.
And, while Scalaâs static typing wonât catch every subtle bug, it does do a good job
at catching the dumb bugs that non-experts will typically make when configuring their
build system</p>
</div>
<div class="paragraph">
<p>Almost every programming language these days is statically typed to some degree,
Python has <a href="https://github.com/python/mypy">MyPy</a>, Ruby has <a href="https://sorbet.org/">Sorbet</a>,
Javascript has <a href="https://www.typescriptlang.org/">TypeScript</a>, and so on. But
Scala has static typing built deeply into the core of the language, and so it works
more smoothly than other languages which have static typing bolted on after-the-fact:
The syntax is slicker, the IDEs work better, the error reporting is friendlier.
And thatâs why Scalaâs static typing really shines when used in Mill builds even
for non-experts with no prior background in Scala.</p>
</div>
</div>
<div class="sect2">
<h3 id="_functional_and_object_oriented_features"><a class="anchor" href="#_functional_and_object_oriented_features"></a>Functional and Object-Oriented Features</h3>
<div class="paragraph">
<p>Scala is perhaps the language that sits most squarely on the fence between functional
and object-oriented programming:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>It provides functional features from basic first-class functions immutability,
all the way to more advanced techniques like Typeclasses</p>
</li>
<li>
<p>It also provides object oriented features, again from basic classes and overrides
to more advanced mixin trait composition and implicit conversions</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Mill makes heavy use of both the functional and object-oriented features of the Scala
language. As discussed in the section on <a href="design-principles.html" class="xref page">Mill Design Principles</a>,
Mill models the <em>build graph</em> using the functional call graph of your methods,
while Mill models the <em>module hierarchy</em> using the object graph of your modules. And
this is not just a superficial resemblance, but the semantics deeply match what you would
expect in a hybrid functional/object-oriented program: Mill supports instantiating modules,
subclasses, inheritance via <code>extends</code>, <code>override</code>, <code>super</code>,
and so on.</p>
</div>
<div class="paragraph">
<p>While these are non-trivial semantics, they are semantics that should be immediately
familiar to anyone who has ever passed programming 101 in college. You already <em>know</em>
how <code>override</code> works or how <code>super</code> works in Mill, even if nobody told you! This approach
of &quot;making your build code feel just like your application code&quot; is the key to Millâs
approachability to people from varying backgrounds, and to allow the &quot;perpetual non-experts&quot;
typically modifying a build system to do so in a familiar and intuitive manner even if
they know nothing about the Scala language.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_why_the_jvm_runtime"><a class="anchor" href="#_why_the_jvm_runtime"></a>Why the JVM Runtime?</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_dynamic_classloading"><a class="anchor" href="#_dynamic_classloading"></a>Dynamic Classloading</h3>
<div class="paragraph">
<p>One often-under-appreciated facet of the Java Virtual Machine is its ability to do dynamic
classloading. This functionality is largely irrelevant in the backend-service space that Java
is often used in (where the entire codebase is present during deployment), and has largely
failed as a mechanism for running un-trusted potentially-malicious code in a safe sandbox
(see <a href="https://en.wikipedia.org/wiki/Java_applet">Applets</a>).</p>
</div>
<div class="paragraph">
<p>However, in the case of a build system, the need is different: you need to dynamically build,
load, and run a wide variety of mostly-trusted code. Most build systems do not provide any
hard security boundaries, and assume the code you get from your source control system is
not malicious. But build systems need to be pluggable, with the same build system
potentially being used to manage a wide variety of different tools and frameworks.</p>
</div>
<div class="paragraph">
<p>It is in this context that the JVMâs dynamic classloading shines, and Mill goes all in
dynamic classloading. Features like <a href="../extending/import-mvn-plugins.html" class="xref page">import $ivy</a>,
<a href="../extending/running-jvm-code.html" class="xref page">Running Dynamic JVM Code</a>, or the
<a href="../extending/meta-build.html" class="xref page">Mill Meta-Build</a> would be difficult-to-impossible in
less-dynamic platforms like Go, Swift, Rust, or C++. Mill simultaneously takes advantage of
the Scala languageâs <a href="#_static_typing">Static Typing</a>, while also leaning heavily on the
JVMâs dynamic nature: it uses classloader hierarchies, dynamic class loading and unloading,
isolated and partially-isolated classloaders, bytecode instrumentation, the whole works.
It wouldnât be a stretch to say that a build tool like Mill could not be written on top of
any other platform than the JVM it runs on today.</p>
</div>
</div>
<div class="sect2">
<h3 id="_huge_jvm_tooling_ecosystem"><a class="anchor" href="#_huge_jvm_tooling_ecosystem"></a>Huge JVM Tooling Ecosystem</h3>
<div class="paragraph">
<p>The JVM ecosystem is huge, not just for the Java language but also things like Kotlin, Scala,
Android, and so on. IDEs, debuggers, profilers, heap analyzers, if a software tool exists
you can bet there is an equivalent or integration with the JVM ecosystem.</p>
</div>
<div class="paragraph">
<p>From the perspective of IDE support, Mill is able to get (almost) full support for understanding
and navigating its <code>build.mill</code> files, basically for free: IntelliJ already has deep support
for understanding JVM code, classfiles, classpaths, the Scala language itself, and so on.
VSCode also works pretty well out-of-the-box with minimal modifications.</p>
</div>
<div class="paragraph">
<p>Apart from the IDE, the Java ecosystem has perhaps some of the best tooling available of
any programming ecosystem, both free and proprietary, and Mill makes heavy use of it. If
a build is stuck, you can use <code>jstack</code> to see what it is doing. If a build is slow or running
out of memory, you can hook it up to <a href="https://www.ej-technologies.com/jprofiler">JProfiler</a>
or <a href="https://www.yourkit.com/">Yourkit</a> to see what is taking up space.</p>
</div>
<div class="paragraph">
<p>Lastly there is the wealth of libraries: if something has a programming language integration,
there probably is one for Java, and Mill can make use of any Java libraries seamlessly
as part of the build using <a href="../extending/import-mvn-plugins.html" class="xref page">import $ivy</a> or
<a href="../extending/running-jvm-code.html" class="xref page">dynamic classloading</a>. With Mill, the ability to
directly import <em>any JVM artifact on the planet</em> without needing a purpose-built plugin
open ups an enormous about of possibilities: anything that can be done in the Java ecosystem
can be done as part of your Mill build with a
single <a href="../extending/import-mvn-plugins.html" class="xref page">import $ivy</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_built_in_publishing_infrastructure"><a class="anchor" href="#_built_in_publishing_infrastructure"></a>Built-in Publishing Infrastructure</h3>
<div class="paragraph">
<p>The last major benefit Mill gets from running on the JVM is the publishing infrastructure:
primarily Sonatypeâs <a href="https://central.sonatype.com/">Maven Central</a>. Mill has a rich and
constantly growing set of <a href="../extending/thirdparty-plugins.html" class="xref page">Third-Party Plugins</a> that
are published on Maven Central for people to use, and anyone can easily
<a href="../extending/writing-plugins.html" class="xref page">write and publish their own</a>. While Maven Central isnât
perfect, it does a solid job as a package repository: hosting an enormous catalog of
artifacts for the Java community to build upon, with nice properties such as
<a href="https://central.sonatype.org/register/namespace/">namespacing</a>,
<a href="https://search.maven.org/">discoverability</a>,
<a href="https://central.sonatype.org/publish/requirements/immutability/">immutability</a>,
and <a href="https://central.sonatype.org/publish/requirements/#sign-files-with-gpgpgp">code signing</a>.
Apart from Maven Central itself, there is a wealth of other hosted or self-hosted JVM
package repositories available for you to choose.</p>
</div>
<div class="paragraph">
<p>Mill makes heavy use of Maven Central and the rest of the Java publishing infrastructure:
Millâs own artifacts are all published on Maven Central, Mill builds can resolve any
artifact from Maven Central to use in your build, and anyone can publish their own plugins
to Maven Central for free. it is easy to
<a href="../javalib/dependencies.html#_repository_config" class="xref page">configure alternate repositories</a>,
and Mill provides a wealth of <a href="../fundamentals/library-deps.html" class="xref page">tools and techniques for
working with JVM dependencies</a>.</p>
</div>
<div class="paragraph">
<p>Most build tools end up with some half-baked plugin distribution model: downloading source
code off of Github, ad-hoc package formats or zip files, published artifacts that can be
sneakily changed or even deleted after the fact, and so on. Mill instead relies on
the widely-used publishing and distribution system that every JVM project already uses,
providing a predictable and well-designed publishing and artifact distribution experience
far beyond what can be provided by most other build tools.</p>
</div>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="design-principles.html">Mill Design Principles</a></span>
  <span class="next"><a href="../reference/talks-blog-posts.html">Talks &amp; Blog Posts</a></span>
</nav>
</article>
  </div>
</main>
</div>
<script id="site-script" src="../../../_/js/site.js" data-ui-root-path="../../../_"></script>
<script async="async" src="../../../_/js/vendor/highlight.js"></script>
<script src="../../../_/js/vendor/lunr.js"></script>
<script src="../../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../../.." data-snippet-length="100" data-stylesheet="../../../_/css/search.css"></script>
<script async="async" src="../../../search-index.js"></script>
  
</body></html>