<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html lang="en"><head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Case Study: Mill vs Gradle :: The Mill Build Tool</title>
    <link rel="canonical" href="https://mill-build.org/mill/comparisons/gradle.html" />
    <link rel="prev" href="maven.html" />
    <link rel="next" href="sbt.html" />
    <meta name="generator" content="Antora 3.1.9" />
    <link rel="stylesheet" href="../../../_/css/site.css" />
    <script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-1C582ZJR85"></script>
    <script>function gtag(){dataLayer.push(arguments)};window.dataLayer=window.dataLayer||[];gtag('js',new Date());gtag('config','G-1C582ZJR85')</script>
<link rel="icon" href="../../../_/favicon.png" type="image/x-icon" />
  
  <style>
  /* auto-hyphenation is super ugly */
  *{
    hyphens: manual !important;
  }

  /* Reduce font size from 17px to something reasonable */
  .doc {
   font-size: 16px !important;
  }
  .doc pre {
   font-size: 14px !important;
  }
  /* Shrink unreasonably large top bar */
  nav.navbar{
    height: 2.5rem;
  }
  body.article{
    padding-top: 2.5rem;
  }
  div.nav-container{
    top: 2.5rem;
  }
  div.toolbar{
    top: 2.5rem;
  }
  aside.nav{
    top: 2.5rem;
    height: calc(100vh - 2.5rem);
  }
  </style></head><body class="article">
  
<header class="header">
  
  <script>
  gtag('config', 'AW-16649289906');

  document.addEventListener('DOMContentLoaded', function() {
  const links = document.querySelectorAll('a');
    links.forEach(link => {
      if (link.textContent.trim().toLowerCase() === 'download') {
        link.addEventListener('click', function(event) {
          console.log("download link clicked")
          gtag('event', 'conversion', {'send_to': 'AW-16649289906/rsphCKfVq8QZELKBgIM-'});
        });
      }
    });
  });
  </script>
  <nav class="navbar">
    <div class="navbar-brand">
      <!-- TODO: add mill icon -->
      <a class="navbar-item" href="https://mill-build.org"><img src="../../../_/logo-white.svg" height="20" /> The Mill Build Tool</a>
      <div class="navbar-item search">
        <input id="search-input" type="text" placeholder="Search the docs" />
      </div>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="https://github.com/com-lihaoyi/mill">GitHub</a>
        <a class="navbar-item" href="https://mill-build.org/blog/index.html">Blog</a>
        <a class="navbar-item" href="https://mill-build.org/api/latest/mill.html">API</a>
        <a class="navbar-item" href="https://github.com/com-lihaoyi/mill/issues">Issues</a>
        <a class="navbar-item" href="https://github.com/com-lihaoyi/mill/discussions">Discuss</a>


            <!--
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Documentation</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#"></a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Plugins</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Service A</a>
            <a class="navbar-item" href="#">Service B</a>
            <a class="navbar-item" href="#">Service C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Resources</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Resource A</a>
            <a class="navbar-item" href="#">Resource B</a>
            <a class="navbar-item" href="#">Resource C</a>
          </div>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div>
        -->
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="mill" data-version="main-branch">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
<ul class="nav-list">

  <li class="nav-item" data-depth="0">
<ul class="nav-list">

  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../javalib/intro.html">Building Java with Mill</a>
<ul class="nav-list">

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../javalib/module-config.html">Java Module Configuration</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../javalib/dependencies.html">Java Library Dependencies</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../javalib/testing.html">Testing Java Projects</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../javalib/linting.html">Linting Java Projects</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../javalib/publishing.html">Java Packaging &amp; Publishing</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../javalib/build-examples.html">Java Build Examples</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../javalib/web-examples.html">Java Web Project Examples</a>
  </li>
</ul>
  </li>

  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../scalalib/intro.html">Building Scala with Mill</a>
<ul class="nav-list">

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../scalalib/module-config.html">Scala Module Configuration</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../scalalib/dependencies.html">Scala Library Dependencies</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../scalalib/testing.html">Testing Scala Projects</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../scalalib/linting.html">Linting Scala Projects</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../scalalib/publishing.html">Scala Packaging &amp; Publishing</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../scalalib/build-examples.html">Scala Build Examples</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../scalalib/web-examples.html">Scala Web Project Examples</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../scalalib/native-examples.html">Scala Native Examples</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../scalalib/spark.html">Spark Examples</a>
  </li>
</ul>
  </li>

  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../kotlinlib/intro.html">Building Kotlin with Mill</a>
<ul class="nav-list">

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../kotlinlib/module-config.html">Kotlin Module Configuration</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../kotlinlib/dependencies.html">Kotlin Library Dependencies</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../kotlinlib/testing.html">Testing Kotlin Projects</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../kotlinlib/linting.html">Linting Kotlin Projects</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../kotlinlib/publishing.html">Kotlin Packaging &amp; Publishing</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../kotlinlib/web-examples.html">Kotlin Web Project Examples</a>
  </li>
</ul>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Experimental Platform Support</span>
<ul class="nav-list">

  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Building Android Apps</span>
<ul class="nav-list">

  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../android/java.html">Android Java Projects</a>
  </li>

  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../android/kotlin.html">Android Kotlin Projects</a>
  </li>

  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../android/android-linting.html">Linting Android Projects</a>
  </li>
</ul>
  </li>

  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../pythonlib/intro.html">Building Python with Mill</a>
<ul class="nav-list">

  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../pythonlib/module-config.html">Python Module Configuration</a>
  </li>

  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../pythonlib/dependencies.html">Python Library Dependencies</a>
  </li>

  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../pythonlib/linting.html">Linting Python Projects</a>
  </li>

  <li class="nav-item is-active" data-depth="3">
    <a class="nav-link" href="../pythonlib/testing.html">Testing Python Projects</a>
  </li>

  <li class="nav-item is-active" data-depth="3">
    <a class="nav-link" href="../pythonlib/publishing.html">Python Packaging &amp; Publishing</a>
  </li>

  <li class="nav-item is-active" data-depth="3">
    <span class="nav-text">xref:pythonlib/web-examples.adoc</span>
  </li>
</ul>
  </li>

  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../javascriptlib/intro.html">Building Javascript with Mill</a>
<ul class="nav-list">

  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../javascriptlib/dependencies.html">Typescript Library Dependencies</a>
  </li>

  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../javascriptlib/module-config.html">Typescript Module Configuration</a>
  </li>

  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../javascriptlib/testing.html">Testing Typescript Projects</a>
  </li>

  <li class="nav-item is-active" data-depth="3">
    <a class="nav-link" href="../javascriptlib/linting.html">Linting Typescript Projects</a>
  </li>

  <li class="nav-item is-active" data-depth="3">
    <a class="nav-link" href="../javascriptlib/publishing.html">Typescript Packaging &amp; Publishing</a>
  </li>

  <li class="nav-item is-active" data-depth="3">
    <a class="nav-link" href="../javascriptlib/build-examples.html">JavaScript Build Examples</a>
  </li>
</ul>
  </li>
</ul>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="why-mill.html">Why Use Mill?</a>
<ul class="nav-list">

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="maven.html">Case Study: Mill vs Maven</a>
  </li>

  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="gradle.html">Case Study: Mill vs Gradle</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="sbt.html">Case Study: Mill vs <code>sbt</code></a>
  </li>
</ul>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">The Mill CLI</span>
<ul class="nav-list">

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cli/installation-ide.html">Installation &amp; IDE Setup</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cli/flags.html">Mill Command-Line Flags</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cli/builtin-commands.html">Built-in Commands</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../cli/query-syntax.html">Task Query Syntax</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../cli/build-header.html">Build Header Config</a>
  </li>
</ul>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../migrating/migrating.html">Migrating to Mill</a>
<ul class="nav-list">

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../migrating/maven.html">Importing Maven Projects</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../migrating/gradle.html">Importing Gradle Projects</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../migrating/sbt.html">Importing <code>sbt</code> Projects</a>
  </li>
</ul>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Mill Fundamentals</span>
<ul class="nav-list">

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../fundamentals/tasks.html">Tasks</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../fundamentals/modules.html">Modules</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../fundamentals/out-dir.html">The Output Directory</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../fundamentals/library-deps.html">Library Dependencies in Mill</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../fundamentals/cross-builds.html">Cross Builds</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../fundamentals/bundled-libraries.html">Bundled Libraries</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../fundamentals/configuring-jvm-versions.html">Configuring JVM Versions</a>
  </li>
</ul>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Extending Mill</span>
<ul class="nav-list">

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../extending/import-mvn-plugins.html">Import Libraries and Plugins</a>
  </li>

  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../extending/contrib-plugins.html">Contrib Plugins</a>
<ul class="nav-list">

  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../contrib/artifactory.html">Artifactory</a>
  </li>

  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../contrib/buildinfo.html">BuildInfo</a>
  </li>

  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../contrib/codeartifact.html">Codeartifact</a>
  </li>

  <li class="nav-item is-active" data-depth="3">
    <a class="nav-link" href="../contrib/docker.html">Docker</a>
  </li>

  <li class="nav-item is-active" data-depth="3">
    <a class="nav-link" href="../contrib/flyway.html">Flyway</a>
  </li>

  <li class="nav-item is-active" data-depth="3">
    <a class="nav-link" href="../contrib/gitlab.html">Gitlab</a>
  </li>

  <li class="nav-item is-active" data-depth="3">
    <a class="nav-link" href="../contrib/jmh.html">JMH</a>
  </li>

  <li class="nav-item is-active" data-depth="3">
    <a class="nav-link" href="../contrib/playlib.html">Play Framework</a>
  </li>

  <li class="nav-item is-active" data-depth="3">
    <a class="nav-link" href="../contrib/proguard.html">Proguard</a>
  </li>

  <li class="nav-item is-active" data-depth="3">
    <a class="nav-link" href="../contrib/scalapblib.html">ScalaPB</a>
  </li>

  <li class="nav-item is-active" data-depth="3">
    <a class="nav-link" href="../contrib/scoverage.html">Scoverage</a>
  </li>

  <li class="nav-item is-active" data-depth="3">
    <a class="nav-link" href="../contrib/sonatypecentral.html">Sonatype Central (Plugin Moved to Scalalib)</a>
  </li>

  <li class="nav-item is-active" data-depth="3">
    <a class="nav-link" href="../contrib/testng.html">TestNG</a>
  </li>

  <li class="nav-item is-active" data-depth="3">
    <a class="nav-link" href="../contrib/twirllib.html">Twirl</a>
  </li>

  <li class="nav-item is-active" data-depth="3">
    <a class="nav-link" href="../contrib/versionfile.html">Version file</a>
  </li>
</ul>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../extending/thirdparty-plugins.html">Third-Party Plugins</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../extending/running-jvm-code.html">Running Dynamic JVM Code</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../extending/writing-plugins.html">Writing Mill Plugins</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../extending/meta-build.html">The Mill Meta-Build</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../extending/example-typescript-support.html">Example: Typescript Support</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../extending/example-python-support.html">Example: Python Support</a>
  </li>
</ul>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../large/large.html">Large Builds and Monorepos</a>
<ul class="nav-list">

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../large/selective-execution.html">Selective Test Execution</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../large/multi-file-builds.html">Multi-File Builds</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../large/multi-language-builds.html">Multi-Language Builds</a>
  </li>
</ul>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Mill In Depth</span>
<ul class="nav-list">

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../depth/evaluation-model.html">The Mill Evaluation Model</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../depth/caching.html">Caching in Mill</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../depth/parallelism.html">Parallelism in Mill</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../depth/process-architecture.html">The Mill Process Architecture</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../depth/sandboxing.html">Mill Sandboxing</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../depth/design-principles.html">Mill Design Principles</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="../depth/why-scala.html">Why does Mill use Scala?</a>
  </li>
</ul>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Reference</span>
<ul class="nav-list">

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://mill-build.org/api/latest/mill.html">Mill API Reference</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://github.com/com-lihaoyi/mill/blob/main/changelog.adoc">Changelog</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../reference/talks-blog-posts.html">Talks &amp; Blog Posts</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Mill Documentation</span>
    <span class="version">main-branch</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <div class="title"><a href="../../index.html">Mill Documentation</a></div>
      <ul class="versions">
        <li class="version is-current">
          <a href="../index.html">main-branch</a>
        </li>
        <li class="version">
          <a href="../../dev-1.0.0-RC3-58-254214/index.html">dev-1.0.0-RC3-58-254214</a>
        </li>
        <li class="version is-latest">
          <a href="../../index.html">0.12.14</a>
        </li>
        <li class="version">
          <a href="../../0.11.x/index.html">0.11.13</a>
        </li>
        <li class="version">
          <a href="../../0.10.15/index.html">0.10.15</a>
        </li>
        <li class="version">
          <a href="../../0.9.12/index.html">0.9.12</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../blog/index.html">The Mill Build Engineering Blog</a></div>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">

<div class="toolbar" role="navigation" style="position: fixed; top: 2.5rem; height: 2rem; left: 0px;">
<button class="nav-toggle"></button>
</div>
<div class="toolbar" style="position: fixed; top: 2.5rem; height: 1.5rem; right: 0px;">
<div class="edit-this-page"><a href="https://github.com/com-lihaoyi/mill/edit/main/docs/modules/ROOT/pages/comparisons/gradle.adoc">Edit this Page</a></div>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Case Study: Mill vs Gradle</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>This page goes into the weeds comparing the Mill and Gradle build tools.
For a higher-level comparison of Mill vs other tools, and why Mill is interesting,
see the page <a href="why-mill.html" class="xref page">Why Use Mill?</a>.</p>
</div>
<div class="paragraph">
<p>Compared to Gradle, Mill tries to improve in the following ways:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Performance</strong>: Mill compiles the same project 3-4x faster than Gradle. Mill is generally
much more aggressive at caching and parallelizing things than Gradle is, and tries hard to
minimize the overhead the build tool adds on top of the build logic being executed</p>
</li>
<li>
<p><strong>Extensibility</strong>: Mill makes customizing the build tool much easier than Gradle. When defining
custom tasks, you do not need to worry about registering task dependencies, registering tasks,
assigning output folders on disk, and so on. You just write your build step as a normal method
<code>def</code> that calls other methods, and all that boilerplate work is done automatically for you.</p>
</li>
<li>
<p><strong>IDE Support</strong>: Mill has better IDE support in tools like IntelliJ or VsCode than Gradle does.
Whether using the Groovy syntax or the Kotlin syntax, <em>jump-to-definition</em> in Gradle would frequently
bring you to stub getter-setter methods or de-compiled classfiles (or both at the same time!). With
Mill, IntelliJ is able to navigate around the build logic just as easil as any application codebase,
making it easier to navigate, understand, and maintain your build configuration.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This page compares using Mill to Gradle using the <a href="https://github.com/mockito/mockito">Mockito Testing Library</a>
codebase as the example. Mockito is a medium sized codebase, 100,000 lines of Java split over 22
subprojects. By porting it to Mill, this case study should give you
an idea of how Mill compares to Gradle in more realistic, real-world projects.</p>
</div>
<div class="paragraph">
<p>To do this, we have written a Mill <code>build.mill</code> file for the Mockito project. This can be used
with Mill to build and test the various submodules of the Mockito project without needing to
change any other files in the repository:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/com-lihaoyi/mill/blob/main/example/thirdparty/mockito/build.mill">Mockito build.mill file</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_completeness"><a class="anchor" href="#_completeness"></a>Completeness</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Mill build for Mockito is not 100% complete, but it covers most of the major parts of Mockito:
compiling Java, running JUnit tests. For now, the Android, Kotlin, and OSGI tests are skipped,
as support for <a href="../android/java.html" class="xref page">Building Android apps in Mill</a>
and <a href="../kotlinlib/intro.html" class="xref page">Kotlin with Mill</a> is still experimental.</p>
</div>
<div class="paragraph">
<p>The goal of this exercise is not to be 100% feature complete enough to replace the Gradle build
today. It is instead meant to provide a realistic comparison of how using Mill in a realistic,
real-world project compares to using Gradle.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_performance"><a class="anchor" href="#_performance"></a>Performance</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Mill build for Mockito is generally snappier than the Gradle build. This applies to
most workflows, but the difference matters most for workflows which are short-lived,
where the difference in the fixed overhead of the build tool is most noticeable.</p>
</div>
<div class="paragraph">
<p>For comparison purposes, I disabled the Gradle subprojects that we did not fully implement in Mill
(<code>groovyTest</code>, <code>groovyInlineTest</code>, <code>kotlinTest</code>, <code>kotlinReleaseCoroutinesTest</code>, <code>android</code>,
<code>osgi-test</code>, <code>java21-test</code>), and added the necessary flags to ensure caching/parallelism/etc. is
configured similarly for both tools. This ensures the comparison is fair with both builds compiling the
same code and running the same tests in the same way.</p>
</div>
<div class="paragraph">
<p>For the benchmarks below, each provided number is the median wall time of three consecutive runs
on my M1 Macbook Pro with Java 17 and Mill <code>0.12.9-native</code>. While ad-hoc, these benchmarks are
enough to give you a flavor of how Mill’s performance compares to Gradle:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;" />
<col style="width: 25%;" />
<col style="width: 25%;" />
<col style="width: 25%;" />
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Benchmark</th>
<th class="tableblock halign-left valign-top">Gradle</th>
<th class="tableblock halign-left valign-top">Mill</th>
<th class="tableblock halign-left valign-top">Speedup</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#_sequential_clean_compile_all">Sequential Clean Compile All</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">17.6s</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.86s</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.0x</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#_parallel_clean_compile_all">Parallel Clean Compile All</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.3s</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.75s</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.3x</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#_clean_compile_single_module">Clean Compile Single-Module</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.41s</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.30s</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.4x</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#_incremental_compile_single_module">Incremental Compile Single-Module</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.37s</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.20s</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.9x</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#_no_op_compile_single_module">No-Op Compile Single-Module</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.94s</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.11s</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.5x</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The column on the right shows the speedups of how much faster Mill is compared to the
equivalent Gradle workflow. In most cases,  Mill is 2-4x faster than Gradle. Below, we
will go into more detail of each benchmark: how they were run, what they mean, and how
we can explain the difference in performing the same task with the two different build tools.</p>
</div>
<div class="sect2">
<h3 id="_sequential_clean_compile_all"><a class="anchor" href="#_sequential_clean_compile_all"></a>Sequential Clean Compile All</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-console hljs" data-lang="console">$ ./gradlew clean; time ./gradlew classes testClasses --no-build-cache
17.6s
18.2s
17.4s

$ ./mill clean; time ./mill -j 1 __.compile
6.19s
5.86s
5.28s</code></pre>
</div>
</div>
<div class="paragraph">
<p>This benchmark measures the time taken to sequentially compiled all the Java code in
the Mockito code base. The goal of this benchmark is to try and measure the &quot;clean compile
everything&quot; step, without the effects of parallelism that can be nondeterministic and vary
wildly from machine to machine depending on the number of cores available.</p>
</div>
<div class="paragraph">
<p>To limit our comparison to compiling Java code only, we avoid
using <code>build</code> in favor of <code>classes</code> and <code>testClasses</code>: this skips running tests,
lint, jar/docjar generation, and other steps that <code>build</code> performs to make it an apples-to-apples
comparison. Furthermore, Gradle parallelizes the build by default and caches things globally
under <code>~/.gradle/caches</code>, while Mill parallelizes by default but does not cache things globally.
Again to make it a fair comparison, we use <code>--no-build-cache</code> in Gradle and set
<code>org.gradle.parallel=false</code> in <code>gradle.properties</code>, and pass <code>-j 1</code> to limit Mill to a
single thread.</p>
</div>
<div class="paragraph">
<p>Here we see Mill being about ~3.3x faster than Gradle, to do the equivalent amount of work.
As a point of reference, Java typically compiles at 10,000-50,000 lines per second on a
single thread, and the Mockito codebase is ~100,000 lines of code, so we would expect compile
to take 2-10 seconds without parallelism.
The 5-6s taken by Mill seems about what you would expect for a codebase of this size,
and the ~17s taken by Gradle is much more than what you would expect from simple Java compilation.</p>
</div>
<div class="paragraph">
<p>It’s actually not clear to me where the difference in execution time is coming from. Unlike
the <a href="maven.html" class="xref page">Mill v.s. Maven comparison</a>, Gradle’s command line output
doesn’t show any obvious network requests or jar packing/unpacking/comparing going on. But
Gradle’s CLI output is also much less verbose than Maven’s, so it’s possible things are going
on under the hood that I’m not aware of.</p>
</div>
</div>
<div class="sect2">
<h3 id="_parallel_clean_compile_all"><a class="anchor" href="#_parallel_clean_compile_all"></a>Parallel Clean Compile All</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-console hljs" data-lang="console">$ ./gradlew clean; time ./gradlew classes testClasses --no-build-cache
13.8s
12.3s
11.4s

$ ./mill clean; time ./mill __.compile
3.75s
3.74s
3.86s</code></pre>
</div>
</div>
<div class="paragraph">
<p>This benchmark is identical to the <a href="#_sequential_clean_compile_all">Sequential Clean Compile All</a> benchmark above, but enables
parallelism: Gradle by default, Mill without <code>-j 1</code> to run on 10 cores (the number on my Macbook Pro).</p>
</div>
<div class="paragraph">
<p>Neither Gradle nor Mill benefit hugely from parallelism: both show a moderate ~50% speedup,
despite receiving 900% more CPUs. This likely indicates that the module dependency graph
of the Mockito codebase is laid out in a way that does not allow huge amounts of compile-time
parallelism.</p>
</div>
<div class="paragraph">
<p>Again, we see Mill being about ~3.4x faster than Gradle, to do the equivalent amount of work.
This indicates the the speedup Mill provides over Gradle is unrelated to the parallelism of
each tool.</p>
</div>
</div>
<div class="sect2">
<h3 id="_clean_compile_single_module"><a class="anchor" href="#_clean_compile_single_module"></a>Clean Compile Single-Module</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-console hljs" data-lang="console">$ ./gradlew clean; time ./gradlew :classes --no-build-cache
4.14s
4.41s
4.41s

$ ./mill clean; time ./mill compile
1.30s
1.90s
1.13s</code></pre>
</div>
</div>
<div class="paragraph">
<p>This benchmark indicates the use case of clean-compiling a single module. In this case,
the root module in <code>src/main/java/</code> containing the bulk of the Mockito library code,
<em>excluding</em> the test code in <code>src/test/java/</code> and all the downstream subprojects in
<code>subprojects/</code>.</p>
</div>
<div class="paragraph">
<p>This benchmark gives us Mill being about ~3.7x faster than Gradle. This is in line with
the results above.</p>
</div>
</div>
<div class="sect2">
<h3 id="_incremental_compile_single_module"><a class="anchor" href="#_incremental_compile_single_module"></a>Incremental Compile Single-Module</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-console hljs" data-lang="console">$ echo &quot;&quot; &gt;&gt; src/main/java/org/mockito/BDDMockito.java; time ./gradlew :classes
1.37s
1.39s
1.28s

$ echo &quot;&quot; &gt;&gt; src/main/java/org/mockito/BDDMockito.java; time ./mill compile
compiling 1 Java source to /Users/lihaoyi/Github/netty/out/common/compile.dest/classes ...
0.23s
0.20s
0.20s</code></pre>
</div>
</div>
<div class="paragraph">
<p>This benchmark measures the common case of making a tiny change to a single file and
re-compiling just that module. This is the common workflow that most software developers
do over and over day-in and day-out. We simulate this by appending a new line to the
file <code>src/main/java/org/mockito/BDDMockito.java</code>.</p>
</div>
<div class="paragraph">
<p>Both Mill and Gradle are able to take advantage of the small code change and re-compile
only the single files needing re-compilation, demonstrating substantial speedups over
the <a href="#_clean_compile_single_module">Clean Compile Single-Module</a> benchmark above. Mill remains faster than Gradle,
showing a ~2.7x speedup for this task</p>
</div>
</div>
<div class="sect2">
<h3 id="_no_op_compile_single_module"><a class="anchor" href="#_no_op_compile_single_module"></a>No-Op Compile Single-Module</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-console hljs" data-lang="console">$ time ./gradlew :classes
0.95s
0.93s
0.94s

$ time ./mill compile
0.13s
0.11s
0.10s</code></pre>
</div>
</div>
<div class="paragraph">
<p>This benchmark is meant to measure the pure overhead of running the build tool: given a single
module that did <em>not</em> change, the build tool should need to do <em>nothing</em> in response, and so
any time taken is pure overhead.</p>
</div>
<div class="paragraph">
<p>For both Mill and Gradle, we see small speedups relative to the <a href="#_incremental_compile_single_module">Incremental Compile Single-Module</a>
benchmark above, which likely comes from not having to compile any Java source files at all. Mill
remains faster than Gradle by about 2.0x.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_extensibility"><a class="anchor" href="#_extensibility"></a>Extensibility</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Another facet of Mill is that is worth exploring is the ease of making custom tasks or build steps.
For example, in Mill, overriding the resources to duplicate a file can be done as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-scala hljs" data-lang="scala">def resources = Task {
  os.copy(
    compile().classes.path / &quot;org/mockito/internal/creation/bytebuddy/inject/MockMethodDispatcher.class&quot;,
    Task.dest / &quot;org/mockito/internal/creation/bytebuddy/inject/MockMethodDispatcher.raw&quot;,
    createFolders = true
  )
  super.resources() ++ Seq(PathRef(Task.dest))
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In Gradle, it is written as:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">tasks.register('copyMockMethodDispatcher', Copy) {
    dependsOn compileJava

    from &quot;${sourceSets.main.java.classesDirectory.get()}/org/mockito/internal/creation/bytebuddy/inject/MockMethodDispatcher.class&quot;
    into layout.buildDirectory.dir(&quot;generated/resources/inline/org/mockito/internal/creation/bytebuddy/inject&quot;)

    rename '(.+)\\.class', '$1.raw'
}

classes.dependsOn(&quot;copyMockMethodDispatcher&quot;)

sourceSets.main {
    resources {
        output.dir(layout.buildDirectory.dir(&quot;generated/resources/inline&quot;))
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>At a first glance, both of these snippets do the same thing, just with different syntaxes
and helper method names. However, on a deeper look, a few things are worth noting:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In Mill, you do not need to manually add <code>dependsOn</code> clauses, unlike Gradle:</p>
<div class="ulist">
<ul>
<li>
<p>In Mill, referencing the value of <code>compile()</code>, we both explicitly get access to the value of <code>compile</code>
and also add a dependency on it. In Gradle, you need to separately add <code>dependsOn compile</code>
to mark the dependency, and <code>rename '(.+)\\.class', '$1.raw'</code> to make use of it implicitly.</p>
</li>
<li>
<p>In Mill, overriding <code>def resources</code> is enough to make all tasks that previously depended on <code>resources</code>
now depend on the override (e.g. <code>run</code>, <code>test</code>, <code>jar</code>, <code>assembly</code>, etc.) as is the norm for object-oriented
<code>override</code>s. In Gradle, you need to explicitly call <code>classes.dependsOn(&quot;copyMockMethodDispatcher&quot;)</code> to
make the downstream <code>classes</code> task depend on <code>copyMockMethodDispatcher</code>, and
<code>sourcesSets.main resources output.dir</code> to wire up the generated files to the resources of the module</p>
</li>
</ul>
</div>
</li>
<li>
<p>In Mill, the <code>resources</code> task is given a unique <code>Task.dest</code> folder that is unique to it.
In contrast, Gradle’s <code>copyMockMethodDispatcher</code> puts things in a global <code>generated/</code> folder</p>
<div class="ulist">
<ul>
<li>
<p>This means that in Mill, you do not need to worry about filesystem collisions, since every
task’s <code>Task.dest</code> is unique. In contrast, in Gradle you need to make sure that no other
task in the entire build is scribbling over <code>generated/</code>, otherwise they could interfere
with one another in confusing ways</p>
</li>
<li>
<p>This also means that in Mill, you always know where the output of a particular task
is - <code>foo.bar.resources</code> writes to <code>out/foo/bar/resources.dest/</code> - so you can always easily
find the output of a particular task. In Gradle, you have to dig through the source code to
find where the task is implemented and see where it is writing to.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Mill passes typed structured <code>Path</code>s and <code>PathRef</code>s between each other, while Gradle often
uses raw path strings</p>
<div class="ulist">
<ul>
<li>
<p>In Mill, <code>def resources</code> returns a <code>PathRef(Task.dest)</code> for downstream tasks to use,
so downstream tasks can use it directly (similar to how it makes use of
<code>compile().classes.path</code> directly). This means different tasks can refer to each other
in a foolproof way without room for error</p>
</li>
<li>
<p>In Gradle, <code>sourcesSets.map resources output.dir</code> needs to refer to the path generated by
<code>copyMockMethodDispatcher</code> via it’s string <code>&quot;generated/resources/inline&quot;</code>. That adds a lot of
room for error, since the strings can easily get out of sync accidentally.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>In general, although the two snippets aren’t that different superficially, Mill makes it
easy to do the right thing by default:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Upstream task dependencies are recorded automatically when used</p>
</li>
<li>
<p>Overridden definitions and automatically used by downstream tasks</p>
</li>
<li>
<p>Every task is automatically assigned a place on disk so you don’t need
to worry about collisions and can easily find outputs</p>
</li>
<li>
<p>Tasks interact with each other via typed structured values - <code>Path</code>s, <code>PathRef</code>s,
etc. - rather than magic strings</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Although in Gradle it is possible for an expert to customize their build in a
way that mitigates these issues, Mill does it automatically and in a way that
is foolproof even for non-experts. This helps democratize the build so that
any engineer can contribute fixes or improvements without needing to be a
build-system expert and learn all the best practices first.</p>
</div>
<div class="paragraph">
<p>Lastly, as mentioned earlier, the Gradle script has limited IDE support: it can
autocomplete things for you, but once you try to jump-to-definition or otherwise
navigate your build you hit a wall: it tells you some minimal documentation about
the identifier, but nothing about how it is implemented or where it is used:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../_images/comparisons/IntellijGradleResourcesClasses.png" alt="IntellijGradleResourcesClasses" />
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../_images/comparisons/IntellijGradleResourcesClassesDefinition.png" alt="IntellijGradleResourcesClassesDefinition" />
</div>
</div>
<div class="paragraph">
<p>In contrast, IntelliJ is able to navigate straight to the definition of <code>compile()</code> in the
Mill build (as we saw earlier in <a href="#_ide_experience">IDE Experience</a>), and from there can continue to
traverse the build via <em>jump to definition</em> (which we saw earlier) or <em>find usages</em>,
as we saw earlier:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../_images/comparisons/IntellijMockitoMillCompile.png" alt="IntellijMockitoMillCompile" />
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../_images/comparisons/IntellijMockitoMillCompileClasspath.png" alt="IntellijMockitoMillCompileClasspath" />
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../_images/comparisons/IntellijMockitoMillCompileUsages.png" alt="IntellijMockitoMillCompileUsages" />
</div>
</div>
<div class="paragraph">
<p>Mill build scripts are written in Scala, but you do not need to be an expert in Scala
to use Mill, just like you do not need to be an expert in Groovy to use Gradle. Because
Mill has great IDE support, and does the right things by default, I hope it would be
much easier for a non-expert to contribute to a Mill build than it would be for a
non-expert to contribute to Gradle</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ide_experience"><a class="anchor" href="#_ide_experience"></a>IDE Experience</h2>
<div class="sectionbody">
<div class="paragraph">
<p>One area that Mill does better than Gradle is providing a seamless IDE experience. For example,
consider the snippet below where we are using Gradle to configure the javac compiler options.
Due to <code>.gradle</code> files being untyped Groovy, the autocomplete and code-assist experience working
with these files is hit-or-miss. In the example below, we can see that IntelliJ is able to identify
that <code>compileArgs</code> exists and has the type <code>List&lt;String&gt;</code>:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../_images/comparisons/IntellijMockitoGradleCompileOptions.png" alt="IntellijMockitoGradleCompileOptions" />
</div>
</div>
<div class="paragraph">
<p>But if you try to jump to definition or find out anything else about it you hit a wall:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../_images/comparisons/IntellijMockitoGradleCompileOptions2.png" alt="IntellijMockitoGradleCompileOptions2" />
</div>
</div>
<div class="paragraph">
<p>Often working with build configurations feels like hitting dead ends: if you don’t have
<code>options.compilerArgs</code> memorized in your head, there is literally nothing you can do in your editor to
make progress to figure out what it is or what it is used for. That leaves you googling
for answers, which can be a frustrating experience that distracts you from the task at hand.</p>
</div>
<div class="paragraph">
<p>The fundamental problem with tools like Gradle is that the code you write does not
actually perform the build: rather, you are just setting up some data structure that
is used to configure the <em>real</em> build engine that runs later. Thus when you explore
the Gradle build in an IDE, the IDE can only explore the configuration logic (which
is usually un-interesting) and is unable to explore the actual build logic (which
is what you actually care about!)</p>
</div>
<div class="paragraph">
<p>In comparison, Mill’s <code>.mill</code> files are all statically typed, and as a result IntelliJ is easily able to
pull up the documentation for <code>def javacOptions</code>, even though it doesn’t have any special support
for Mill built into the IDE:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../_images/comparisons/IntellijMockitoMillJavacOptionsDocs.png" alt="IntellijMockitoMillJavacOptionsDocs" />
</div>
</div>
<div class="paragraph">
<p>Apart from static typing, the way Mill builds are structured also helps the IDE: Mill
code <em>actually performs your build</em>, rather than configuring some opaque build engine.
While that sounds academic, one concrete consequence is that IntelliJ is able to take
your <code>def javacOptions</code> override and
find the original definitions that were overridden, and show you where they are defined:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../_images/comparisons/IntellijMockitoMillJavacOptionsParents.png" alt="IntellijMockitoMillJavacOptionsParents" />
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../_images/comparisons/IntellijMockitoMillJavacOptionsDef.png" alt="IntellijMockitoMillJavacOptionsDef" />
</div>
</div>
<div class="paragraph">
<p>Furthermore, because task dependencies in Mill are just normal method calls, IntelliJ is
able to <em>find usages</em>, showing you where the task is used. Below, we can see the method
call in the <code>def compile</code> task, which uses <code>javacOptions()</code> along with a number of other tasks:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../_images/comparisons/IntellijMockitoMillCompile.png" alt="IntellijMockitoMillCompile" />
</div>
</div>
<div class="paragraph">
<p>From there, if you are curious about any of the other tasks used alongside <code>javacOptions</code>, it’s
easy for you to pull up <em>their</em> documentation, jump to <em>their</em>
definition, or find <em>their</em> usages. For example we can pull up the docs of
<code>compileClasspath()</code> below:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../_images/comparisons/IntellijMockitoMillCompileClasspath.png" alt="IntellijMockitoMillCompileClasspath" />
</div>
</div>
<div class="paragraph">
<p>Or we can use <em>find usages</em> on <code>def compile</code> to see where it is used, both in this build
and upstream in the Mill libraries:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../_images/comparisons/IntellijMockitoMillCompileUsages.png" alt="IntellijMockitoMillCompileUsages" />
</div>
</div>
<div class="paragraph">
<p>Unlike most other build tools, Mill builds are extremely easy to explore interactively in your
IDE. If you do not know what something does, it’s documentation, definition, or usages is always
one click away in IntelliJ or VSCode. That’s not to say Mill builds aren’t complex - as
we saw above, compilation has to deal with upstream outputs, classpaths, flags, reporters, and so on -
but at least in Mill your IDE can help you explore, understand and manage the complexity in a way
that no other build tool supports.</p>
</div>
<div class="paragraph">
<p>Note that the IDE experience that Mill provides should already be very familiar to anyone writing
Java, Kotlin, or Scala:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>of course</em>, you can find the overridden definitions!</p>
</li>
<li>
<p><em>of course</em>, you can pull up the documentation in a click!</p>
</li>
<li>
<p><em>of course</em>, you can navigate around the codebase with your IDE, up and down
the call graph, to see who calls who!</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>What Mill provides isn’t rocket science, but rather it is just about taking your existing experience
and existing IDE tooling working with application codebases, and lets you use it to manage your build
system as well.</p>
</div>
<div class="paragraph">
<p>Mill IDE support isn’t perfect - you may have noticed the spurious red squigglies above - but it’s
much better than what you get with Gradle.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_conclusion"><a class="anchor" href="#_conclusion"></a>Conclusion</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Both the Mill and Gradle builds we discussed in this case study do the same thing: they
compile Java code and run tests. Sometimes they perform additional configuration, tweaking
JVM arguments or doing ad-hoc classpath mangling.</p>
</div>
<div class="paragraph">
<p>In general, building projects with Mill is significantly faster than Gradle, but the gap
is not as big as when comparing <a href="maven.html" class="xref page">Mill v.s. Maven</a>. Mill builds
do all the same things as gradle builds, and need to manage the same kind of complexity.
But where Mill shines over Gradle is just the understandability of the build: while Gradle is
<a href="https://news.ycombinator.com/item?id=25801986">famously confusing and opaque</a>, Mill’s great
IDE support allows the user to explore and understand their build as easily as any
application codebase, and its fool-proof approach to extensibility means non-experts can
confidently modify or add to their build system without worrying about getting it wrong.</p>
</div>
<div class="paragraph">
<p>Again, the Mill build used in this comparison is for demonstration purposes, and more
work would be necessary to make the Mill build production ready: publishing configuration,
code coverage integration, and so on. Furthermore, Mill is definitely not perfect,
and it is a work in progress to improve the user experience and iron out bugs. However,
hopefully this comparison demonstrates the potential value, and convinces you to give it a try!</p>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="maven.html">Case Study: Mill vs Maven</a></span>
  <span class="next"><a href="sbt.html">Case Study: Mill vs <code>sbt</code></a></span>
</nav>
</article>
  </div>
</main>
</div>
<script id="site-script" src="../../../_/js/site.js" data-ui-root-path="../../../_"></script>
<script async="async" src="../../../_/js/vendor/highlight.js"></script>
<script src="../../../_/js/vendor/lunr.js"></script>
<script src="../../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../../.." data-snippet-length="100" data-stylesheet="../../../_/css/search.css"></script>
<script async="async" src="../../../search-index.js"></script>
  
</body></html>