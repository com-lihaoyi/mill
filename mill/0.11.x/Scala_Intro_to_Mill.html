<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Introduction to Mill for Scala :: The Mill Build Tool</title>
    <link rel="canonical" href="https://mill-build.org/mill/scalalib/intro.html">
    <link rel="prev" href="Java_Case_Study_Netty.html">
    <link rel="next" href="Scala_Installation_IDE_Support.html">
    <meta name="generator" content="Antora 3.1.12">
    <link rel="stylesheet" href="../../_/css/site.css">
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-1C582ZJR85"></script>
    <script>function gtag(){dataLayer.push(arguments)};window.dataLayer=window.dataLayer||[];gtag('js',new Date());gtag('config','G-1C582ZJR85')</script>
<link rel="icon" href="../../_/favicon.png" type="image/x-icon">
  </head>
  <body class="article">
<header class="header">
  <style>
  /* auto-hyphenation is super ugly */
  *{
    hyphens: manual !important;
  }

  /* Reduce font size from 17px to something reasonable */
  .doc {
   font-size: 16px !important;
  }
  .doc pre {
   font-size: 14px !important;
  }
  /* Shrink unreasonably large top bar */
  nav.navbar{
    height: 2.5rem;
  }
  body.article{
    padding-top: 2.5rem;
  }
  div.nav-container{
    top: 2.5rem;
  }
  div.toolbar{
    top: 2.5rem;
  }
  aside.nav{
    top: 2.5rem;
    height: calc(100vh - 2.5rem);
  }
  </style>
  <script>
  gtag('config', 'AW-16649289906');

  document.addEventListener('DOMContentLoaded', function() {
  const links = document.querySelectorAll('a');
    links.forEach(link => {
      if (link.textContent.trim().toLowerCase() === 'download') {
        link.addEventListener('click', function(event) {
          console.log("download link clicked")
          gtag('event', 'conversion', {'send_to': 'AW-16649289906/rsphCKfVq8QZELKBgIM-'});
        });
      }
    });
  });
  </script>
  <nav class="navbar">
    <div class="navbar-brand">
      <!-- TODO: add mill icon -->
      <a class="navbar-item" href="https://mill-build.org"><img src="../../_/logo-white.svg" height="20" />&nbsp;The Mill Build Tool</a>
      <div class="navbar-item search">
        <input id="search-input" type="text" placeholder="Search the docs">
      </div>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="https://github.com/com-lihaoyi/mill">GitHub</a>
        <a class="navbar-item" href="https://mill-build.org/blog/index.html">Blog</a>
        <a class="navbar-item" href="https://mill-build.org/api/latest/mill.html">API</a>
        <a class="navbar-item" href="https://github.com/com-lihaoyi/mill/issues">Issues</a>
        <a class="navbar-item" href="https://github.com/com-lihaoyi/mill/discussions">Discuss</a>


            <!--
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Documentation</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#"></a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Plugins</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Service A</a>
            <a class="navbar-item" href="#">Service B</a>
            <a class="navbar-item" href="#">Service C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Resources</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Resource A</a>
            <a class="navbar-item" href="#">Resource B</a>
            <a class="navbar-item" href="#">Resource C</a>
          </div>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div>
        -->
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="mill" data-version="0.11.x">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
<ul class="nav-list">

  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Java Quick Start</span>
<ul class="nav-list">

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Java_Intro_to_Mill.html">Introduction to Mill for Java</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Java_Installation_IDE_Support.html">Installation and IDE Support</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Java_Builtin_Commands.html">Built-in Commands</a>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <a class="nav-link" href="Java_Build_Examples.html">Java Build Examples</a>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <a class="nav-link" href="Java_Module_Config.html">Java Module Configuration</a>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <a class="nav-link" href="Java_Web_Build_Examples.html">Java Web Build Examples</a>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <a class="nav-link" href="Java_Case_Study_Netty.html">Java Case Study: Netty</a>
  </li>
</ul>
  </li>

  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Scala Quick Start</span>
<ul class="nav-list">

  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="Scala_Intro_to_Mill.html">Introduction to Mill for Scala</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Scala_Installation_IDE_Support.html">Installation and IDE Support</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Scala_Builtin_Commands.html">Built-in Commands</a>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <a class="nav-link" href="Scala_Build_Examples.html">Scala Build Examples</a>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <a class="nav-link" href="Scala_Module_Config.html">Scala Module Configuration</a>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <a class="nav-link" href="Scala_Web_Build_Examples.html">Scala Web Build Examples</a>
  </li>
</ul>
  </li>

  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Mill In Depth</span>
<ul class="nav-list">

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Library_Dependencies.html">Library Dependencies in Mill</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Out_Dir.html">The Output Directory</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Tasks.html">Tasks</a>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <a class="nav-link" href="Modules.html">Modules</a>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <a class="nav-link" href="Cross_Builds.html">Cross Builds</a>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <a class="nav-link" href="Target_Query_Syntax.html">Target Query Syntax</a>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <a class="nav-link" href="Extending_Mill.html">Extending Mill</a>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <a class="nav-link" href="The_Mill_Evaluation_Model.html">The Mill Evaluation Model</a>
  </li>
</ul>
  </li>

  <li class="nav-item is-active" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Mill Plugins</span>
<ul class="nav-list">

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Using_Plugins.html">Using Plugins</a>
  </li>

  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="Contrib_Plugins.html">Contrib Plugins</a>
<ul class="nav-list">

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="contrib/artifactory.html">Artifactory</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="contrib/bintray.html">Bintray</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="contrib/bloop.html">Bloop</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="contrib/buildinfo.html">BuildInfo</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="Plugin_BSP.html">BSP - Build Server Protocol</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="contrib/codeartifact.html">Codeartifact</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="contrib/docker.html">Docker</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="contrib/flyway.html">Flyway</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="contrib/gitlab.html">Gitlab</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="contrib/jmh.html">JMH</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="contrib/playlib.html">Play Framework</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="contrib/proguard.html">Proguard</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="contrib/scalapblib.html">ScalaPB</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="contrib/scoverage.html">Scoverage</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="contrib/testng.html">TestNG</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="contrib/twirllib.html">Twirl</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="contrib/versionfile.html">Version file</a>
  </li>
</ul>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Thirdparty_Plugins.html">Third-Party Plugins</a>
  </li>
</ul>
  </li>

  <li class="nav-item is-active" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Reference</span>
<ul class="nav-list">

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Mill_Design_Principles.html">Mill Design Principles</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="External_References.html">External References</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="https://mill-build.org/api/latest/mill/index.html">Mill Scaladoc</a>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <a class="nav-link" href="Changelog.html">Changelog</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Mill Documentation</span>
    <span class="version">0.11.13</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <div class="title"><a href="../index.html">Mill Documentation</a></div>
      <ul class="versions">
        <li class="version">
          <a href="../main-branch/index.html">main-branch</a>
        </li>
        <li class="version is-latest">
          <a href="../index.html">1.0.4</a>
        </li>
        <li class="version">
          <a href="../0.12.x/index.html">0.12.14</a>
        </li>
        <li class="version is-current">
          <a href="index.html">0.11.13</a>
        </li>
        <li class="version">
          <a href="../0.10.15/index.html">0.10.15</a>
        </li>
        <li class="version">
          <a href="../0.9.12/index.html">0.9.12</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../blog/index.html">The Mill Build Engineering Blog</a></div>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">

<div class="toolbar" role="navigation" style="position: fixed; top: 2.5rem; height: 2rem; left: 0px;">
<button class="nav-toggle"></button>
</div>
<div class="toolbar" style="position: fixed; top: 2.5rem; height: 1.5rem; right: 0px; ">
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Introduction to Mill for Scala</h1>
<div id="preamble">
<div class="sectionbody">
<script>
gtag('config', 'AW-16649289906');
</script>
<div class="paragraph">
<center>
<svg width="755px" height="205px"
 viewBox="0.00 0.00 755.33 205.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1.0 1.0) rotate(0.0) translate(4.0 201.0)">
<title>G</title>
<g id="clust2" class="cluster">
<title>cluster_1</title>
<polygon fill="transparent" stroke="black" stroke-dasharray="5,2" points="246.52,-8 246.52,-116 739.33,-116 739.33,-8 246.52,-8"/>
<text text-anchor="middle" x="492.92" y="-99.4" font-family="Times,serif" font-size="14.00">bar</text>
</g>
<g id="clust1" class="cluster">
<title>cluster_0</title>
<polygon fill="transparent" stroke="black" stroke-dasharray="5,2" points="8,-124 8,-189 482.15,-189 482.15,-124 8,-124"/>
<text text-anchor="middle" x="245.07" y="-172.4" font-family="Times,serif" font-size="14.00">foo</text>
</g>
<!-- foo.sources -->
<g id="node1" class="node">
<title>foo.sources</title>
<polygon fill="white" stroke="black" points="96.21,-156.3 15.93,-156.3 15.93,-131.7 96.21,-131.7 96.21,-156.3"/>
<text text-anchor="middle" x="56.07" y="-139.8" font-family="Times,serif" font-size="14.00">foo.sources</text>
</g>
<!-- foo.compile -->
<g id="node2" class="node">
<title>foo.compile</title>
<polygon fill="white" stroke="black" points="215.53,-156.3 132.01,-156.3 132.01,-131.7 215.53,-131.7 215.53,-156.3"/>
<text text-anchor="middle" x="173.77" y="-139.8" font-family="Times,serif" font-size="14.00">foo.compile</text>
</g>
<!-- foo.sources&#45;&gt;foo.compile -->
<g id="edge1" class="edge">
<title>foo.sources&#45;&gt;foo.compile</title>
<path fill="none" stroke="black" d="M96.24,-144C104.53,-144 113.4,-144 122.05,-144"/>
<polygon fill="black" stroke="black" points="122.06,-147.5 132.06,-144 122.06,-140.5 122.06,-147.5"/>
</g>
<!-- foo.classPath -->
<g id="node3" class="node">
<title>foo.classPath</title>
<polygon fill="white" stroke="black" points="344.9,-83.3 254.39,-83.3 254.39,-58.7 344.9,-58.7 344.9,-83.3"/>
<text text-anchor="middle" x="299.64" y="-66.8" font-family="Times,serif" font-size="14.00">foo.classPath</text>
</g>
<!-- foo.compile&#45;&gt;foo.classPath -->
<g id="edge2" class="edge">
<title>foo.compile&#45;&gt;foo.classPath</title>
<path fill="none" stroke="black" d="M195.78,-131.62C215.8,-119.82 246.15,-101.94 268.7,-88.65"/>
<polygon fill="black" stroke="black" points="270.69,-91.54 277.53,-83.44 267.14,-85.51 270.69,-91.54"/>
</g>
<!-- foo.assembly -->
<g id="node4" class="node">
<title>foo.assembly</title>
<polygon fill="white" stroke="black" points="474.28,-156.3 383.76,-156.3 383.76,-131.7 474.28,-131.7 474.28,-156.3"/>
<text text-anchor="middle" x="429.02" y="-139.8" font-family="Times,serif" font-size="14.00">foo.assembly</text>
</g>
<!-- foo.classPath&#45;&gt;foo.assembly -->
<g id="edge3" class="edge">
<title>foo.classPath&#45;&gt;foo.assembly</title>
<path fill="none" stroke="black" d="M321.4,-83.48C338.17,-93.5 362.44,-107.86 383.89,-120 387.84,-122.24 392,-124.55 396.14,-126.83"/>
<polygon fill="black" stroke="black" points="394.58,-129.97 405.03,-131.69 397.94,-123.82 394.58,-129.97"/>
</g>
<!-- bar.compile -->
<g id="node6" class="node">
<title>bar.compile</title>
<polygon fill="white" stroke="black" points="470.5,-52.3 387.54,-52.3 387.54,-27.7 470.5,-27.7 470.5,-52.3"/>
<text text-anchor="middle" x="429.02" y="-35.8" font-family="Times,serif" font-size="14.00">bar.compile</text>
</g>
<!-- foo.classPath&#45;&gt;bar.compile -->
<g id="edge5" class="edge">
<title>foo.classPath&#45;&gt;bar.compile</title>
<path fill="none" stroke="black" d="M344.84,-60.24C355.51,-57.65 366.99,-54.85 377.91,-52.19"/>
<polygon fill="black" stroke="black" points="378.86,-55.57 387.75,-49.8 377.2,-48.77 378.86,-55.57"/>
</g>
<!-- bar.classPath -->
<g id="node7" class="node">
<title>bar.classPath</title>
<polygon fill="white" stroke="black" points="602.97,-83.3 513.03,-83.3 513.03,-58.7 602.97,-58.7 602.97,-83.3"/>
<text text-anchor="middle" x="558" y="-66.8" font-family="Times,serif" font-size="14.00">bar.classPath</text>
</g>
<!-- foo.classPath&#45;&gt;bar.classPath -->
<g id="edge6" class="edge">
<title>foo.classPath&#45;&gt;bar.classPath</title>
<path fill="none" stroke="black" d="M345.01,-71C388.84,-71 455.96,-71 502.9,-71"/>
<polygon fill="black" stroke="black" points="503.18,-74.5 513.18,-71 503.18,-67.5 503.18,-74.5"/>
</g>
<!-- foo.mainClass -->
<g id="node5" class="node">
<title>foo.mainClass</title>
<polygon fill="white" stroke="black" points="348.13,-156.3 251.16,-156.3 251.16,-131.7 348.13,-131.7 348.13,-156.3"/>
<text text-anchor="middle" x="299.64" y="-139.8" font-family="Times,serif" font-size="14.00">foo.mainClass</text>
</g>
<!-- foo.mainClass&#45;&gt;foo.assembly -->
<g id="edge4" class="edge">
<title>foo.mainClass&#45;&gt;foo.assembly</title>
<path fill="none" stroke="black" d="M348.07,-144C356.32,-144 364.96,-144 373.38,-144"/>
<polygon fill="black" stroke="black" points="373.5,-147.5 383.5,-144 373.5,-140.5 373.5,-147.5"/>
</g>
<!-- bar.compile&#45;&gt;bar.classPath -->
<g id="edge8" class="edge">
<title>bar.compile&#45;&gt;bar.classPath</title>
<path fill="none" stroke="black" d="M470.55,-49.89C480.88,-52.42 492.16,-55.17 503.05,-57.83"/>
<polygon fill="black" stroke="black" points="502.36,-61.26 512.9,-60.23 504.02,-54.46 502.36,-61.26"/>
</g>
<!-- bar.assembly -->
<g id="node9" class="node">
<title>bar.assembly</title>
<polygon fill="white" stroke="black" points="731.56,-61.3 641.61,-61.3 641.61,-36.7 731.56,-36.7 731.56,-61.3"/>
<text text-anchor="middle" x="686.59" y="-44.8" font-family="Times,serif" font-size="14.00">bar.assembly</text>
</g>
<!-- bar.classPath&#45;&gt;bar.assembly -->
<g id="edge9" class="edge">
<title>bar.classPath&#45;&gt;bar.assembly</title>
<path fill="none" stroke="black" d="M602.92,-63.37C612.25,-61.75 622.2,-60.02 631.84,-58.34"/>
<polygon fill="black" stroke="black" points="632.49,-61.78 641.75,-56.62 631.29,-54.88 632.49,-61.78"/>
</g>
<!-- bar.sources -->
<g id="node8" class="node">
<title>bar.sources</title>
<polygon fill="white" stroke="black" points="339.5,-40.3 259.79,-40.3 259.79,-15.7 339.5,-15.7 339.5,-40.3"/>
<text text-anchor="middle" x="299.64" y="-23.8" font-family="Times,serif" font-size="14.00">bar.sources</text>
</g>
<!-- bar.sources&#45;&gt;bar.compile -->
<g id="edge7" class="edge">
<title>bar.sources&#45;&gt;bar.compile</title>
<path fill="none" stroke="black" d="M339.55,-31.67C351.56,-32.8 364.96,-34.06 377.63,-35.25"/>
<polygon fill="black" stroke="black" points="377.3,-38.74 387.59,-36.19 377.96,-31.77 377.3,-38.74"/>
</g>
<!-- bar.mainClass -->
<g id="node10" class="node">
<title>bar.mainClass</title>
<polygon fill="white" stroke="black" points="605.7,-40.3 510.3,-40.3 510.3,-15.7 605.7,-15.7 605.7,-40.3"/>
<text text-anchor="middle" x="558" y="-23.8" font-family="Times,serif" font-size="14.00">bar.mainClass</text>
</g>
<!-- bar.mainClass&#45;&gt;bar.assembly -->
<g id="edge10" class="edge">
<title>bar.mainClass&#45;&gt;bar.assembly</title>
<path fill="none" stroke="black" d="M605.78,-35.76C614.18,-37.15 623,-38.62 631.59,-40.04"/>
<polygon fill="black" stroke="black" points="631.09,-43.51 641.52,-41.69 632.23,-36.6 631.09,-43.51"/>
</g>
</g>
</svg>

</center>
</div>
<div class="paragraph">
<p><a href="https://github.com/com-lihaoyi/mill">Mill</a> is a fast JVM build tool that supports Scala, speeding
up common development workflows by 5-10x <a href="Java_Case_Study_Netty.html" class="xref page">compared to Maven</a> or SBT.
Mill aims to make your JVM project&#8217;s build process performant, maintainable, and flexible
even as it grows from a small project to a large codebase or monorepo with hundreds of modules:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Performance</strong>: Mill&#8217;s <a href="Tasks.html" class="xref page">build graph</a> automatically
<a href="The_Mill_Evaluation_Model.html#_caching_at_each_layer_of_the_evaluation_model" class="xref page">caches</a>
and <a href="#_parallel_task_execution">parallelizes</a> build
tasks, minimizing the amount of work that needs to be done and keeping your workflows
fast and responsive.</p>
</li>
<li>
<p><strong>Maintainability</strong>: Mill build tasks are self contained without side-effects making it easy
to trace the data-flow, and its IDE support
(via <a href="Scala_Installation_IDE_Support.html#_intellij" class="xref page">IntelliJ</a> or
<a href="Scala_Installation_IDE_Support.html#_vscode" class="xref page">VSCode</a>)
lets you "<strong>jump-to-definition</strong>" around your build
as easily as any application codebase.</p>
</li>
<li>
<p><strong>Flexibility</strong>: Mill custom logic is written in <a href="#_custom_build_logic">custom build logic</a>
in type-checked code, rather than
error-prone shell scripts, verbose AntRun XML, or complicated external plugins. Mill&#8217;s
custom tasks and modules allow anything from
<a href="Tasks.html#primitive-tasks" class="xref page">adding simple pipelines</a>, up to
<a href="Modules.html#_use_case_diy_java_modules" class="xref page">adding entire language toolchains</a>,
meaning it can be easily customized to fit exactly what you need.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Mill is used to build many mainstream Scala projects, such as the
<a href="https://github.com/coursier/coursier">Coursier dependency resolver</a>,
<a href="https://github.com/VirtusLab/scala-cli">Scala-CLI</a>, and the
<a href="https://github.com/com-lihaoyi/Ammonite">Ammonite REPL</a></p>
</div>
<div class="paragraph">
<p>Mill borrows ideas from other tools like <a href="https://maven.apache.org/">Maven</a>,
<a href="https://gradle.org/">Gradle</a>, <a href="https://bazel.build/">Bazel</a>, or <a href="https://www.scala-sbt.org/">SBT</a>.
It tries to learn from the strengths of each tool, while improving on their weaknesses.</p>
</div>
<div class="paragraph">
<p>Compared to SBT:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Mill makes customizing the build yourself much easier</strong>: most of what build tools
do work with files and call subprocesses, and Mill makes doing that yourself easy.
This means you can always make your Mill build do exactly what you want, and are not
beholden to third-party plugins that may not exist, be well maintained, or interact well
with each other.</p>
</li>
<li>
<p><strong>Mill is much more performant</strong>: SBT has enough overhead that even a dozen
subprojects is enough to slow it down, while Mill can handle hundreds of modules without issue.
Custom tasks in SBT re-execute every time, whereas in Mill they are cached automatically.
Mill&#8217;s watch-for-changes-and-re-run implementation has much lower latency than SBT&#8217;s. The
list of ways Mill improves upon SBT&#8217;s performance is long, and at the command line you
can really feel it</p>
</li>
<li>
<p><strong>Mill builds are much easier to understand</strong>: Your Mill build is made of bog-standard
<code>object</code>s and <code>def</code>s, rather than SBT&#8217;s
<a href="https://eed3si9n.com/4th-dimension-with-sbt-013/">four-dimensional task matrix</a>. Your IDE&#8217;s
"<strong>jump-to-definition</strong>" in Mill actually brings you to the implementation of a task, rather
than an SBT <code>taskKey</code> declaration. Customizing things is as simple as writing or overriding
`def`s. The net effect is that despite both tools' build files being written in Scala,
Mill&#8217;s build files are much easier to understand and maintain.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For a more detailed dive into the problems with SBT or how Mill improves upon them, check
out the following blog posts:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://www.lihaoyi.com/post/SowhatswrongwithSBT.html">So, what&#8217;s wrong with SBT?</a></p>
</li>
<li>
<p><a href="https://www.lihaoyi.com/post/MillBetterScalaBuilds.html">Mill: Better Scala Builds</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If you&#8217;re interested in the fundamental ideas behind Mill, rather than the user-facing
benefits discussed above, the following presentation
and companion blog post is a good introduction into what the Mill build tool is
all about:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://www.youtube.com/watch?v=UsXgCeU-ovI&amp;list=PLLMLOC3WM2r6ZFhFfVH74W-sl8LfWtOEc&amp;index=15">Video: A Deep Dive into the Mill Build Tool</a></p>
</li>
<li>
<p><a href="https://www.lihaoyi.com/post/SoWhatsSoSpecialAboutTheMillScalaBuildTool.html">Blog Post: What&#8217;s So Special About The Mill Scala Build Tool?</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The rest of this page contains a quick introduction to getting start with using
Mill to build a simple Scala program. The other pages of this doc-site go into
more depth, with more examples of how to use Mill and more details of how the
Mill build tool works.</p>
</div>
<div class="paragraph">
<p>If you are using Mill, you will find the following book by the Author useful in
using Mill and its supporting libraries to the fullest:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://handsonscala.com/">Hands-on Scala Programming</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_simple_scala_module"><a class="anchor" href="#_simple_scala_module"></a>Simple Scala Module</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="title">build.sc (<a href="https://github.com/com-lihaoyi/mill/releases/download/0.11.13/0.11.13-example-basic-1-simple.zip">download</a>, <a href="https://github.com/com-lihaoyi/mill/blob/0.11.13/example/basic/1-simple">browse</a>)</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-scala hljs" data-lang="scala">import mill._, scalalib._

object foo extends RootModule with ScalaModule {
  def scalaVersion = "2.13.11"
  def ivyDeps = Agg(
    ivy"com.lihaoyi::scalatags:0.12.0",
    ivy"com.lihaoyi::mainargs:0.6.2"
  )

  object test extends ScalaTests {
    def ivyDeps = Agg(ivy"com.lihaoyi::utest:0.8.4")
    def testFramework = "utest.runner.Framework"
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This is a basic Mill build for a single <code>ScalaModule</code>, with two
third-party dependencies and a test suite using the uTest framework. As a
single-module project, it <code>extends RootModule</code> to mark <code>object foo</code> as the
top-level module in the build. This lets us directly perform operations
<code>./mill compile</code> or <code>./mill run</code> without needing to prefix it as
<code>foo.compile</code> or <code>foo.run</code>.</p>
</div>
<div class="paragraph">
<p>You can download this example project using the <strong>download</strong> link above
if you want to try out the commands below yourself. The only requirement is
that you have some version of the JVM installed; the <code>./mill</code> script takes
care of any further dependencies that need to be downloaded.</p>
</div>
<div class="paragraph">
<p>The source code for this module lives in the <code>src/</code> folder.
Output for this module (compiled files, resolved dependency lists, &#8230;&#8203;)
lives in <code>out/</code>.</p>
</div>
<div class="paragraph">
<p>This example project uses two third-party dependencies - MainArgs for CLI
argument parsing, Scalatags for HTML generation - and uses them to wrap a
given input string in HTML templates with proper escaping.</p>
</div>
<div class="paragraph">
<p>You can run <code>assembly</code> to generate a standalone executable jar, which then
can be run from the command line or deployed to be run elsewhere.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">&gt; ./mill resolve _ # List what tasks are available to run
assembly
...
clean
...
compile
...
run
...
show
...
inspect
...

&gt; ./mill inspect compile # Show documentation and inputs of a task
compile(ScalaModule.scala:...)
    Compiles the current module to generate compiled classfiles/bytecode.
Inputs:
    scalaVersion
    upstreamCompileOutput
    allSourceFiles
    compileClasspath

&gt; ./mill compile # compile sources into classfiles
...
compiling 1 Scala source to...

&gt; ./mill run # run the main method, if any
error: Missing argument: --text &lt;str&gt;

&gt; ./mill run --text hello
&lt;h1&gt;hello&lt;/h1&gt;

&gt; ./mill test
...
+ foo.FooTests.simple ...  &lt;h1&gt;hello&lt;/h1&gt;
+ foo.FooTests.escaping ...  &lt;h1&gt;&amp;lt;hello&amp;gt;&lt;/h1&gt;

&gt; ./mill assembly # bundle classfiles and libraries into a jar for deployment

&gt; ./mill show assembly # show the output of the assembly task
".../out/assembly.dest/out.jar"

&gt; java -jar ./out/assembly.dest/out.jar --text hello
&lt;h1&gt;hello&lt;/h1&gt;

&gt; ./out/assembly.dest/out.jar --text hello # mac/linux
&lt;h1&gt;hello&lt;/h1&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The output of every Mill task is stored in the <code>out/</code> folder under a name
corresponding to the task that created it. e.g. The <code>assembly</code> task puts its
metadata output in <code>out/assembly.json</code>, and its output files in
<code>out/assembly.dest</code>. You can also use <code>show</code> to make Mill print out the
metadata output for a particular task.</p>
</div>
<div class="paragraph">
<p>Additional Mill tasks you would likely need include:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ mill runBackground # run the main method in the background

$ mill clean &lt;task&gt;  # delete the cached output of a task, terminate any runBackground

$ mill launcher      # prepares a foo/launcher.dest/run you can run later

$ mill jar           # bundle the classfiles into a jar suitable for publishing

$ mill -i console    # start a Scala console within your project

$ mill -i repl       # start an Ammonite Scala REPL within your project</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can run <code>mill resolve __</code> to see a full list of the different tasks that
are available, <code>mill resolve _</code> to see the tasks within <code>foo</code>,
<code>mill inspect compile</code> to inspect a task&#8217;s doc-comment documentation or what
it depends on, or <code>mill show foo.scalaVersion</code> to show the output of any task.</p>
</div>
<div class="paragraph">
<p>The most common <strong>tasks</strong> that Mill can run are cached <strong>targets</strong>, such as
<code>compile</code>, and un-cached <strong>commands</strong> such as <code>foo.run</code>. Targets do not
re-evaluate unless one of their inputs changes, whereas commands re-run every
time.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_custom_build_logic"><a class="anchor" href="#_custom_build_logic"></a>Custom Build Logic</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Mill makes it very easy to customize your build graph, overriding portions
of it with custom logic. In this example, we override the JVM <code>resources</code> of
our <code>ScalaModule</code> - normally the <code>resources/</code> folder - to instead contain a
single generated text file containing the line count of all the source files
in that module</p>
</div>
<div class="listingblock">
<div class="title">build.sc (<a href="https://github.com/com-lihaoyi/mill/releases/download/0.11.13/0.11.13-example-basic-2-custom-build-logic.zip">download</a>, <a href="https://github.com/com-lihaoyi/mill/blob/0.11.13/example/basic/2-custom-build-logic">browse</a>)</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-scala hljs" data-lang="scala">import mill._, scalalib._

object foo extends RootModule with ScalaModule {
  def scalaVersion = "2.13.11"

  /** Total number of lines in module's source files */
  def lineCount = T{
    allSourceFiles().map(f =&gt; os.read.lines(f.path).size).sum
  }

  /** Generate resources using lineCount of sources */
  override def resources = T{
    os.write(T.dest / "line-count.txt", "" + lineCount())
    Seq(PathRef(T.dest))
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The addition of <code>lineCount</code> and <code>resources</code> overrides the previous <code>resource</code>
folder provided by <code>JavaModule</code> (labelled <code>resource.super</code> below), replacing
it with the destination folder of the new <code>resources</code> target, which is wired
up <code>lineCount</code>:</p>
</div>
<div class="paragraph">
<center>
<svg width="483px" height="76px"
 viewBox="0.00 0.00 483.15 75.80" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1.0 1.0) rotate(0.0) translate(4.0 71.8)">
<title>G</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-71.8 479.15,-71.8 479.15,4 -4,4"/>
<!-- allSourceFiles -->
<g id="node1" class="node">
<title>allSourceFiles</title>
<polygon fill="white" stroke="white" points="96.14,-67.7 -0.05,-67.7 -0.05,-43.1 96.14,-43.1 96.14,-67.7"/>
<text text-anchor="middle" x="48.05" y="-51.2" font-family="Times,serif" font-size="14.00">allSourceFiles</text>
</g>
<!-- lineCount -->
<g id="node2" class="node">
<title>lineCount</title>
<polygon fill="white" stroke="black" points="203.43,-67.7 131.98,-67.7 131.98,-43.1 203.43,-43.1 203.43,-67.7"/>
<text text-anchor="middle" x="167.7" y="-51.2" font-family="Times,serif" font-size="14.00">lineCount</text>
</g>
<!-- allSourceFiles&#45;&gt;lineCount -->
<g id="edge1" class="edge">
<title>allSourceFiles&#45;&gt;lineCount</title>
<path fill="none" stroke="black" d="M96.22,-55.4C104.58,-55.4 113.27,-55.4 121.58,-55.4"/>
<polygon fill="black" stroke="black" points="121.83,-58.9 131.83,-55.4 121.83,-51.9 121.83,-58.9"/>
</g>
<!-- resources -->
<g id="node3" class="node">
<title>resources</title>
<polygon fill="white" stroke="black" points="325.01,-67.7 256.3,-67.7 256.3,-43.1 325.01,-43.1 325.01,-67.7"/>
<text text-anchor="middle" x="290.65" y="-51.2" font-family="Times,serif" font-size="14.00">resources</text>
</g>
<!-- lineCount&#45;&gt;resources -->
<g id="edge2" class="edge">
<title>lineCount&#45;&gt;resources</title>
<path fill="none" stroke="black" d="M203.36,-55.4C216.6,-55.4 231.87,-55.4 245.85,-55.4"/>
<polygon fill="black" stroke="black" points="246.24,-58.9 256.24,-55.4 246.24,-51.9 246.24,-58.9"/>
</g>
<!-- ... -->
<g id="node4" class="node">
<title>...</title>
<polygon fill="white" stroke="white" points="404.74,-45.7 377.73,-45.7 377.73,-21.1 404.74,-21.1 404.74,-45.7"/>
<text text-anchor="middle" x="391.24" y="-29.2" font-family="Times,serif" font-size="14.00">...</text>
</g>
<!-- resources&#45;&gt;... -->
<g id="edge3" class="edge">
<title>resources&#45;&gt;...</title>
<path fill="none" stroke="black" d="M325.03,-47.95C339.03,-44.83 354.94,-41.28 367.55,-38.46"/>
<polygon fill="black" stroke="black" points="368.64,-41.81 377.64,-36.21 367.12,-34.97 368.64,-41.81"/>
</g>
<!-- run -->
<g id="node5" class="node">
<title>run</title>
<polygon fill="white" stroke="white" points="474.98,-45.7 440.66,-45.7 440.66,-21.1 474.98,-21.1 474.98,-45.7"/>
<text text-anchor="middle" x="457.82" y="-29.2" font-family="Times,serif" font-size="14.00">run</text>
</g>
<!-- ...&#45;&gt;run -->
<g id="edge4" class="edge">
<title>...&#45;&gt;run</title>
<path fill="none" stroke="black" d="M404.69,-33.4C411.88,-33.4 421.22,-33.4 430,-33.4"/>
<polygon fill="black" stroke="black" points="430.25,-36.9 440.25,-33.4 430.25,-29.9 430.25,-36.9"/>
</g>
<!-- resources.super -->
<g id="node6" class="node">
<title>resources.super</title>
<polygon fill="none" stroke="black" stroke-dasharray="5,2" points="341.83,-24.7 239.48,-24.7 239.48,-0.1 341.83,-0.1 341.83,-24.7"/>
<text text-anchor="middle" x="290.65" y="-8.2" font-family="Times,serif" font-size="14.00">resources.super</text>
</g>
<!-- resources.super&#45;&gt;... -->
</g>
</svg>

</center>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">&gt; mill run
...
Line Count: 17

&gt; mill show lineCount
17

&gt; mill inspect lineCount
lineCount(build.sc:...)
    Total number of lines in module's source files
Inputs:
    allSourceFiles</code></pre>
</div>
</div>
<div class="paragraph">
<p>Above, <code>def lineCount</code> is a new build target we define, which makes use of
<code>allSourceFiles</code> (an existing target) and is in-turn used in our override of
<code>resources</code> (also an existing target). <code>os.read.lines</code> and <code>os.write come
from the <a href="https://github.com/com-lihaoyi/os-lib">OS-Lib</a> library, which is
bundled with Mill. This generated file can then be
loaded and used at runtime, as see in the output of `mill run</code></p>
</div>
<div class="paragraph">
<p>While this is a toy example, it shows how easy it is to customize your Mill
build to include the kinds of custom logic common in the build config of
most real-world projects.</p>
</div>
<div class="paragraph">
<p>This customization is done in a principled fashion familiar to most
programmers - object-orienting overrides - rather than ad-hoc
monkey-patching or mutation common in other build tools. You never have
"spooky action at a distance" affecting your build / graph definition, and
your IDE can always help you find the final override of any particular build
target as well as where any overriden implementations may be defined.</p>
</div>
<div class="paragraph">
<p>Unlike normal methods, custom user-defined targets in Mill benefit from all
the same things that built-in targets do: automatic caching, parallelism
(with the <code>-j</code>/<code>--jobs</code> flag), inspectability (via <code>show</code>/<code>inspect</code>), and so on.</p>
</div>
<div class="paragraph">
<p>While these things may not matter for such a simple example that runs
quickly, they ensure that custom build logic remains performant and
maintainable even as the complexity of your project grows.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_multi_module_project"><a class="anchor" href="#_multi_module_project"></a>Multi-Module Project</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="title">build.sc (<a href="https://github.com/com-lihaoyi/mill/releases/download/0.11.13/0.11.13-example-basic-3-multi-module.zip">download</a>, <a href="https://github.com/com-lihaoyi/mill/blob/0.11.13/example/basic/3-multi-module">browse</a>)</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-scala hljs" data-lang="scala">import mill._, scalalib._

trait MyModule extends ScalaModule {
  def scalaVersion = "2.13.11"
  object test extends ScalaTests {
    def ivyDeps = Agg(ivy"com.lihaoyi::utest:0.8.4")
    def testFramework = "utest.runner.Framework"
  }
}

object foo extends MyModule {
  def moduleDeps = Seq(bar)
  def ivyDeps = Agg(ivy"com.lihaoyi::mainargs:0.4.0")
}

object bar extends MyModule {
  def ivyDeps = Agg(ivy"com.lihaoyi::scalatags:0.8.2")
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This example contains a simple Mill build with two modules, <code>foo</code> and <code>bar</code>.
We don&#8217;t mark either module as top-level using <code>extends RootModule</code>, so
running tasks needs to use the module name as the prefix e.g. <code>foo.run</code> or
<code>bar.run</code>. You can define multiple modules the same way you define a single
module, using <code>def moduleDeps</code> to define the relationship between them.</p>
</div>
<div class="paragraph">
<p>Note that we split out the <code>test</code> submodule configuration common to both
modules into a separate <code>trait MyModule</code>. This lets us avoid the need to
copy-paste common settings, while still letting us define any per-module
configuration such as <code>ivyDeps</code> specific to a particular module.</p>
</div>
<div class="paragraph">
<p>The above builds expect the following project layout:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>build.sc
foo/
    src/
        Foo.scala
    resources/
        ...
bar/
    src/
        Bar.scala
    resources/
        ...
out/
    foo/
        compile.json
        compile.dest/
        ...
    bar/
        compile.json
        compile.dest/
        ...</pre>
</div>
</div>
<div class="paragraph">
<p>Typically, both source code and output files in Mill follow the module
hierarchy, so e.g. input to the <code>foo</code> module lives in <code>foo/src/</code> and
compiled output files live in <code>out/foo/compile.dest</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">&gt; mill resolve __.run
foo.run
bar.run

&gt; mill foo.run --foo-text hello --bar-text world
Foo.value: hello
Bar.value: &lt;h1&gt;world&lt;/h1&gt;

&gt; mill bar.run world
Bar.value: &lt;h1&gt;world&lt;/h1&gt;

&gt; mill bar.test
...
...bar.BarTests.simple...
...bar.BarTests.escaping...</code></pre>
</div>
</div>
<div class="paragraph">
<p>Mill&#8217;s evaluator will ensure that the modules are compiled in the right
order, and recompiled as necessary when source code in each module changes.</p>
</div>
<div class="paragraph">
<p>You can use wildcards and brace-expansion to select
multiple targets at once or to shorten the path to deeply nested targets. If
you provide optional target arguments and your wildcard or brace-expansion is
resolved to multiple targets, the arguments will be applied to each of the
targets.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Wildcards and brace-expansion</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Wildcard</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Function</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>_</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">matches a single segment of the target path</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>__</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">matches arbitrary segments of the target path</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>{a,b}</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">is equal to specifying two targets <code>a</code> and <code>b</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>You can use the <code>` symbol to add another target with optional arguments.
If you need to feed a `</code> as argument to your target, you can mask it by
preceding it with a backslash (<code>\</code>).</p>
</div>
<div class="sect2">
<h3 id="_examples"><a class="anchor" href="#_examples"></a>Examples</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>mill foo._.compile</code></dt>
<dd>
<p>Runs <code>compile</code> for all direct sub-modules of <code>foo</code></p>
</dd>
<dt class="hdlist1"><code>mill foo.__.test</code> </dt>
<dd>
<p>Runs <code>test</code> for all sub-modules of <code>foo</code></p>
</dd>
<dt class="hdlist1"><code>mill {foo,bar}.__.testCached</code> </dt>
<dd>
<p>Runs <code>testCached</code> for all sub-modules of <code>foo</code> and <code>bar</code></p>
</dd>
<dt class="hdlist1"><code>mill __.compile + foo.__.test</code> </dt>
<dd>
<p>Runs all <code>compile</code> targets and all tests under <code>foo</code>.</p>
</dd>
</dl>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_watch_and_re_evaluate"><a class="anchor" href="#_watch_and_re_evaluate"></a>Watch and Re-evaluate</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can use the <code>--watch</code> flag to make Mill watch a task&#8217;s inputs,
re-evaluating the task as necessary when the inputs
change:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ mill --watch foo.compile
$ mill --watch foo.run
$ mill -w foo.compile
$ mill -w foo.run</code></pre>
</div>
</div>
<div class="paragraph">
<p>Mill&#8217;s <code>--watch</code> flag watches both the files you are building using Mill, as
well as Mill&#8217;s own <code>build.sc</code> file and anything it imports, so any changes to
your <code>build.sc</code> will automatically get picked up.</p>
</div>
<div class="paragraph">
<p>For long-running processes like web servers, you can use <code>runBackground</code> to make sure they recompile and restart when code changes,
forcefully terminating the previous process even though it may be still alive:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ mill -w foo.compile
$ mill -w foo.runBackground</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_parallel_task_execution"><a class="anchor" href="#_parallel_task_execution"></a>Parallel Task Execution</h2>
<div class="sectionbody">
<div class="paragraph">
<p>By default, mill will evaluate all tasks in sequence.
But mill also supports processing tasks in parallel.
This feature is currently experimental and we encourage you to report any issues
you find on our bug tracker.</p>
</div>
<div class="paragraph">
<p>To enable parallel task execution, use the <code>--jobs</code> (<code>-j</code>) option followed by a
number of maximal parallel threads.</p>
</div>
<div class="paragraph">
<p>Example: Use up to 4 parallel threads to compile all modules:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">mill -j 4 __.compile</code></pre>
</div>
</div>
<div class="paragraph">
<p>To use as many threads as your machine has (logical) processor cores use <code>--jobs 0</code>.
To disable parallel execution use <code>--jobs 1</code>. This is currently the default.</p>
</div>
<div class="paragraph">
<p><code>mill -j</code> generates an output file in <code>out/mill-chrome-profile.json</code> that can be
loaded into the Chrome browser&#8217;s <code>chrome://tracing</code> page for visualization.
This can make it much easier to analyze your parallel runs to find out what&#8217;s
taking the most time:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/ChromeTracing.png" alt="ChromeTracing.png">
</div>
</div>
<div class="paragraph">
<p>Please note that the maximal possible parallelism depends on your project.
Tasks that depend on each other can&#8217;t be processed in parallel.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_command_line_usage"><a class="anchor" href="#_command_line_usage"></a>Command-line usage</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Mill is a command-line tool and supports various options.</p>
</div>
<div class="paragraph">
<p>Run <code>mill --help</code> for a complete list of options</p>
</div>
<div class="listingblock">
<div class="title">Output of <code>mill --help</code></div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">Mill Build Tool, version 0.11.13
usage: mill [options] [[target [target-options]] [+ [target ...]]]
  -D --define &lt;k=v&gt;                 Define (or overwrite) a system property.
  -b --bell                         Ring the bell once if the run completes successfully, twice if
                                    it fails.
  --bsp                             Enable BSP server mode.
  --color &lt;bool&gt;                    Enable or disable colored output; by default colors are enabled
                                    in both REPL and scripts mode if the console is interactive, and
                                    disabled otherwise.
  -d --debug                        Show debug output on STDOUT
  --disable-callgraph-invalidation  Disable the fine-grained callgraph-based target invalidation in
                                    response to code changes, and instead fall back to the previous
                                    coarse-grained implementation relying on the script `import
                                    $file` graph
  --disable-ticker                  Disable ticker log (e.g. short-lived prints of stages and
                                    progress bars).
  --enable-ticker &lt;bool&gt;            Enable ticker log (e.g. short-lived prints of stages and
                                    progress bars).
  -h --home &lt;path&gt;                  (internal) The home directory of internally used Ammonite script
                                    engine; where it looks for config and caches.
  --help                            Print this help message and exit.
  -i --interactive                  Run Mill in interactive mode, suitable for opening REPLs and
                                    taking user input. This implies --no-server and no mill server
                                    will be used. Must be the first argument.
  --import &lt;str&gt;                    Additional ivy dependencies to load into mill, e.g. plugins.
  -j --jobs &lt;int&gt;                   Allow processing N targets in parallel. Use 1 to disable
                                    parallel and 0 to use as much threads as available processors.
  -k --keep-going                   Continue build, even after build failures.
  --meta-level &lt;int&gt;                Experimental: Select a meta-build level to run the given
                                    targets. Level 0 is the normal project, level 1 the first
                                    meta-build, and so on. The last level is the built-in synthetic
                                    meta-build which Mill uses to bootstrap the project.
  --no-server                       Run Mill in single-process mode. In this mode, no Mill server
                                    will be started or used. Must be the first argument.
  -s --silent                       Make ivy logs during script import resolution go silent instead
                                    of printing; though failures will still throw exception.
  -v --version                      Show mill version information and exit.
  -w --watch                        Watch and re-run your scripts when they change.
  target &lt;str&gt;...                   The name or a pattern of the target(s) you want to build,
                                    followed by any parameters you wish to pass to those targets. To
                                    specify multiple target names or patterns, use the `+`
                                    separator.</code></pre>
</div>
</div>
<div class="paragraph">
<p>All <em>options</em> must be given before the first target.</p>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="Java_Case_Study_Netty.html">Java Case Study: Netty</a></span>
  <span class="next"><a href="Scala_Installation_IDE_Support.html">Installation and IDE Support</a></span>
</nav>
</article>
  </div>
</main>
</div>
<script id="site-script" src="../../_/js/site.js" data-ui-root-path="../../_"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
<script src="../../_/js/vendor/lunr.js"></script>
<script src="../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../.." data-snippet-length="100" data-stylesheet="../../_/css/search.css"></script>
<script async src="../../search-index.js"></script>
  </body>
</html>
