<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Installation and IDE Support :: The Mill Build Tool</title>
    <link rel="canonical" href="https://mill-build.org/mill/0.11.x/Java_Installation_IDE_Support.html">
    <link rel="prev" href="Java_Intro_to_Mill.html">
    <link rel="next" href="Java_Builtin_Commands.html">
    <meta name="generator" content="Antora 3.1.9">
    <link rel="stylesheet" href="../../_/css/site.css">
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-1C582ZJR85"></script>
    <script>function gtag(){dataLayer.push(arguments)};window.dataLayer=window.dataLayer||[];gtag('js',new Date());gtag('config','G-1C582ZJR85')</script>
<link rel="icon" href="../../_/favicon.png" type="image/x-icon">
  </head>
  <body class="article">
<header class="header">
  <style>
  /* auto-hyphenation is super ugly */
  *{
    hyphens: manual !important;
  }

  /* Reduce font size from 17px to something reasonable */
  .doc {
   font-size: 16px !important;
  }
  .doc pre {
   font-size: 14px !important;
  }
  /* Shrink unreasonably large top bar */
  nav.navbar{
    height: 2.5rem;
  }
  body.article{
    padding-top: 2.5rem;
  }
  div.nav-container{
    top: 2.5rem;
  }
  div.toolbar{
    top: 2.5rem;
  }
  aside.nav{
    top: 2.5rem;
    height: calc(100vh - 2.5rem);
  }
  </style>
  <script>
  gtag('config', 'AW-16649289906');

  document.addEventListener('DOMContentLoaded', function() {
  const links = document.querySelectorAll('a');
    links.forEach(link => {
      if (link.textContent.trim().toLowerCase() === 'download') {
        link.addEventListener('click', function(event) {
          console.log("download link clicked")
          gtag('event', 'conversion', {'send_to': 'AW-16649289906/rsphCKfVq8QZELKBgIM-'});
        });
      }
    });
  });
  </script>
  <nav class="navbar">
    <div class="navbar-brand">
      <!-- TODO: add mill icon -->
      <a class="navbar-item" href="https://mill-build.org"><img src="../../_/logo-white.svg" height="20" />&nbsp;The Mill Build Tool</a>
      <div class="navbar-item search">
        <input id="search-input" type="text" placeholder="Search the docs">
      </div>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="https://github.com/com-lihaoyi/mill">GitHub</a>
        <a class="navbar-item" href="https://mill-build.org/blog/index.html">Blog</a>
        <a class="navbar-item" href="https://mill-build.org/api/latest/mill.html">API</a>
        <a class="navbar-item" href="https://github.com/com-lihaoyi/mill/issues">Issues</a>
        <a class="navbar-item" href="https://github.com/com-lihaoyi/mill/discussions">Discuss</a>


            <!--
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Documentation</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#"></a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Plugins</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Service A</a>
            <a class="navbar-item" href="#">Service B</a>
            <a class="navbar-item" href="#">Service C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Resources</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Resource A</a>
            <a class="navbar-item" href="#">Resource B</a>
            <a class="navbar-item" href="#">Resource C</a>
          </div>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div>
        -->
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="mill" data-version="0.11.x">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
<ul class="nav-list">

  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Java Quick Start</span>
<ul class="nav-list">

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Java_Intro_to_Mill.html">Introduction to Mill for Java</a>
  </li>

  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="Java_Installation_IDE_Support.html">Installation and IDE Support</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Java_Builtin_Commands.html">Built-in Commands</a>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <a class="nav-link" href="Java_Build_Examples.html">Java Build Examples</a>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <a class="nav-link" href="Java_Module_Config.html">Java Module Configuration</a>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <a class="nav-link" href="Java_Web_Build_Examples.html">Java Web Build Examples</a>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <a class="nav-link" href="Java_Case_Study_Netty.html">Java Case Study: Netty</a>
  </li>
</ul>
  </li>

  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Scala Quick Start</span>
<ul class="nav-list">

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Scala_Intro_to_Mill.html">Introduction to Mill for Scala</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Scala_Installation_IDE_Support.html">Installation and IDE Support</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Scala_Builtin_Commands.html">Built-in Commands</a>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <a class="nav-link" href="Scala_Build_Examples.html">Scala Build Examples</a>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <a class="nav-link" href="Scala_Module_Config.html">Scala Module Configuration</a>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <a class="nav-link" href="Scala_Web_Build_Examples.html">Scala Web Build Examples</a>
  </li>
</ul>
  </li>

  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Mill In Depth</span>
<ul class="nav-list">

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Library_Dependencies.html">Library Dependencies in Mill</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Out_Dir.html">The Output Directory</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Tasks.html">Tasks</a>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <a class="nav-link" href="Modules.html">Modules</a>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <a class="nav-link" href="Cross_Builds.html">Cross Builds</a>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <a class="nav-link" href="Target_Query_Syntax.html">Target Query Syntax</a>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <a class="nav-link" href="Extending_Mill.html">Extending Mill</a>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <a class="nav-link" href="The_Mill_Evaluation_Model.html">The Mill Evaluation Model</a>
  </li>
</ul>
  </li>

  <li class="nav-item is-active" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Mill Plugins</span>
<ul class="nav-list">

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Using_Plugins.html">Using Plugins</a>
  </li>

  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="Contrib_Plugins.html">Contrib Plugins</a>
<ul class="nav-list">

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="contrib/artifactory.html">Artifactory</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="contrib/bintray.html">Bintray</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="contrib/bloop.html">Bloop</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="contrib/buildinfo.html">BuildInfo</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="Plugin_BSP.html">BSP - Build Server Protocol</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="contrib/codeartifact.html">Codeartifact</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="contrib/docker.html">Docker</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="contrib/flyway.html">Flyway</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="contrib/gitlab.html">Gitlab</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="contrib/jmh.html">JMH</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="contrib/playlib.html">Play Framework</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="contrib/proguard.html">Proguard</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="contrib/scalapblib.html">ScalaPB</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="contrib/scoverage.html">Scoverage</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="contrib/testng.html">TestNG</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="contrib/twirllib.html">Twirl</a>
  </li>

  <li class="nav-item is-active" data-depth="2">
    <a class="nav-link" href="contrib/versionfile.html">Version file</a>
  </li>
</ul>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Thirdparty_Plugins.html">Third-Party Plugins</a>
  </li>
</ul>
  </li>

  <li class="nav-item is-active" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Reference</span>
<ul class="nav-list">

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Mill_Design_Principles.html">Mill Design Principles</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="External_References.html">External References</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="https://mill-build.org/api/latest/mill/index.html">Mill Scaladoc</a>
  </li>

  <li class="nav-item is-active" data-depth="1">
    <a class="nav-link" href="Changelog.html">Changelog</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Mill Documentation</span>
    <span class="version">0.11.13</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <div class="title"><a href="../index.html">Mill Documentation</a></div>
      <ul class="versions">
        <li class="version">
          <a href="../main-branch/index.html">main-branch</a>
        </li>
        <li class="version is-latest">
          <a href="../index.html">1.0.2</a>
        </li>
        <li class="version">
          <a href="../dev-1.0.2-3-e42a40/index.html">dev-1.0.2-3-e42a40</a>
        </li>
        <li class="version">
          <a href="../0.12.x/index.html">0.12.14</a>
        </li>
        <li class="version is-current">
          <a href="index.html">0.11.13</a>
        </li>
        <li class="version">
          <a href="../0.10.15/index.html">0.10.15</a>
        </li>
        <li class="version">
          <a href="../0.9.12/index.html">0.9.12</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../blog/index.html">The Mill Build Engineering Blog</a></div>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">

<div class="toolbar" role="navigation" style="position: fixed; top: 2.5rem; height: 2rem; left: 0px;">
<button class="nav-toggle"></button>
</div>
<div class="toolbar" style="position: fixed; top: 2.5rem; height: 1.5rem; right: 0px; ">
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Installation and IDE Support</h1>
<div id="preamble">
<div class="sectionbody">
<!-- Event snippet for Installation Page View conversion page -->
<script>
  gtag('event', 'conversion', {'send_to': 'AW-16649289906/rsphCKfVq8QZELKBgIM-'});
</script>
<div class="paragraph">
<p>For all the examples in this documentation, there is a <code>download</code> link that provides
a zip file containing the full example ready to use. These examples come with a <code>./mill</code>
script you can use to immediately begin working with the project, needing only a JVM installed
globally</p>
</div>
<div class="paragraph">
<p>The best method of installing Mill is to just install a <a href="#_bootstrap_scripts">bootstrap script</a>.
This script can determine the best version to be used by a project (e.g. by
reading a <code>.mill-version</code> or <code>.config/mill-version</code> file or a <code>MILL_VERSION</code> environment variable) and will use this exact Mill version.
If the determined Mill version is not installed locally, it will be downloaded automatically.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ide_support"><a class="anchor" href="#_ide_support"></a>IDE Support</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Mill supports IntelliJ and VSCode, both via the standard
<a href="https://build-server-protocol.github.io/">Build Server Protocol</a></p>
</div>
<div class="sect2">
<h3 id="_intellij"><a class="anchor" href="#_intellij"></a>IntelliJ</h3>
<div class="paragraph">
<p>To use Mill with IntelliJ, first ensure you have the free
<a href="https://plugins.jetbrains.com/plugin/1347-scala">IntelliJ Scala Plugin</a>
installed. This is necessary as Mill build files are written in Scala,
even if you are using it to build a Java project.</p>
</div>
<div class="paragraph">
<p>Once you have the plugin installed, you can use IntelliJ to open any project
containing a Mill <code>build.sc</code> file, and IntelliJ will automatically load the
Mill build. This will provide support both for your application code,
as well as the code in the <code>build.sc</code>:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/IntellijApp.png" alt="IntellijApp">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/IntellijBuild.png" alt="IntellijBuild">
</div>
</div>
<div class="paragraph">
<p>If you make changes to your Mill <code>build.sc</code>, you can ask Intellij to load
those updates by opening the "BSP" tab and clicking the "Refresh" button</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/IntellijRefresh.png" alt="IntellijRefresh">
</div>
</div>
<div class="sect3">
<h4 id="_intellij_idea_xml_support"><a class="anchor" href="#_intellij_idea_xml_support"></a>IntelliJ IDEA XML Support</h4>
<div class="paragraph">
<p>Apart from using the Build Server Protocol, you can also generate IDEA project
files directly with Mill. This is probably the preferred way if you work on
polyglot projects and need support for other languages like Kotlin or AspectJ,
which are currently not specifically configured over BSP.</p>
</div>
<div class="paragraph">
<p>To generate IntelliJ IDEA project files into <code>.idea/</code>, run:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./mill mill.idea.GenIdea/idea</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will generate the XML files IntelliJ uses to configure your project</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">.idea
.idea/scala_settings.xml
.idea/mill_modules
.idea/mill_modules/.iml
.idea/mill_modules/mill-build.iml
.idea/mill_modules/test.iml
.idea/libraries
.idea/libraries/mill_scalalib_2_13_0_11_10_jar.xml
...
.idea/workspace.xml
.idea/modules.xml
.idea/scala_compiler.xml
.idea/misc.xml</code></pre>
</div>
</div>
<div class="paragraph">
<p>After the files are generated, you can open the folder in IntelliJ to load the project
into your IDE. If you make changes to your Mill <code>build.sc</code>, you can update the project config
those updates by running <code>./mill mill.idea.GenIdea/idea</code> again.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_vscode"><a class="anchor" href="#_vscode"></a>VSCode</h3>
<div class="paragraph">
<p>To use Mill with VSCode, first ensure you have the free
<a href="https://marketplace.visualstudio.com/items?itemName=scalameta.metals">Metals VSCode Scala language server</a>
installed. This is necessary as Mill build files are written in Scala,
even if you are using it to build a Java project.</p>
</div>
<div class="paragraph">
<p>Once you have the language server installed, you can ask VSCode to open any folder
containing a Mill <code>build.sc</code> file, and VSCode will ask you to import your
Mill build. This will provide support both for your application code,
as well as the code in the <code>build.sc</code>:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/VSCodeApp.png" alt="VSCodeApp">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/VSCodeBuild.png" alt="VSCodeBuild">
</div>
</div>
<div class="paragraph">
<p>If you make changes to your Mill <code>build.sc</code>, you can ask VSCode to load
those updates by opening the "BSP" tab and clicking the "Refresh" button</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/VSCodeRefresh.png" alt="VSCodeRefresh">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_debugging_ide_issues"><a class="anchor" href="#_debugging_ide_issues"></a>Debugging IDE issues</h3>
<div class="paragraph">
<p>In case things go wrong, it can be sometimes hard to find the cause.
BSP is just a protocol, and as such, issues on the server side (the Mill BSP
server) might not well propagated to the BSP client (your IDE).</p>
</div>
<div class="paragraph">
<p>For that reason Mill BSP server is writing a log file under
<code>.bsp/mill-bsp.stderr</code>, where you can find various information about what&#8217;s
going on. Its content should look familiar, as it contains regular Mill
output accompanied by additional BSP client-server communication details.</p>
</div>
<div class="paragraph">
<p>You can increase the verbosity of that log file, when you run Mill with
<code>--debug</code> at installation time (of the BSP discovery file).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">mill --debug mill.bsp.BSP/install</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_bsp_gotchas_mismatching_jvm_versions"><a class="anchor" href="#_bsp_gotchas_mismatching_jvm_versions"></a>BSP Gotchas: Mismatching JVM versions</h3>
<div class="paragraph">
<p>A common issue for poor performance can be a mismatch of the JVMs.
In such a case the Mill BSP server started by a BSP client like Metals is using a <em>different</em> JVM than <code>mill</code> is using when started from the command line.
In such a scenario, every Mill invocation using the other JVM will inadvertently invalidate Mills  target caches.
This effectively leads to full reevaluation of all invoked Mill targets and appears as "bad performance".</p>
</div>
<div class="paragraph">
<p>To detect if this is the case,</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>import the project in the BSP client.</p>
</li>
<li>
<p>Wait until the BSP import process has finished.</p>
</li>
<li>
<p>Then run <code>mill __.compile</code> in the terminal.</p>
</li>
<li>
<p>Now watch the IDE, to see if the compile command invoked in the terminal has triggered compilation on the build server.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>If this happens, you&#8217;re using different JVMs.
Unfortunately, this is rather difficult to "defend" programmatically in Mill itself.
It is an explicit design goal of Mill, that it should work in different environments.
It is evident and likely unintentional that you have two conflicting local environments.</p>
</div>
<div class="paragraph">
<p>To fix this it&#8217;s required to find where this difference stems from.
As a starting point,</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Find out which JVM is used for Mill on the CLi. <code>mill --version</code> reports its JVM.</p>
</li>
<li>
<p>Search the <code>.bsp/mill-bsp.stderr</code> file for a line starting with <code>"Updating Evaluator"</code>.
It should contain all env variables (particularly <code>JAVA_HOME</code>) used by the BSP server.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Once you found and fixed that and the environments are the same, <code>clean</code> and restarting BSP should work as expected.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_bootstrap_scripts"><a class="anchor" href="#_bootstrap_scripts"></a>Bootstrap Scripts</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Although the Mill example projects come with their own <code>./mill</code> bootstrap script,
you can also download it manually:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">curl -L https://github.com/com-lihaoyi/mill/releases/download/0.11.13/0.11.13 &gt; mill &amp;&amp; chmod +x mill
echo 0.11.13 &gt; .mill-version</code></pre>
</div>
</div>
<div class="paragraph">
<p>Downloading a <code>mill</code> bootstrap script to the root of your project repository helps make it easier for
new contributors to build your project, as they don&#8217;t have to install Mill before they can start.
Anyone who wants to work with the project can simply use the <code>./mill</code> script directly.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./mill --version
./mill __.compile # double underscore</code></pre>
</div>
</div>
<div class="paragraph">
<p>In general, bootstrap scripts are the recommended way of installing Mill.
Similar to <code>./gradlew</code> or <code>./mvnw</code>, the <code>./mill</code> bootstrap script
reduces the chance of errors due to the installed version of Mill
being incompatible with the version expected by your build.
In-project bootstrap scripts are also useful for running Mill in CI/CD, ensuring
that your build server like Jenkins or Github Actions has the correct version of Mill
present to build, compile or test your code.</p>
</div>
<div class="sect2">
<h3 id="_millw"><a class="anchor" href="#_millw"></a><code>millw</code></h3>
<div class="paragraph">
<p>You can also use <a href="https://github.com/lefou/millw">lefou/millw</a> as a drop-in replacement for <code>mill</code>.
This script is a bit more advanced, and supports running on all major platforms including MS Windows.</p>
</div>
<div class="paragraph">
<p>The script supports to following sources when determining the best Mill version to use:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>MILL_VERSION</code> environment variable</p>
</li>
<li>
<p><code>.mill-version</code> file in the project directory</p>
</li>
<li>
<p><code>.config/mill-version</code> file in the project directory</p>
</li>
<li>
<p>if non was defined so far, it can also check for the latest available version online</p>
</li>
<li>
<p><code>DEFAULT_MILL_VERSION</code> environment variable</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Using a system-wide installed <code>millw</code> is probably the robustest way to use Mill on any operating system.
It also preserves support of rather old Mill versions next to recent ones, so that updating it or switching to <code>millw</code> initially should be a no-brainer.</p>
</div>
<div class="paragraph">
<p>You can also install it on Homebrew via <a href="https://github.com/lefou/homebrew-millw">homebrew-millw</a>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh">brew install lefou/millw/millw</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_updating_mill"><a class="anchor" href="#_updating_mill"></a>Updating Mill</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Typically, most Mill projects use a <code>.mill-version</code> file to configure what version
to use. You can update the version specified in this file in order to change the version
of Mill. The file path <code>.config/mill-version</code> is also supported. If neither is provided,
the <code>./mill</code> bootstrap script will use the <code>DEFAULT_MILL_VERSION</code> it has built in.</p>
</div>
<div class="paragraph">
<p>To choose a different Mill version on an ad-hoc basis, e.g. for experimentation, you can pass
in a <code>MILL_VERSION</code> environment variable, e.g.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">MILL_VERSION=0.5.0-3-4faefb mill __.compile</code></pre>
</div>
</div>
<div class="paragraph">
<p>or</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">MILL_VERSION=0.5.0-3-4faefb ./mill __.compile</code></pre>
</div>
</div>
<div class="paragraph">
<p>to override the Mill version manually. This takes precedence over the version
specified in <code>./mill</code>, <code>.config/mill-version</code> or <code>.mill-version</code></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_other_installation_methods"><a class="anchor" href="#_other_installation_methods"></a>Other installation methods</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Of course, you can also use the package manager of your operating system or distribution.
Please keep in mind, that all those solutions listed below are maintained outside of Mill and may not have the same features as the <a href="#_bootstrap_scripts">bootstrap scripts</a>.</p>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
Some of the installations via package managers install a fixed version of Mill and do not support project-specific selection of the preferred Mill version. If you want to use the <code>MILL_VERSION</code> environment variable or need support for <code>.mill-version</code> or <code>.config/mill-version</code> files to control the actual used Mill version, please use a <a href="#_bootstrap_scripts">Bootstrap script</a> instead.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_os_x"><a class="anchor" href="#_os_x"></a>OS X</h3>
<div class="paragraph">
<p>Installation via <a href="https://github.com/Homebrew/homebrew-core/blob/master/Formula/mill.rb">homebrew</a>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh">brew install mill</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_arch_linux"><a class="anchor" href="#_arch_linux"></a>Arch Linux</h3>
<div class="paragraph">
<p>Arch Linux has an <a href="https://archlinux.org/packages/extra/any/mill/">Extra package for mill</a>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">pacman -S mill</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_freebsd"><a class="anchor" href="#_freebsd"></a>FreeBSD</h3>
<div class="paragraph">
<p>Installation via <a href="http://man.freebsd.org/pkg/8">pkg(8)</a>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh">pkg install mill</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_gentoo_linux"><a class="anchor" href="#_gentoo_linux"></a>Gentoo Linux</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh">emerge dev-java/mill-bin</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_windows"><a class="anchor" href="#_windows"></a>Windows</h3>
<div class="paragraph">
<p>To get started, download Mill from
<a href="https://github.com/com-lihaoyi/mill/releases/download/0.11.13/0.11.13-assembly">Github releases</a>, and save it as <code>mill.bat</code>.</p>
</div>
<div class="paragraph">
<p>If you&#8217;re using <a href="https://scoop.sh">Scoop</a> you can install Mill via</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">scoop install mill</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_wsl_msys2_cycgin_git_bash"><a class="anchor" href="#_wsl_msys2_cycgin_git_bash"></a>WSL / MSYS2 / Cycgin / Git-Bash</h3>
<div class="paragraph">
<p>Mill also works on "sh" environments on Windows (e.g.,
<a href="https://www.msys2.org">MSYS2</a>,
<a href="https://www.cygwin.com">Cygwin</a>,
<a href="https://gitforwindows.org">Git-Bash</a>,
<a href="https://docs.microsoft.com/en-us/windows/wsl">WSL</a>); to get started, follow the instructions in the <a href="#_manual">Manual</a>
section. Note that:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>In some environments (such as WSL), Mill might have to be run without a server (using <code>-i</code>, <code>--interactive</code>, or <code>--no-server</code>.)</p>
</li>
<li>
<p>On Cygwin, run the following after downloading mill:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">sed -i '0,/-cp "\$0"/{s/-cp "\$0"/-cp `cygpath -w "\$0"`/}; 0,/-cp "\$0"/{s/-cp "\$0"/-cp `cygpath -w "\$0"`/}' /usr/local/bin/mill</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_docker"><a class="anchor" href="#_docker"></a>Docker</h4>
<div class="paragraph">
<p>You can download and run
a <a href="https://hub.docker.com/r/nightscape/scala-mill/">"Docker image containing OpenJDK, Scala and Mill"</a> using</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">docker pull nightscape/scala-mill
docker run -it nightscape/scala-mill</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_manual"><a class="anchor" href="#_manual"></a>Manual</h3>
<div class="paragraph">
<p>To get started, download Mill and install it into your HOME ".local/bin" via the following
<code>curl</code>/<code>chmod</code> command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">sh -c "curl -L https://github.com/com-lihaoyi/mill/releases/download/0.11.13/0.11.13 &gt; ~/.local/bin/mill &amp;&amp; chmod +x ~/.local/bin/mill"</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_coursier_unsupported"><a class="anchor" href="#_coursier_unsupported"></a>Coursier (unsupported)</h3>
<div class="paragraph">
<p>Installing mill via <code>coursier</code> or <code>cs</code> is currently not officially supported.
There are various issues, especially with interactive mode.</p>
</div>
</div>
<div class="sect2">
<h3 id="_asdf_unsupported"><a class="anchor" href="#_asdf_unsupported"></a>Asdf (unsupported)</h3>
<div class="paragraph">
<p>You can install and manage Mill via the Multiple Runtime Version Manager - <a href="https://asdf-vm.com/"><code>asdf</code></a>.</p>
</div>
<div class="paragraph">
<p>Support by <code>asdf</code> is currently possible by using the <a href="https://github.com/asdf-community/asdf-mill"><code>asdf-mill</code> plugin</a>:</p>
</div>
<div class="listingblock">
<div class="title">Steps to install the <code>mill</code> plugin and Mill with <code>asdf</code></div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">---
asdf plugin add mill
asdf install mill latest
asdf global mill latest
---</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_automatic_mill_updates"><a class="anchor" href="#_automatic_mill_updates"></a>Automatic Mill updates</h3>
<div class="paragraph">
<p>If your project is hosted on GitHub, GitLab, or Bitbucket, you can use
<a href="https://github.com/scala-steward-org/scala-steward">Scala Steward</a> to
automatically open a pull request to update your Mill version (in
<code>.mill-version</code> or <code>.config/mill-version</code> file), whenever there is a newer version available.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Scala Steward can also
<a href="Scala_Module_Config.html#_keeping_up_to_date_with_scala_steward" class="xref page">scan your project dependencies</a>
and keep them up-to-date.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_development_releases"><a class="anchor" href="#_development_releases"></a>Development Releases</h3>
<div class="paragraph">
<p>In case you want to try out the latest features and improvements that are
currently in the main branch, unstable versions of Mill
are
<a href="https://github.com/com-lihaoyi/mill/releases">available</a> as binaries named
<code>#.#.#-n-hash</code> linked to the latest tag.</p>
</div>
<div class="paragraph">
<p>The easiest way to use a development release is to use one of the
<a href="#_bootstrap_scripts">Bootstrap Scripts</a>, which support <a href="#_overriding_mill_versions">[_overriding_mill_versions]</a> via an
<code>MILL_VERSION</code> environment variable or a <code>.mill-version</code> or <code>.config/mill-version</code> file.</p>
</div>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="Java_Intro_to_Mill.html">Introduction to Mill for Java</a></span>
  <span class="next"><a href="Java_Builtin_Commands.html">Built-in Commands</a></span>
</nav>
</article>
  </div>
</main>
</div>
<script id="site-script" src="../../_/js/site.js" data-ui-root-path="../../_"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
<script src="../../_/js/vendor/lunr.js"></script>
<script src="../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../.." data-snippet-length="100" data-stylesheet="../../_/css/search.css"></script>
<script async src="../../search-index.js"></script>
  </body>
</html>
