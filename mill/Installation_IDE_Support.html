<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html lang="en"><head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Installation and IDE Support :: Mill</title>
    <link rel="canonical" href="https://mill-build.com/mill/Installation_IDE_Support.html" />
    <link rel="prev" href="Intro_to_Mill.html" />
    <link rel="next" href="Builtin_Commands.html" />
    <meta name="generator" content="Antora 3.0.1" />
    <link rel="stylesheet" href="../_/css/site.css" />
    <script>var uiRootPath = '../_'</script>
<link rel="icon" href="../_/favicon.png" type="image/x-icon" />
  
  </head><body class="article">
  
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <!-- TODO: add mill icon -->
      <a class="navbar-item" href="https://mill-build.com"><img src="../_/logo-white.svg" height="20" /> Mill</a>
      <div class="navbar-item search">
        <input id="search-input" type="text" placeholder="Search the docs" />
      </div>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="https://github.com/com-lihaoyi/mill">Source Code (GitHub)</a>
        <a class="navbar-item" href="https://mill-build.com/api/latest/index.html">API</a>
        <a class="navbar-item" href="https://github.com/com-lihaoyi/mill/issues">Issues</a>
        <a class="navbar-item" href="https://github.com/com-lihaoyi/mill/discussions">Discuss</a>
        <a class="navbar-item" href="https://gitter.im/lihaoyi/mill">Chat</a>

            <!--
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Documentation</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#"></a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Plugins</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Service A</a>
            <a class="navbar-item" href="#">Service B</a>
            <a class="navbar-item" href="#">Service C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Resources</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Resource A</a>
            <a class="navbar-item" href="#">Resource B</a>
            <a class="navbar-item" href="#">Resource C</a>
          </div>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div>
        -->
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="mill" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
<ul class="nav-list">

  <li class="nav-item is-active" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Quick Start</span>
<ul class="nav-list">

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Intro_to_Mill.html">Introduction to Mill</a>
  </li>

  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="Installation_IDE_Support.html">Installation and IDE Support</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Builtin_Commands.html">Built-in Commands</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Scala_Build_Examples.html">Scala Build Examples</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Scala_Module_Config.html">Scala Module Configuration</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Web_Build_Examples.html">Web Build Examples</a>
  </li>
</ul>
  </li>

  <li class="nav-item is-active" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Mill In Depth</span>
<ul class="nav-list">

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Library_Dependencies.html">Library Dependencies in Mill</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Out_Dir.html">The Output Directory</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Tasks.html">Tasks</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Modules.html">Modules</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Cross_Builds.html">Cross Builds</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Extending_Mill.html">Extending Mill</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="The_Mill_Evaluation_Model.html">The Mill Evaluation Model</a>
  </li>
</ul>
  </li>

  <li class="nav-item is-active" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Mill Plugins</span>
<ul class="nav-list">

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Using_Plugins.html">Using Plugins</a>
  </li>

  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="Contrib_Plugins.html">Contrib Plugins</a>
<ul class="nav-list">

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="contrib/artifactory.html">Artifactory</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="contrib/bintray.html">Bintray</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="contrib/bloop.html">Bloop</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="contrib/buildinfo.html">BuildInfo</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Plugin_BSP.html">BSP - Build Server Protocol</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="contrib/codeartifact.html">Codeartifact</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="contrib/docker.html">Docker</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="contrib/flyway.html">Flyway</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="contrib/gitlab.html">Gitlab</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="contrib/jmh.html">JMH</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="contrib/playlib.html">Play Framework</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="contrib/proguard.html">Proguard</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="contrib/scalapblib.html">ScalaPB</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="contrib/scoverage.html">Scoverage</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="contrib/testng.html">TestNG</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="contrib/twirllib.html">Twirl</a>
  </li>

  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="contrib/versionfile.html">Version file</a>
  </li>
</ul>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Thirdparty_Plugins.html">Third-Party Plugins</a>
  </li>
</ul>
  </li>

  <li class="nav-item is-active" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Reference</span>
<ul class="nav-list">

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Mill_Design_Principles.html">Mill Design Principles</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="External_References.html">External References</a>
  </li>

  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="https://mill-build.com/api/latest/mill/index.html">Mill Scaladoc</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Mill Documentation</span>
    <span class="version">0.11.0-M10-5-bf2699</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="index.html">Mill Documentation</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="index.html">0.11.0-M10-5-bf2699</a>
        </li>
        <li class="version">
          <a href="0.11.0-M7/index.html">0.11.0-M7</a>
        </li>
        <li class="version">
          <a href="0.10.12/index.html">0.10.12</a>
        </li>
        <li class="version">
          <a href="0.10.0/index.html">0.10.0</a>
        </li>
        <li class="version">
          <a href="0.9.12/index.html">0.9.12</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="Intro_to_Mill.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">Mill Documentation</a></li>
    <li>Quick Start</li>
    <li><a href="Installation_IDE_Support.html">Installation and IDE Support</a></li>
  </ul>
</nav>
<div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">0.11.0-M10-5-bf2699</button>
  <div class="version-menu">
    <a class="version is-current" href="Installation_IDE_Support.html">0.11.0-M10-5-bf2699</a>
    <a class="version" href="0.11.0-M7/Installation.html">0.11.0-M7</a>
    <a class="version" href="0.10.12/Installation.html">0.10.12</a>
    <a class="version is-missing" href="0.10.0/index.html">0.10.0</a>
    <a class="version is-missing" href="0.9.12/index.html">0.9.12</a>
  </div>
</div>
  <div class="edit-this-page"><a href="https://github.com/com-lihaoyi/mill/edit/main/out/docs/source.dest/modules/ROOT/pages/Installation_IDE_Support.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Installation and IDE Support</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>The best method of installing Mill is to just install a bootstrap script.
This script can determine the best version to be used by a project (e.g. by
reading a <code>.mill-version</code> file) and will use this exact Mill version.
If that version is not installed locally, it will be downloaded automatically.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_bootstrap_scripts"><a class="anchor" href="#_bootstrap_scripts"></a>Bootstrap Scripts</h2>
<div class="sectionbody">
<div class="paragraph">
<p>There are currently two bootstrap script available, one
<a href="#_mills_bootstrap_script_linuxos_x_only">in the Mill repository</a>, which only
work for Linux and Unix-like machines, and one <a href="#_millw">external <code>millw</code> script</a>,
with more features and also Windows support.</p>
</div>
<div class="paragraph">
<p>Using <code>millw</code> is recommended.</p>
</div>
<div class="paragraph">
<p>We plan to merge both script in the future.</p>
</div>
<div class="sect2">
<h3 id="_mills_bootstrap_script_linuxos_x_only"><a class="anchor" href="#_mills_bootstrap_script_linuxos_x_only"></a>Mill’s Bootstrap Script (Linux/OS-X Only)</h3>
<div class="paragraph">
<p>If you are using Mill in a codebase, you can commit the bootstrap launcher as a
<code>./mill</code> script in the project folder:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">curl -L https://github.com/com-lihaoyi/mill/releases/download/0.11.0-M10/0.11.0-M10-5-bf2699 &gt; mill &amp;&amp; chmod +x mill</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now, anyone who wants to work with the project can simply use the <code>./mill</code>
script directly:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./mill version
./mill __.compile # double underscore</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>mill</code> command will automatically use the version specified by the
bootstrap script, even if you installed it via other means. The <code>./mill</code> file
has a version number embedded within it, which you can update simply by editing
the script. Bootstrap scripts are also useful for running Mill in CI, ensuring
that your Jenkins/Travis/etc. box has the correct version of Mill present to
build/compile/test your code.</p>
</div>
<div class="paragraph">
<p>In general, bootstrap scripts are the recommended way of installing Mill
because they reduce the chance of errors due to the installed version of Mill
being incompatible with the version expected by your build.</p>
</div>
</div>
<div class="sect2">
<h3 id="_millw"><a class="anchor" href="#_millw"></a>millw</h3>
<div class="paragraph">
<p>Instead of installing Mill directly, you can also use
<a href="https://github.com/lefou/millw">lefou/millw</a> as drop-in replacement for <code>mill</code>.
It provides a small shell script and also a Windows batch file, that
transparently downloads <code>mill</code> and executes it on your behalf. It respects
various ways to configure the preferred Mill version (<code>MILL_VERSION</code> env var,
<code>.mill-version</code> file, <code>--mill-version</code> option) and can also be used as a
bootstrap script in your project.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_installing_mill_globally"><a class="anchor" href="#_installing_mill_globally"></a>Installing Mill Globally</h2>
<div class="sectionbody">
<div class="paragraph">
<p>While the <a href="#_bootstrap_scripts">Bootstrap Scripts</a> approach above is the recommended way of
installing Mill for a project, you can also install Mill globally in your
operating system using the commands shown below.</p>
</div>
<div class="sect2">
<h3 id="_os_x"><a class="anchor" href="#_os_x"></a>OS X</h3>
<div class="paragraph">
<p>Installation via <a href="https://github.com/Homebrew/homebrew-core/blob/master/Formula/mill.rb">homebrew</a>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh">brew install mill</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_arch_linux"><a class="anchor" href="#_arch_linux"></a>Arch Linux</h3>
<div class="paragraph">
<p>Arch Linux has a <a href="https://www.archlinux.org/packages/community/any/mill/">Community package for mill</a>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">pacman -S mill</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_freebsd"><a class="anchor" href="#_freebsd"></a>FreeBSD</h3>
<div class="paragraph">
<p>Installation via <a href="http://man.freebsd.org/pkg/8">pkg(8)</a>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh">pkg install mill</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_gentoo_linux"><a class="anchor" href="#_gentoo_linux"></a>Gentoo Linux</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh">emerge dev-java/mill-bin</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_windows"><a class="anchor" href="#_windows"></a>Windows</h3>
<div class="paragraph">
<p>To get started, download Mill from
<a href="https://github.com/com-lihaoyi/mill/releases/download/0.11.0-M10/0.11.0-M10-assembly">Github releases</a>, and save it as <code>mill.bat</code>.</p>
</div>
<div class="paragraph">
<p>If you’re using <a href="https://scoop.sh">Scoop</a> you can install Mill via</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">scoop install mill</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_wsl_msys2_cycgin_git_bash"><a class="anchor" href="#_wsl_msys2_cycgin_git_bash"></a>WSL / MSYS2 / Cycgin / Git-Bash</h3>
<div class="paragraph">
<p>Mill also works on &quot;sh&quot; environments on Windows (e.g.,
<a href="https://www.msys2.org">MSYS2</a>,
<a href="https://www.cygwin.com">Cygwin</a>,
<a href="https://gitforwindows.org">Git-Bash</a>,
<a href="https://docs.microsoft.com/en-us/windows/wsl">WSL</a>); to get started, follow the instructions in the <a href="#_manual">Manual</a>
section. Note that:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>In some environments (such as WSL), Mill might have to be run without a server (using <code>-i</code>, <code>--interactive</code>, <code>--no-server</code>, or <code>--repl</code>.)</p>
</li>
<li>
<p>On Cygwin, run the following after downloading mill:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">sed -i '0,/-cp &quot;\$0&quot;/{s/-cp &quot;\$0&quot;/-cp `cygpath -w &quot;\$0&quot;`/}; 0,/-cp &quot;\$0&quot;/{s/-cp &quot;\$0&quot;/-cp `cygpath -w &quot;\$0&quot;`/}' /usr/local/bin/mill</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_docker"><a class="anchor" href="#_docker"></a>Docker</h3>
<div class="paragraph">
<p>You can download and run
a <a href="https://hub.docker.com/r/nightscape/scala-mill/">&quot;Docker image containing OpenJDK, Scala and Mill&quot;</a> using</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">docker pull nightscape/scala-mill
docker run -it nightscape/scala-mill</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_manual"><a class="anchor" href="#_manual"></a>Manual</h3>
<div class="paragraph">
<p>To get started, download Mill and install it into your HOME &quot;.local/bin&quot; via the following
<code>curl</code>/<code>chmod</code> command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">sh -c &quot;curl -L https://github.com/com-lihaoyi/mill/releases/download/0.11.0-M10/0.11.0-M10 &gt; ~/.local/bin/mill &amp;&amp; chmod +x ~/.local/bin/mill&quot;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_coursier_unsupported"><a class="anchor" href="#_coursier_unsupported"></a>Coursier (unsupported)</h3>
<div class="paragraph">
<p>Installing mill via <code>coursier</code> or <code>cs</code> is currently not officially supported.
There are various issues, especially with interactive mode.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ide_support"><a class="anchor" href="#_ide_support"></a>IDE Support</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To support various IDEs and Language Servers, Mill supports the
<a href="https://build-server-protocol.github.io/">Build Server Protocol</a> in version
2.1.0-M4 and has a <a href="#_build_server_protocol_bsp">built-in BSP server</a>.</p>
</div>
<div class="paragraph">
<p>In addition to BSP, Mill also supports
<a href="#_intellij_idea_support">IntelliJ IDEA project configuration generation</a>
directly.</p>
</div>
<div class="sect2">
<h3 id="_build_server_protocol_bsp"><a class="anchor" href="#_build_server_protocol_bsp"></a>Build Server Protocol (BSP)</h3>
<div class="paragraph">
<p>The Build Server Protocol has the concept of BSP server discovery, which means:
A BSP client can connect to any BSP server, as long as there is a connection
file under the <code>.bsp/</code> directory.</p>
</div>
<div class="paragraph">
<p>To install a BSP connection file <code>.bsp/mill-bsp.json</code> for Mill, run:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">mill mill.bsp.BSP/install</code></pre>
</div>
</div>
<div class="paragraph">
<p>Working known clients of the BSP server are IntelliJ IDEA and <a href="https://scalameta.org/metals/">Metals</a>.</p>
</div>
<div class="paragraph">
<p>You can fine control some BSP server options by specifying command options:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;" />
<col style="width: 50%;" />
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Option</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--jobs</code> <code>n</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Use <code>n</code> threads in parallel to run tasks. A value of <code>0</code> means
to use as many threads as the system has cpu cores.</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p><strong>Using Metals</strong></p>
</div>
<div class="paragraph">
<p>When using Metals by default Bloop will be used as your build server unless
you explicitly choose Mill. When in a Mill workspace use the &quot;Switch Build
Server&quot; command from Metals which will allow you to switch to using Mill as
your build server. If no <code>.bsp/mill-bsp.json</code> file exists, Metals will
automatically create it for you and then connect to Mill.</p>
</div>
<div class="paragraph">
<p>Metals is relying on SemanticDB to enable many of its features.
Mill BSP now also supports to provide this SemanticDB data, when the BSP client
(like Metals) requests it.</p>
</div>
<div class="paragraph">
<p>As of writing this, Metals 0.11.8 is the latest available version, which is not
able to detect the fact, that Mill <em>is</em> already providing SemanticDB data. As a
consequence, it reports missing SemanticDB data, although some SemanticDB-based
features are already working. This may be fixed eventually in a future release of Metals.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="admonitionblock caution">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
<div class="paragraph">
<p><strong>Updating older setups</strong></p>
</div>
<div class="paragraph">
<p>In the past, we provided SemanticDB support via <code>mill.scalalib.bsp.ScalaMetalsSupport</code>
trait, which had to be mixed-in to your Scala modules. This is no longer needed and
deprecated. You should remove these mix-ins.
<code>ScalaMetalsSupport</code> trait is now deprecated and will be removed in the future.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect2">
<h3 id="_if_things_go_wrong"><a class="anchor" href="#_if_things_go_wrong"></a>If things go wrong</h3>
<div class="paragraph">
<p>In case things go wrong, it can be sometimes hard to find the cause.
BSP is just a protocol, and as such, issues on the server side (the Mill BSP
server) might not well propagated to the BSP client (your IDE).</p>
</div>
<div class="paragraph">
<p>For that reason Mill BSP server is writing a log file under
<code>.bsp/mill-bsp.stderr</code>, where you can find various information about what’s
going on. Its content should look familiar, as it contains regular Mill
output accompanied by additional BSP client-server communication details.</p>
</div>
<div class="paragraph">
<p>You can increase the verbosity of that log file, when you run Mill with
<code>--debug</code> at installation time (of the BSP discovery file).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">mill --debug mill.bsp.BSP/install</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_using_bloop_standalone_bsp_server"><a class="anchor" href="#_using_bloop_standalone_bsp_server"></a>Using Bloop (standalone BSP server)</h3>
<div class="paragraph">
<p>If you wish to use Bloop as your build server (it is the default metals BSP
implementation) with metals / vscode, consider using the mill bloop plugin.</p>
</div>
<div class="paragraph">
<p><a href="contrib/bloop.html" class="xref page">Bloop Plugin</a></p>
</div>
<div class="paragraph">
<p>This is preferred to the instructions (currently) on the bloop website.</p>
</div>
<div class="paragraph">
<p>Please be aware, that the Bloop contrib plugin is maintained by the community
and is probably not on a par with the built-in BSP server.</p>
</div>
</div>
<div class="sect2">
<h3 id="_intellij_idea_support"><a class="anchor" href="#_intellij_idea_support"></a>IntelliJ IDEA Support</h3>
<div class="paragraph">
<p>IntelliJ IDEA also supports the BSP protocol. To use this support, just follow
the directions in <a href="#_build_server_protocol_bsp">Build Server Protocol (BSP)</a>.</p>
</div>
<div class="paragraph">
<p>Additionally, you can generate IDEA project files directly with Mill.
This is probably the preferred way if you work on polyglot projects and need
support for other languages like Kotlin or AspectJ, which are currently not
specifically configured over BSP.</p>
</div>
<div class="paragraph">
<p>To generate IntelliJ IDEA project files into <code>.idea/</code>, run:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">mill mill.scalalib.GenIdea/idea</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_updating_mill"><a class="anchor" href="#_updating_mill"></a>Updating Mill</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you have installed Mill via the recommended <a href="#_bootstrap_scripts"><code>Bootstrap Script</code></a>
method, you don’t need to install multiple version of Mill explicitly.</p>
</div>
<div class="paragraph">
<p>Follow the next <a href="#_overriding_mill_versions">Overriding Mill Versions</a> section for details.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_overriding_mill_versions"><a class="anchor" href="#_overriding_mill_versions"></a>Overriding Mill Versions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Apart from downloading and installing new versions of Mill globally, there are
a few ways of selecting/updating your Mill version. This will only work, if you
have choosen one of the <a href="#_bootstrap_scripts">Boostrap script methods</a>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Create a <code>.mill-version</code> file to specify the version of Mill you wish to use:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>echo &quot;0.5.0&quot; &gt; .mill-version</pre>
</div>
</div>
<div class="paragraph">
<p><code>.mill-version</code> takes precedence over the version of Mill specified in the
<code>./mill</code> script.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Pass in a <code>MILL_VERSION</code> environment variable, e.g.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>MILL_VERSION=0.5.0-3-4faefb mill __.compile</pre>
</div>
</div>
<div class="paragraph">
<p>or</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">MILL_VERSION=0.5.0-3-4faefb ./mill __.compile</code></pre>
</div>
</div>
<div class="paragraph">
<p>to override the Mill version manually. This takes precedence over the version
specified in <code>./mill</code> or <code>.mill-version</code></p>
</div>
<div class="sect2">
<h3 id="_automatic_mill_updates"><a class="anchor" href="#_automatic_mill_updates"></a>Automatic Mill updates</h3>
<div class="paragraph">
<p>If your project is hosted on GitHub, GitLab, or Bitbucket, you can use
<a href="https://github.com/scala-steward-org/scala-steward">Scala Steward</a> to
automatically open a pull request to update your Mill version (in
<code>.mill-version</code> file), whenever there is a newer version available.</p>
</div>
<div class="admonitionblock tip">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Scala Steward can also
<a href="#Configuration.adoc#_keeping_up_to_date_with_scala_steward" class="xref unresolved">scan your project dependencies</a>
and keep them up-to-date.
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect2">
<h3 id="_development_releases"><a class="anchor" href="#_development_releases"></a>Development Releases</h3>
<div class="paragraph">
<p>In case you want to try out the latest features and improvements that are
currently in the main branch, unstable versions of Mill
are
<a href="https://github.com/com-lihaoyi/mill/releases">available</a> as binaries named
<code>#.#.#-n-hash</code> linked to the latest tag.</p>
</div>
<div class="paragraph">
<p>The easiest way to use a development release is to use one of the
<a href="#_bootstrap_scripts">Bootstrap Scripts</a>, which support <a href="#_overriding_mill_versions">Overriding Mill Versions</a> via an
<code>MILL_VERSION</code> environment variable or a <code>.mill-version</code> file.</p>
</div>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="Intro_to_Mill.html">Introduction to Mill</a></span>
  <span class="next"><a href="Builtin_Commands.html">Built-in Commands</a></span>
</nav>
</article>
  </div>
</main>
</div>
<script id="site-script" src="../_/js/site.js" data-ui-root-path="../_"></script>
<script async="async" src="../_/js/vendor/highlight.js"></script>
<script src="../_/js/vendor/lunr.js"></script>
<script src="../_/js/search-ui.js" id="search-ui-script" data-site-root-path=".." data-snippet-length="100" data-stylesheet="../_/css/search.css"></script>
<script async="async" src="../search-index.js"></script>
  
</body></html>