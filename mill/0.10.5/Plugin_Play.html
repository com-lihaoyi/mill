<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html lang="en"><head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Play Framework :: Mill</title>
    <link rel="canonical" href="https://com-lihaoyi.github.io/mill/mill/Plugin_Play.html" />
    <link rel="prev" href="Plugin_Flyway.html" />
    <link rel="next" href="Plugin_Proguard.html" />
    <meta name="generator" content="Antora 3.0.1" />
    <link rel="stylesheet" href="../../_/css/site.css" />
    <script>var uiRootPath = '../../_'</script>
  
  </head><body class="article">
  
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <!-- TODO: add mill icon -->
      <a class="navbar-item" href="https://com-lihaoyi.github.io/mill"><img src="../../_/logo-white.svg" height="20" /> Mill</a>
      <div class="navbar-item search">
        <input id="search-input" type="text" placeholder="Search the docs" />
      </div>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="https://github.com/com-lihaoyi/mill">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
        <a class="navbar-link" href="#">Plugins</a>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Community</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://github.com/com-lihaoyi/mill">Source Code (GitHub)</a>
            <a class="navbar-item" href="https://github.com/com-lihaoyi/mill/issues">Issue Tracker (GitHub)</a>
            <a class="navbar-item" href="https://gitter.im/lihaoyi/mill">Chat (Gitter)</a>
            <a class="navbar-item" href="https://github.com/com-lihaoyi/mill/discussions">Discuss (GitHub)</a>
          </div>
        </div>

            <!--
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Documentation</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#"></a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Plugins</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Service A</a>
            <a class="navbar-item" href="#">Service B</a>
            <a class="navbar-item" href="#">Service C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Resources</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Resource A</a>
            <a class="navbar-item" href="#">Resource B</a>
            <a class="navbar-item" href="#">Resource C</a>
          </div>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div>
        -->
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="mill" data-version="0.10.5">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="index.html">Mill Documentation</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Intro_to_Mill.html">Introduction to Mill</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Configuring_Mill.html">Configuring Mill</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Common_Project_Layouts.html">Common Project Layouts</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="Tasks.html">Tasks</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Task_Context_API.html">Task Context API</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Modules.html">Modules</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Cross_Builds.html">Cross Builds</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Extending_Mill.html">Extending Mill</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Mill_Internals.html">Mill Internals</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="Contrib_Plugins.html">Contrib Plugins</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Plugin_Artifactory.html">Artifactory</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Plugin_Bintray.html">Bintray</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Plugin_Bloop.html">Bloop</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Plugin_BuildInfo.html">BuildInfo</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Plugin_BSP.html">BSP - Build Server Protocol</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Plugin_Codeartifact.html">Codeartifact</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Plugin_Docker.html">Docker</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Plugin_Flyway.html">Flyway</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="Plugin_Play.html">Play Framework</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Plugin_Proguard.html">Proguard</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Plugin_ScalaPB.html">ScalaPB</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Plugin_Scoverage.html">Scoverage</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="TestNG_TestFramework.html">TestNG</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Plugin_Twirl.html">Twirl</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Plugin_VersionFile.html">Version file</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Thirdparty_Plugins.html">Thirdparty Plugins</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="External_References.html">External References</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="External_References.html#_ammonite">Ammonite</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="External_References.html#_coursier">Coursier</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="External_References.html#_os_lib">OS-Lib</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Mill Documentation</span>
    <span class="version">0.10.5</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="../index.html">Mill Documentation</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../index.html">0.10.5-72-60298b</a>
        </li>
        <li class="version is-current">
          <a href="index.html">0.10.5</a>
        </li>
        <li class="version">
          <a href="../0.10.4/index.html">0.10.4</a>
        </li>
        <li class="version">
          <a href="../0.10.3/index.html">0.10.3</a>
        </li>
        <li class="version">
          <a href="../0.10.2/index.html">0.10.2</a>
        </li>
        <li class="version">
          <a href="../0.10.1/index.html">0.10.1</a>
        </li>
        <li class="version">
          <a href="../0.10.0/index.html">0.10.0</a>
        </li>
        <li class="version">
          <a href="../0.9.12/index.html">0.9.12</a>
        </li>
        <li class="version">
          <a href="../0.9.11/index.html">0.9.11</a>
        </li>
        <li class="version">
          <a href="../0.9.10/index.html">0.9.10</a>
        </li>
        <li class="version">
          <a href="../0.9.9/index.html">0.9.9</a>
        </li>
        <li class="version">
          <a href="../0.9.8/index.html">0.9.8</a>
        </li>
        <li class="version">
          <a href="../0.9.7/index.html">0.9.7</a>
        </li>
        <li class="version">
          <a href="../0.9.6/index.html">0.9.6</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../Intro_to_Mill.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">Mill Documentation</a></li>
    <li><a href="Contrib_Plugins.html">Contrib Plugins</a></li>
    <li><a href="Plugin_Play.html">Play Framework</a></li>
  </ul>
</nav>
<div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">0.10.5</button>
  <div class="version-menu">
    <a class="version" href="../Plugin_Play.html">0.10.5-72-60298b</a>
    <a class="version is-current" href="Plugin_Play.html">0.10.5</a>
    <a class="version" href="../0.10.4/Plugin_Play.html">0.10.4</a>
    <a class="version" href="../0.10.3/Plugin_Play.html">0.10.3</a>
    <a class="version" href="../0.10.2/Plugin_Play.html">0.10.2</a>
    <a class="version is-missing" href="../0.10.1/index.html">0.10.1</a>
    <a class="version is-missing" href="../0.10.0/index.html">0.10.0</a>
    <a class="version is-missing" href="../0.9.12/index.html">0.9.12</a>
    <a class="version is-missing" href="../0.9.11/index.html">0.9.11</a>
    <a class="version is-missing" href="../0.9.10/index.html">0.9.10</a>
    <a class="version is-missing" href="../0.9.9/index.html">0.9.9</a>
    <a class="version is-missing" href="../0.9.8/index.html">0.9.8</a>
    <a class="version is-missing" href="../0.9.7/index.html">0.9.7</a>
    <a class="version is-missing" href="../0.9.6/index.html">0.9.6</a>
  </div>
</div>
  <div class="edit-this-page"><a href="https://github.com/com-lihaoyi/mill/blob/0.10.5/docs/antora/modules/ROOT/pages/Plugin_Play.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Play Framework</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>This module adds basic Play Framework support to mill:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>configures mill for Play default directory layout,</p>
</li>
<li>
<p>integrates the Play routes compiler,</p>
</li>
<li>
<p>provides helpers for commonly used framework libraries,</p>
</li>
<li>
<p>optionally: integrates the Twirl template engine,</p>
</li>
<li>
<p>optionally: configures mill for single module play applications.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>There is no specific Play Java support, building a Play Java application will require a bit
of customization (mostly adding the proper dependencies).</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_using_the_plugin"><a class="anchor" href="#_using_the_plugin"></a>Using the plugin</h2>
<div class="sectionbody">
<div class="paragraph">
<p>There are 2 base modules and 2 helper traits in this plugin, all of which can be found
in <code>mill.playlib</code>.</p>
</div>
<div class="paragraph">
<p>The base modules:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>PlayModule</code> applies the default Play configuration (layout, dependencies, routes compilation,
Twirl compilation and Akka HTTP server)</p>
</li>
<li>
<p><code>PlayApiModule</code> applies the default Play configuration without <code>Twirl</code> templating. This is useful
if your Play app is a pure API server or if you want to use a different templating engine.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The two helper traits:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>SingleModule</code> can be useful to configure mill for a single module Play application such as the
<a href="https://github.com/playframework/play-scala-seed.g8">play-scala-seed project</a>. Mill is
multi-module by default and requires a bit more configuration to have source, resource, and test
directories at the top level alongside the <code>build.sc</code> file. This trait takes care of that (See
<a href="#_using_singlemodule">Using <code>SingleModule</code></a> below).</p>
</li>
<li>
<p><code>RouterModule</code> allows you to use the Play router without the rest of the configuration (see
<a href="#_using_the_router_module_directly">Using the router module directly</a>.)</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_using_playmodule"><a class="anchor" href="#_using_playmodule"></a>Using <code>PlayModule</code></h2>
<div class="sectionbody">
<div class="paragraph">
<p>In order to use the <code>PlayModule</code> for your application, you need to provide the scala, Play and
Twirl versions. You also need to define your own test object which extends the provided
<code>PlayTests</code> trait.</p>
</div>
<div class="listingblock">
<div class="title"><code>build.sc</code></div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-scala hljs" data-lang="scala">import mill._
import $ivy.`com.lihaoyi::mill-contrib-playlib:`,  mill.playlib._

object core extends PlayModule {
    //config
    override def scalaVersion= T{&quot;2.12.8&quot;}
    override def playVersion= T{&quot;2.7.0&quot;}
    override def twirlVersion= T{&quot;1.4.0&quot;}

    object test extends PlayTests
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Using the above definition, your build will be configured to use the default Play layout:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-text hljs" data-lang="text">.
├── build.sc
└── core
    ├── app
    │&nbsp;&nbsp; ├── controllers
    │&nbsp;&nbsp; └── views
    ├── conf
    │&nbsp;&nbsp; └── application.conf
    │&nbsp;&nbsp; └── routes
    │&nbsp;&nbsp; └── ...
    ├── logs
    ├── public
    │&nbsp;&nbsp; ├── images
    │&nbsp;&nbsp; ├── javascripts
    │&nbsp;&nbsp; └── stylesheets
    └── test
        └── controllers</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following compile dependencies will automatically be added to your build:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-scala hljs" data-lang="scala">Agg(
  ivy&quot;com.typesafe.play::play:${playVersion()}&quot;,
  ivy&quot;com.typesafe.play::play-guice:${playVersion()}&quot;,
  ivy&quot;com.typesafe.play::play-server:${playVersion()}&quot;,
  ivy&quot;com.typesafe.play::play-logback:${playVersion()}&quot;
)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Scala test will be setup as the default test framework and the following test dependencies will be
added (the actual version depends on the version of Play you are pulling <code>2.6.x</code> or <code>2.7.x</code>):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-scala hljs" data-lang="scala">ivy&quot;org.scalatestplus.play::scalatestplus-play::4.0.1&quot;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In order to have a working <code>start</code> command the following runtime dependency is also added:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>ivy&quot;com.typesafe.play::play-akka-http-server:${playVersion()}&quot;</pre>
</div>
</div>
<div class="sect2">
<h3 id="_using_playapimodule"><a class="anchor" href="#_using_playapimodule"></a>Using <code>PlayApiModule</code></h3>
<div class="paragraph">
<p>The <code>PlayApiModule</code> trait behaves the same as the <code>PlayModule</code> trait but it won’t process .scala
.html files and you don’t need to define the `twirlVersion:</p>
</div>
<div class="listingblock">
<div class="title"><code>build.sc</code></div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-scala hljs" data-lang="scala">import mill._
import $ivy.`com.lihaoyi::mill-contrib-playlib:$MILL_VERSION`,  mill.playlib._

object core extends PlayApiModule {
    //config
    override def scalaVersion= T{&quot;2.12.8&quot;}
    override def playVersion= T{&quot;2.7.0&quot;}

    object test extends PlayTests
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_play_configuration_options"><a class="anchor" href="#_play_configuration_options"></a>Play configuration options</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Play modules themselves don’t have specific configuration options at this point but the <a href="#router-configuration-options">router
module configuration options</a> and the <a href="#_twirl_configuration_options">[_twirl_configuration_options]</a> are applicable.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_additional_play_libraries"><a class="anchor" href="#_additional_play_libraries"></a>Additional play libraries</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following helpers are available to provide additional Play Framework dependencies:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>core()</code> - added by default ,</p>
</li>
<li>
<p><code>guice()</code> - added by default,</p>
</li>
<li>
<p><code>server()</code> - added by default,</p>
</li>
<li>
<p><code>logback()</code> - added by default,</p>
</li>
<li>
<p><code>evolutions()</code> - optional,</p>
</li>
<li>
<p><code>jdbc()</code> - optional,</p>
</li>
<li>
<p><code>filters()</code> - optional,</p>
</li>
<li>
<p><code>ws()</code> - optional,</p>
</li>
<li>
<p><code>caffeine()</code> - optional.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If you want to add an optional library using the helper you can do so by overriding <code>ivyDeps</code>
like in the following example build:</p>
</div>
<div class="listingblock">
<div class="title"><code>build.sc</code></div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-scala hljs" data-lang="scala">import mill._
import $ivy.`com.lihaoyi::mill-contrib-playlib:$MILL_VERSION`, mill.playlib._

object core extends PlayApiModule {
    //config
    override def scalaVersion= T{&quot;2.12.8&quot;}
    override def playVersion= T{&quot;2.7.0&quot;}

    object test extends PlayTests

    override def ivyDeps = T{ super.ivyDeps() ++ Agg(ws(), filters()) }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_commands_equivalence"><a class="anchor" href="#_commands_equivalence"></a>Commands equivalence</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Mill commands are targets on a named build. For example if your build is called <code>core</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>compile: <code>core.compile</code></p>
</li>
<li>
<p>run: <em>NOT Implemented yet</em>. It can be approximated with <code>mill -w core.runBackground</code> but this
starts a server in <em>PROD</em> mode which:</p>
</li>
<li>
<p>doesn’t do any kind of classloading magic (meaning potentially slower restarts)</p>
</li>
<li>
<p>returns less detailed error messages (no source code extract and line numbers)</p>
</li>
<li>
<p>can sometimes fail because of a leftover RUNNING_PID file</p>
</li>
<li>
<p>start: <code>core.start</code> or <code>core.run</code> both start the server in <em>PROD</em> mode.</p>
</li>
<li>
<p>test: <code>core.test</code></p>
</li>
<li>
<p>dist: <em>NOT Implemented yet</em>. However you can use the equivalent <code>core.assembly</code>
command to get a runnable fat jar of the project. The packaging is slightly different but should
be find for a production deployment.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_using_singlemodule"><a class="anchor" href="#_using_singlemodule"></a>Using <code>SingleModule</code></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>SingleModule</code> trait allows you to have the build descriptor at the same level as the source
code on the filesystem. You can move from there to a multi-module build either by refactoring
your directory layout into multiple subdirectories or by using mill’s nested modules feature.</p>
</div>
<div class="paragraph">
<p>Looking back at the sample build definition in <a href="#_using_playmodule">Using <code>PlayModule</code></a>:</p>
</div>
<div class="listingblock">
<div class="title"><code>build.sc</code></div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-scala hljs" data-lang="scala">import mill._
import $ivy.`com.lihaoyi::mill-contrib-playlib:$MILL_VERSION`, mill.playlib._

object core extends PlayModule {
    //config
    override def scalaVersion= T{&quot;2.12.8&quot;}
    override def playVersion= T{&quot;2.7.0&quot;}
    override def twirlVersion= T{&quot;1.4.0&quot;}

    object test extends PlayTests
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The directory layout was:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-text hljs" data-lang="text">.
├── build.sc
└── core
    ├── app
    │&nbsp;&nbsp; ├── controllers
    │&nbsp;&nbsp; └── views
    ├── conf
    │&nbsp;&nbsp; └── application.conf
    │&nbsp;&nbsp; └── routes
    │&nbsp;&nbsp; └── ...
    ├── logs
    ├── public
    │&nbsp;&nbsp; ├── images
    │&nbsp;&nbsp; ├── javascripts
    │&nbsp;&nbsp; └── stylesheets
    └── test
        └── controllers</code></pre>
</div>
</div>
<div class="paragraph">
<p>by mixing in the <code>SingleModule</code> trait in your build:</p>
</div>
<div class="listingblock">
<div class="title"><code>build.sc</code></div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-scala hljs" data-lang="scala">import mill._
import $ivy.`com.lihaoyi::mill-contrib-playlib:`,  mill.playlib._

object core extends PlayModule with SingleModule {
 //config
 override def scalaVersion= T{&quot;2.12.8&quot;}
 override def playVersion= T{&quot;2.7.0&quot;}
 override def twirlVersion= T{&quot;1.4.0&quot;}

 object test extends PlayTests
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>the layout becomes:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-text hljs" data-lang="text">.
└── core
    ├── build.sc
    ├── app
    │&nbsp;&nbsp; ├── controllers
    │&nbsp;&nbsp; └── views
    ├── conf
    │&nbsp;&nbsp; └── application.conf
    │&nbsp;&nbsp; └── routes
    │&nbsp;&nbsp; └── ...
    ├── logs
    ├── public
    │&nbsp;&nbsp; ├── images
    │&nbsp;&nbsp; ├── javascripts
    │&nbsp;&nbsp; └── stylesheets
    └── test
        └── controllers</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="_using_the_router_module_directly"><a class="anchor" href="#_using_the_router_module_directly"></a>Using the router module directly</h3>
<div class="paragraph">
<p>If you want to use the router module in a project which doesn’t use the default Play layout, you
can mix-in the <code>mill.playlib.routesModule</code> trait directly when defining your module. Your app must
define <code>playVersion</code> and <code>scalaVersion</code>.</p>
</div>
<div class="listingblock">
<div class="title"><code>build.sc</code></div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-scala hljs" data-lang="scala">import mill._
import $ivy.`com.lihaoyi::mill-contrib-playlib:`,  mill.playlib._

object app extends ScalaModule with RouterModule {
  def playVersion= T{&quot;2.7.0&quot;}
  def scalaVersion= T{&quot;2.12.8&quot;}
}</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_router_configuration_options"><a class="anchor" href="#_router_configuration_options"></a>Router Configuration options</h4>
<div class="ulist">
<ul>
<li>
<p><code>def playVersion: T[String]</code> (mandatory) - The version of Play to use to compile the routes file.</p>
</li>
<li>
<p><code>def scalaVersion: T[String]</code> - The scalaVersion in use in your project.</p>
</li>
<li>
<p><code>def routes: Sources</code> - The directory which contains your route files. (Defaults to : <code>routes/</code>)</p>
</li>
<li>
<p><code>def routesAdditionalImport: Seq[String]</code> - Additional imports to use in the generated routers.
(Defaults to <code>Seq(&quot;controllers.Assets.Asset&quot;, &quot;play.libs.F&quot;)</code></p>
</li>
<li>
<p><code>def generateForwardsRouter: Boolean = true</code> - Enables the forward router generation.</p>
</li>
<li>
<p><code>def generateReverseRouter: Boolean = true</code> - Enables the reverse router generation.</p>
</li>
<li>
<p><code>def namespaceReverseRouter: Boolean = false</code> - Enables the namespacing of reverse routers.</p>
</li>
<li>
<p><code>def generatorType: RouteCompilerType = RouteCompilerType.InjectedGenerator</code> - The routes
compiler type, one of RouteCompilerType.InjectedGenerator or RouteCompilerType.StaticGenerator</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_details"><a class="anchor" href="#_details"></a>Details</h4>
<div class="paragraph">
<p>The following filesystem layout is expected by default:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-text hljs" data-lang="text">.
├── app
│&nbsp;&nbsp; └── routes
│&nbsp;&nbsp;     └── routes
└── build.sc</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>RouterModule</code> adds the <code>compileRouter</code> task to the module:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ mill app.compileRouter</code></pre>
</div>
</div>
<div class="paragraph">
<p>(it will be automatically run whenever you compile your module)</p>
</div>
<div class="paragraph">
<p>This task will compile <code>routes</code> templates into the <code>out/app/compileRouter/dest</code>
directory. This directory must be added to the generated sources of the module to be compiled and
made accessible from the rest of the code. This is done by default in the trait, but if you need
to have a custom override for <code>generatedSources</code> you can get the list of files from <code>routerClasses</code></p>
</div>
<div class="paragraph">
<p>To add additional imports to all of the routes:</p>
</div>
<div class="listingblock">
<div class="title"><code>build.sc</code></div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-scala hljs" data-lang="scala">import mill.scalalib._

import $ivy.`com.lihaoyi::mill-contrib-playlib:$MILL_VERSION`,  mill.playlib._

object app extends ScalaModule with RouterModule {
  def playVersion = &quot;2.7.0&quot;
  override def routesAdditionalImport = Seq(&quot;my.additional.stuff._&quot;, &quot;my.other.stuff._&quot;)
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="Plugin_Flyway.html">Flyway</a></span>
  <span class="next"><a href="Plugin_Proguard.html">Proguard</a></span>
</nav>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script src="../../_/js/site.js"></script>
<script async="async" src="../../_/js/vendor/highlight.js"></script>
<script src="../../_/js/vendor/lunr.js"></script>
<script src="../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../.." data-snippet-length="100" data-stylesheet="../../_/css/search.css"></script>
<script async="async" src="../../search-index.js"></script>
  
</body></html>