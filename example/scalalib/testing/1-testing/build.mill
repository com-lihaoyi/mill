// This example demonstrates more details about testing in Mill:

/** See Also: build.mill.yaml */
/** See Also: test/package.mill.yaml */
/** See Also: integration/package.mill.yaml */

// - The ability to have multiple test suites, e.g. unit tests in `test/` and integration
//   tests in `integration/`
//
// - Each test suite having its own set of `mvnDeps` to define the third-party
//   libraries that it needs
//
// - Test-module dependencies, here the `integration` module has a `moduleDeps` on `test`,
//   giving access to code and utilities defined in `test/src/`

// These two test modules will expect their sources to be in their respective `test/` and
// `integration/` folders respectively. This results in a module dependency graph that looks
// like:
// [graphviz]
// ....
// digraph G {
//   rankdir=LR
//   node [shape=box width=0 height=0 style=filled fillcolor=white]
//   "<root-module>" -> "test"
//   "<root-module>" -> "integration"
//   "test" -> "integration"
// }
// ....
//
//
//
// You can use Mill's task query syntax to select
// the test modules which you want to run

//// SNIPPET:USAGE
/** Usage

> ./mill '{test,integration}' # run both test suites
+ qux.QuxTests.hello...
+ qux.QuxTests.world...
+ qux.QuxIntegrationTests.helloworld...

> ./mill __.integration # run all integration test suites

> ./mill __.test # run all normal test suites

> ./mill __.testForked # run all test suites of any kind

*/
//// SNIPPET:END

// === Selecting Test Classes or Test Cases
// To select tests to run on a class or test-case granularity, you can pass parameters
// to the test framework at the command line.

//// SNIPPET:RUNSINGLE
// e.g. {utest-github-url}[uTest framework] used in this example lets you pass in a
// selector to decide which individual test case to run via:
/** Usage

> ./mill test qux.QuxTests
...qux.QuxTests...hello ...
...qux.QuxTests...world ...
Tests: 2, Passed: 2, Failed: 0

> ./mill test qux.QuxTests.hello
...qux.QuxTests...hello ...
Tests: 1, Passed: 1, Failed: 0

*/

// For more details on testing in Mill, see
// xref:{language-small}lib/testing.adoc[Testing {language} Projects]
//// SNIPPET:END
