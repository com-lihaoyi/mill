package build
import mill._, pythonlib._

object foo extends PythonModule {

  def mainScript = Task.Source { millSourcePath / "src" / "foo.py" }

  def moduleDeps = Seq(bar)

  object test extends PythonTests with TestModule.Unittest {
    def moduleDeps = super.moduleDeps ++ Seq(bar.test)

  }

}

object bar extends PythonModule {

  def mainScript = Task.Source { millSourcePath / "src" / "bar.py" }

  object test extends PythonTests with TestModule.Unittest

}

/** Usage

> ./mill foo.test
...Using BarTestUtils.bar_assert_equals...
...test_equal_string (test.TestScript...)...ok...
...Ran 1 test...
...OK...

> ./mill bar.test
...Using BarTestUtils.bar_assert_equals...
...test_mean (test.TestScript...)...ok...
...Ran 1 test...
...OK...

*/
