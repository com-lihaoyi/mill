package build
import mill._, javalib._, scalalib._

// Dependency module - changes here should trigger tests in dependent modules
object bar extends JavaModule {
  def javacOptions = Seq("-source", "11", "-target", "11")
}

object foo extends JavaModule {
  def javacOptions = Seq("-source", "11", "-target", "11")
  def moduleDeps = Seq(bar)

  object test extends JavaTests with TestModule.Junit4 {
    def junit4Version = "4.13.2"
    def mvnDeps = super.mvnDeps() ++ Seq(
      mvn"com.novocode:junit-interface:0.11"
    )
  }
}

// Scala module to test testQuick works with Scala
object qux extends ScalaModule {
  def scalaVersion = "2.13.16"

  object test extends ScalaTests with TestModule.Utest {
    def utestVersion = "0.8.5"
  }
}
