package build.nested.nested

import mill.javalib._
import mill.javalib.publish._
import mill.scalalib._

object `package` extends PublishModule with SbtModule {

  def scalaVersion = "2.12.3"

  def scalacOptions = super.scalacOptions() ++ Seq(
    "-unchecked",
    "-feature",
    "-language:existentials",
    "-language:higherKinds",
    "-language:implicitConversions",
    "-language:postfixOps",
    "-deprecation",
    "-encoding",
    "utf8"
  )

  def scalacPluginMvnDeps = super.scalacPluginMvnDeps() ++
    Seq(mvn"org.wartremover::wartremover:2.2.1")

  def mvnDeps = super.mvnDeps() ++ Seq(
    mvn"io.netty:netty-transport-native-epoll:4.1.118.Final;classifier=linux-x86_64;type=Some(pom);exclude=io.netty:netty-transport-native-epoll"
  )

  def pomSettings = PomSettings(
    "This is an sbt sample project for testing Mill's init command.",
    "com.pbassiner",
    "https://github.com/com-lihaoyi/mill",
    Seq(License(
      "Apache-2.0",
      "Apache-2.0",
      "https://www.apache.org/licenses/LICENSE-2.0.txt",
      false,
      false,
      ""
    )),
    VersionControl(
      Some("https://github.com/com-lihaoyi/mill"),
      Some("scm:git:https://github.com/com-lihaoyi/mill.git"),
      None,
      None
    ),
    Seq(Developer("johnd", "John Doe", "https://example.com/johnd", None, None))
  )

  def publishVersion = "0.1.0-SNAPSHOT"

}
