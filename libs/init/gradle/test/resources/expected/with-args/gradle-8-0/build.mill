//| mill-version: SNAPSHOT
//| mill-jvm-version: system
package build
import mill.*
import mill.javalib.*
import mill.javalib.errorprone.ErrorProneModule
object `package` extends Module {

  object app extends MavenModule {

    def moduleDeps = Seq(build.utilities)

    def mvnDeps = Seq(mvn"org.apache.commons:commons-text")

    def depManagement = Seq(mvn"org.apache.commons:commons-text:1.9")

    def javacOptions = Seq("-source", "17", "-target", "17")

  }

  object list extends MavenModule, ErrorProneModule {

    def depManagement = Seq(mvn"org.apache.commons:commons-text:1.9")

    def javacOptions = Seq("-source", "17", "-target", "17")

    def errorProneVersion = "2.28.0"

    def errorProneJavacEnableOptions =
      Seq("-XDshould-stop.ifError=FLOW", "-XDshouldStopPolicyIfError=FLOW")

  }

  object utilities extends MavenModule, ErrorProneModule {

    def moduleDeps = Seq(build.list)

    def depManagement = Seq(mvn"org.apache.commons:commons-text:1.9")

    def javacOptions = Seq("-source", "17", "-target", "17")

    def errorProneVersion = "2.28.0"

    def errorProneJavacEnableOptions =
      Seq("-XDshould-stop.ifError=FLOW", "-XDshouldStopPolicyIfError=FLOW")

  }
}
