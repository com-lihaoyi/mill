mill-version: SNAPSHOT
mill-jvm-version: system
extends: Module

object app:
  extends: millbuild.ProjectBaseModule
  moduleDeps: [utilities]
  mvnDeps:
  - org.apache.commons:commons-text
  
  object test:
    extends: [ProjectBaseTests, TestModule.Junit5]

object list:
  extends: [millbuild.ProjectBaseModule, mill.javalib.errorprone.ErrorProneModule]
  errorProneDeps:
  - com.google.errorprone:error_prone_core:2.28.0
  errorProneJavacEnableOptions: [-XDshould-stop.ifError=FLOW, -XDshouldStopPolicyIfError=FLOW]
  
  object test:
    extends: [ProjectBaseTests, mill.javalib.errorprone.ErrorProneModule, TestModule.Junit5]
    errorProneDeps:
    - com.google.errorprone:error_prone_core:2.28.0
    errorProneOptions: [-XepCompilingTestOnlyCode]
    errorProneJavacEnableOptions: [-XDshould-stop.ifError=FLOW, -XDshouldStopPolicyIfError=FLOW]

object utilities:
  extends: [millbuild.ProjectBaseModule, mill.javalib.errorprone.ErrorProneModule]
  moduleDeps: [list]
  errorProneDeps:
  - com.google.errorprone:error_prone_core:2.28.0
  errorProneJavacEnableOptions: [-XDshould-stop.ifError=FLOW, -XDshouldStopPolicyIfError=FLOW]
