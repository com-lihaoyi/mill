diff --git a/build.sc b/build.sc
index dd0af490ea..8cb39371b2 100644
--- a/build.sc
+++ b/build.sc
@@ -20,8 +20,8 @@ import mill.define.Cross

 // plugins and dependencies
 import $meta._
-import $file.ci.shared
-import $file.ci.upload
+import build_.ci.shared
+import build_.ci.upload

 object Settings {
   val pomOrg = "com.lihaoyi"
diff --git a/ci/shared.sc b/ci/shared.sc
index 57bb0eec30..7144723962 100644
--- a/ci/shared.sc
+++ b/ci/shared.sc
@@ -1,3 +1,4 @@
+package build.ci
 /**
  * Utility code that is shared between our SBT build and our Mill build. SBT
  * calls this by shelling out to Ammonite in a subprocess, while Mill loads it
diff --git a/ci/upload.sc b/ci/upload.sc
index 409af098bf..93a4794672 100644
--- a/ci/upload.sc
+++ b/ci/upload.sc
@@ -1,4 +1,4 @@
-#!/usr/bin/env amm
+package build.ci

 import scalaj.http._
 import mainargs.main
